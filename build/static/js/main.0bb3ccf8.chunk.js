(this["webpackJsonparuba-sc360"]=this["webpackJsonparuba-sc360"]||[]).push([[0],{1112:function(e,t,a){},1117:function(e,t,a){},1134:function(e,t,a){},1135:function(e,t,a){},1159:function(e,t,a){},1240:function(e,t,a){},1241:function(e,t,a){},1242:function(e,t,a){},1247:function(e,t,a){},1248:function(e,t,a){},1293:function(e,t,a){},1294:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(16),o=a.n(l),s=a(36),i=a(625),c=a(93),u=a(673),d=a(626),p=a(8),m=a.n(p),f=a(7),g="LOGIN_REQUEST",h="LOGIN_SUCCESS",y="LOGIN_FAILURE",E="LOGOUT",b="SAVE_CREDENTIALS",v="OPERATIONAL_STATUS_REQUEST",x="OPERATIONAL_STATUS_SUCCESS",S="OPERATIONAL_STATUS_FAILURE",D="KPI_DATA_SUCCESS",O="RUN_TOUR",C="PERSONA_REQUEST",k="PERSONA_SUCCESS",R="PERSONA_FAILURE",w="GRID_ITEM_REQUEST",j="GRID_ITEM_SUCCESS",I="GRID_ITEM_FAILURE",T="SHOW_HIDE_REQUEST",A="SHOW_GRID_ITEM_SUCCESS",P="SHOW_GRID_ITEM_FALIURE",L="USER_REQUEST",N="USER_SUCCESS",G="USER_FAILURE",U="USER_CREATE_REQUEST",_="USER_CREATE_SUCCESS",M="USER_CREATE_FAILURE",V="USER_UPDATE_REQUEST",B="USER_UPDATE_SUCCESS",F="USER_UPDATE_FAILURE",z="USER_DELETE_REQUEST",W="USER_DELETE_SUCCESS",H="USER_DELETE_FAILURE",J="USER_GROUP_REQUEST",Y="USER_GROUP_SUCCESS",q="USER_GROUP_FAILURE",Q="USER_GROUP_CREATE_REQUEST",K="USER_GROUP_CREATE_SUCCESS",$="USER_GROUP_CREATE_FAILURE",X="USER_GROUP_DELETE_REQUEST",Z="USER_GROUP_DELETE_SUCCESS",ee="USER_GROUP_DELETE_FAILURE",te="UG_ADD_USER_REQUEST",ae="UG_ADD_USER_SUCCESS",ne="UG_ADD_USER_FAILURE",re="UG_DELETE_USER_REQUEST",le="UG_DELETE_USER_SUCCESS",oe="UG_DELETE_USER_FAILURE",se="JOB_ROLE_REQUEST",ie="JOB_ROLE_SUCCESS",ce="JOB_ROLE_FAILURE",ue="TABLEDATA_REQUEST",de="TABLEDATA_SUCCESS",pe="TABLEDATA_FAILURE",me="VARIANTS_REQUEST",fe="VARIANTS_SUCCESS",ge="VARIANTS_FAILURE",he="TOGGLE_LOCK",ye="SELECT_DROPDOWN",Ee="GET_ROW_DETAIL",be="REMOVE_ROW_DETAIL",ve="ADD_MESSAGE_REQUEST",xe="ADD_MESSAGE_SUCCESS",Se="ADD_LAST_MESSAGE_REQUEST",De="ADD_LAST_MESSAGE_SUCCESS",Oe="REMOVE_LAST_MESSAGE_REQUEST",Ce="REMOVE_LAST_MESSAGE_SUCCESS",ke="SEARCH_MESSAGE_REQUEST",Re="SEARCH_MESSAGE_SUCCESS",we="GET_NOTIFICATION_REQUEST",je="GET_NOTIFICATION_SUCCESS",Ie="GET_NOTIFICATION_FAILURE",Te="ADD_NOTIFICATION_REQUEST",Ae="ADD_NOTIFICATION_SUCCESS",Pe="ADD_NOTIFICATION_FAILURE",Le="ADD_FILTERS",Ne="JOB_ROLE_CREATE_REQUEST",Ge="JOB_ROLE_CREATE_SUCCESS",Ue="JOB_ROLE_CREATE_FAILURE",_e="JOB_ROLE_UPDATE_REQUEST",Me="JOB_ROLE_UPDATE_SUCCESS",Ve="JOB_ROLE_UPDATE_FAILURE",Be="JOB_ROLE_DELETE_REQUEST",Fe="JOB_ROLE_DELETE_SUCCESS",ze="JOB_ROLE_DELETE_FAILURE",We="SYSTEM_ROLE_REQUEST",He="SYSTEM_ROLE_SUCCESS",Je="SYSTEM_ROLE_FAILURE",Ye="SYSTEM_ROLE_CREATE_REQUEST",qe="SYSTEM_ROLE_CREATE_SUCCESS",Qe="SYSTEM_ROLE_CREATE_FAILURE",Ke="SYSTEM_ROLE_UPDATE_REQUEST",$e="SYSTEM_ROLE_UPDATE_SUCCESS",Xe="SYSTEM_ROLE_UPDATE_FAILURE",Ze="SYSTEM_ROLE_DELETE_REQUEST",et="SYSTEM_ROLE_DELETE_SUCCESS",tt="SYSTEM_ROLE_DELETE_FAILURE",at="USER_SETTINGS_REQUEST",nt="USER_SETTINGS_SUCCESS",rt="USER_SETTINGS_UPDATE_DASHBOARD",lt="USER_SETTINGS_UPDATE_REPORTS",ot="USER_SETTINGS_UPDATE_ACCOUNT",st="USER_SETTINGS_UPDATE_SUCCESS",it="ADD_DROPDOWN_VALUE_REQUEST",ct="ADD_DROPDOWN_VALUE_SUCCESS",ut=a(204),dt=a(168),pt=a.n(dt),mt={BASE_URL:"https://flashaisc360server.azurewebsites.net",NOTIFICATION_OVERFLOW_COUNT:10,MESSAGE_PER_PAGE:10},ft=a(12);function gt(e,t){return!(e.every((function(e){return t.includes(e)}))&&t.every((function(t){return e.includes(t)})))}function ht(e){return e.valid?null:r.a.createElement("div",{className:"error-msg"},e.message)}var yt=function(e){var t=(e.sRole||{}).sRole,a=(e.jobRole||{}).jobRole;return{isAdmin:"Admin"===t,isSupport:"Support"===t,isPlanner:"Planner"===t,isSupplyPlanner:"SP"===a,isDemandPlanner:"DP"===a}},Et=function(e,t){return Object(ft.a)(Object(ft.a)({},e),t)},bt=function(){var e=Object(ut.a)(m.a.mark((function e(t,a){var n,r,l,o,s,i,c,u,d,p,f,g,h,y,E,b,v,x,S,D;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pt.a.post("".concat(mt.BASE_URL,"/login"),a);case 2:return n=e.sent,r=n.data.data,l=r.userGroupID,o=r.token,s=r.sessionInfo,i=r.id,c=r.name,u=r.firstName,d=r.lastName,p=r.emailNotification,f=r.appNotifications,g=r.businessUpdates,h=r.email,y=r.role,E=r.jobRole,b=r.jobRoleID,v=r.sRole,x=r.sRoleID,S={userGroupID:l,token:o,sessionInfo:s,id:i,name:c,firstName:u,lastName:d,emailNotification:p,appNotifications:f,businessUpdates:g,email:h,role:y,jobRole:E,jobRoleID:b,sRole:v,sRoleID:x},m=s.JWT_Expiry.toLowerCase(),D=m.indexOf("s")>-1?parseInt(m.split("s")[0]):m.indexOf("m")>-1?60*parseInt(m.split("m")[0]):m.indexOf("h")>-1?3600*parseInt(m.split("h")[0]):m.indexOf("d")>-1?86400*parseInt(m.split("d")[0]):void 0,t.set("Authorization",o,{path:"/",expires:new Date,maxAge:D}),t.set("x-api-key",i,{path:"/",expires:new Date,maxAge:D}),t.set("idleTime",s.IDLE_TIMEOUT,{path:"/",expires:new Date,maxAge:1e4}),t.set("sessionTokenExpiryDate",xt(D),{maxAge:D}),vt(t,D,a),e.abrupt("return",S);case 12:case"end":return e.stop()}var m}),e)})));return function(t,a){return e.apply(this,arguments)}}(),vt=function(e,t,a){window.refreshTimeout||(window.refreshTimeout=setTimeout((function(){window.refreshTimeout=null,bt(e,a)}),1e3*(t<=60?0:t-60)))},xt=function(e){var t=new Date;return t.setSeconds(t.getSeconds()+e),t},St=m.a.mark(Ct),Dt=m.a.mark(kt),Ot=m.a.mark(Rt);function Ct(e){var t;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,bt(e.cookies,e.payload);case 3:return t=a.sent,localStorage.setItem("logoutFlag",JSON.stringify({logoutFlag:!1})),localStorage.setItem("logoutTime",JSON.stringify({logoutTime:null})),a.next=8,Object(f.c)({type:h,payload:t});case 8:a.next=15;break;case 10:return a.prev=10,a.t0=a.catch(0),a.next=14,Object(f.c)({type:y,payload:a.t0.message});case 14:console.log("e:",a.t0);case 15:case"end":return a.stop()}}),St,null,[[0,10]])}function kt(e){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.b)((function(){return console.log("In workerLogoutSaga")}));case 2:case"end":return e.stop()}}),Dt)}function Rt(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.e)(g,Ct);case 2:return e.next=4,Object(f.e)(E,kt);case 4:case"end":return e.stop()}}),Ot)}var wt=pt.a.create({baseURL:mt.BASE_URL}),jt=a(18),It=m.a.mark(At),Tt=m.a.mark(Pt);function At(e){var t,a,n,r,l,o,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(f.b)((function(){return wt.get("/kpi")}));case 3:return t=e.sent,a=Object(jt.orderBy)(t.data.data.Items,["favourite","latest"],["desc","desc"]),e.next=7,Object(f.c)({type:D,payload:a});case 7:return e.next=9,Object(f.b)((function(){return wt.get("/filters/geo")}));case 9:return n=e.sent,e.next=12,Object(f.b)((function(){return wt.get("/filters/productLine")}));case 12:return r=e.sent,e.next=15,Object(f.b)((function(){return wt.get("/filters/sku")}));case 15:return l=e.sent,e.next=18,Object(f.b)((function(){return wt.get("/filters/unitType")}));case 18:return o=e.sent,s={dropDownValue:{geo:n.data.data.data,unitType:o.data.data.data,productLine:r.data.data.data,sku:l.data.data.data},selectedValue:{geo:n.data.data.selected[0].value,unitType:o.data.data.selected[0].value,productLine:r.data.data.selected[0].value,sku:l.data.data.selected[0].value}},e.next=22,Object(f.c)({type:x,payload:s});case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),console.log("e:",e.t0);case 27:case"end":return e.stop()}}),It,null,[[0,24]])}function Pt(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.e)(v,At);case 2:case"end":return e.stop()}}),Tt)}var Lt=m.a.mark(Gt),Nt=m.a.mark(Ut);function Gt(e){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("action in workerJoyRideSaga::",e),t.next=3,Object(f.b)((function(){return console.log("In workerJoyRideSaga")}));case 3:case"end":return t.stop()}}),Lt)}function Ut(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.e)(O,Gt);case 2:case"end":return e.stop()}}),Nt)}var _t=m.a.mark(Bt),Mt=m.a.mark(Ft),Vt=m.a.mark(zt);function Bt(e){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(f.b)((function(){return wt.get("/cardDetails")}));case 3:return t=e.sent,a=Object(jt.cloneDeep)(t.data.data.Items).map((function(e){return e.cardName=e.cardName.toUpperCase(),e})),e.next=7,Object(f.c)({type:j,payload:a});case 7:e.next=14;break;case 9:return e.prev=9,e.t0=e.catch(0),e.next=13,Object(f.c)({type:I});case 13:console.log("e:",e.t0);case 14:case"end":return e.stop()}}),_t,null,[[0,9]])}function Ft(e){var t,a;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(f.b)((function(){return wt.put("/cardDetails/".concat(e.payload.cardId),{isChecked:e.payload.checked})}));case 3:return t=n.sent,a={cardId:e.payload.cardId,isChecked:Object(jt.cloneDeep)(t).data.data.Attributes.isChecked},n.next=7,Object(f.c)({type:A,payload:a});case 7:n.next=14;break;case 9:return n.prev=9,n.t0=n.catch(0),n.next=13,Object(f.c)({type:P});case 13:console.log("e:",n.t0);case 14:case"end":return n.stop()}}),Mt,null,[[0,9]])}function zt(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.e)(w,Bt);case 2:return e.next=4,Object(f.e)(T,Ft);case 4:case"end":return e.stop()}}),Vt)}var Wt=m.a.mark(Jt),Ht=m.a.mark(Yt);function Jt(e){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),Wt)}function Yt(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.e)(C,Jt);case 2:case"end":return e.stop()}}),Ht)}var qt=m.a.mark(Zt),Qt=m.a.mark(ea),Kt=m.a.mark(ta),$t=m.a.mark(aa),Xt=m.a.mark(na);function Zt(e){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(f.b)((function(){return wt.get("/users")}));case 3:return t=e.sent,e.next=6,Object(f.c)({type:N,payload:t.data.data});case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,Object(f.c)({type:G});case 12:case"end":return e.stop()}}),qt,null,[[0,8]])}function ea(e){var t;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(f.b)((function(){return wt.post("/users",Object(ft.a)({},e.payload.userData))}));case 3:return t=a.sent,a.next=6,Object(f.c)({type:_,payload:t.data.data,user:e.payload.userData});case 6:e.success&&e.success(),a.next=14;break;case 9:return a.prev=9,a.t0=a.catch(0),a.next=13,Object(f.c)({type:M});case 13:e.failure&&e.failure();case 14:case"end":return a.stop()}}),Qt,null,[[0,9]])}function ta(e){var t;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(f.b)((function(){return wt.put("/users",Object(ft.a)({},e.payload.userData))}));case 3:return t=a.sent,a.next=6,Object(f.c)({type:B,payload:t.data.data,user:e.payload.userData});case 6:e.success&&e.success(),a.next=14;break;case 9:return a.prev=9,a.t0=a.catch(0),a.next=13,Object(f.c)({type:F});case 13:e.failure&&e.failure();case 14:case"end":return a.stop()}}),Kt,null,[[0,9]])}function aa(e){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(f.b)((function(){return wt.delete("/users",{data:{userID:e.payload}})}));case 3:return t.sent,t.next=6,Object(f.c)({type:W,payload:e.payload});case 6:e.success&&e.success(),t.next=14;break;case 9:return t.prev=9,t.t0=t.catch(0),t.next=13,Object(f.c)({type:H});case 13:e.failure&&e.failure();case 14:case"end":return t.stop()}}),$t,null,[[0,9]])}function na(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.e)(L,Zt);case 2:return e.next=4,Object(f.e)(U,ea);case 4:return e.next=6,Object(f.e)(V,ta);case 6:return e.next=8,Object(f.e)(z,aa);case 8:case"end":return e.stop()}}),Xt)}var ra=m.a.mark(ua),la=m.a.mark(da),oa=m.a.mark(pa),sa=m.a.mark(ma),ia=m.a.mark(fa),ca=m.a.mark(ga);function ua(e){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(f.b)((function(){return wt.get("/userGroups")}));case 3:return t=e.sent,e.next=6,Object(f.c)({type:Y,payload:t.data.data});case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,Object(f.c)({type:q});case 12:case"end":return e.stop()}}),ra,null,[[0,8]])}function da(e){var t;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(f.b)((function(){return wt.post("/userGroups/add",e.payload)}));case 3:return t=a.sent,a.next=6,Object(f.c)({type:K,payload:t.data.data});case 6:e.success&&e.success(),a.next=14;break;case 9:return a.prev=9,a.t0=a.catch(0),a.next=13,Object(f.c)({type:$});case 13:e.failure&&e.failure();case 14:case"end":return a.stop()}}),la,null,[[0,9]])}function pa(e){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(f.b)((function(){return wt.delete("/userGroups/".concat(e.payload))}));case 3:return t.sent,t.next=6,Object(f.c)({type:Z,payload:e.payload});case 6:e.success&&e.success(),t.next=14;break;case 9:return t.prev=9,t.t0=t.catch(0),t.next=13,Object(f.c)({type:ee});case 13:e.failure&&e.failure();case 14:case"end":return t.stop()}}),oa,null,[[0,9]])}function ma(e){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(f.b)((function(){return wt.put("/userGroups/assign",e.payload)}));case 3:return t.next=5,Object(f.c)({type:ae,payload:e.payload,user:e.user});case 5:t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(0),t.next=11,Object(f.c)({type:ne});case 11:case"end":return t.stop()}}),sa,null,[[0,7]])}function fa(e){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(f.b)((function(){return wt.put("/userGroups/unassign",e.payload)}));case 3:return t.next=5,Object(f.c)({type:le,payload:e.payload,user:e.user});case 5:t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(0),t.next=11,Object(f.c)({type:oe});case 11:case"end":return t.stop()}}),ia,null,[[0,7]])}function ga(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.e)(J,ua);case 2:return e.next=4,Object(f.e)(te,ma);case 4:return e.next=6,Object(f.e)(re,fa);case 6:return e.next=8,Object(f.e)(Q,da);case 8:return e.next=10,Object(f.e)(X,pa);case 10:case"end":return e.stop()}}),ca)}var ha={OPEN_PO:"openpoID",BACKLOG:"backlogID",SKU:"skuID",INVENTORY:"inventoryID",ORDER:"orderKey",PERSID_BACKLOG:"backlog",PERSID_BACKLOGDETAILED:"backlogDetailed",PERSID_CONSOL:"consol",PERSID_OPENPO:"openPo",PERSID_POVSBACKLOG:"poVsBacklog",PERSID_FREIGHTORDERSEA:"freightOrderSeaSnapshot",PERSID_SHORTAGE:"shortage",PERSID_OPENORDER:"openOrder",PERSID_SHIPMENTS:"shipments",PERSID_DEALTRACKER:"dealTracker",PERSID_BUILDPLAN:"buildPlan",PERSID_BOOKINGVSFORECAST:"bookingVsForecast",ACTUAL_PLANS:"actualsPlans",OPENPO_DETAILED:"openPoDetailed ",PD_INVENTORY:"inventory",SUPPLIERS:"suppliers",REBALANCE_QUANTITY:"rebalanceQuantity",TAG_LIST:["#general","#cancelbacklog","#escalate","#excess","#forecast","#rebalance","#requestForInformation","#ringfence","#shortage-raisePO","#shortage-repackageBTS","#shortage-reconfigureLM"]},ya=m.a.mark(ba),Ea=m.a.mark(va);function ba(e){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),ya)}function va(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.e)(ue,ba);case 2:case"end":return e.stop()}}),Ea)}var xa=m.a.mark(Da),Sa=m.a.mark(Oa);function Da(e){var t;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(f.b)((function(){return wt.get("/variants?persID=".concat(e.payload.persID,"&userID=").concat(e.payload.userId))}));case 3:return t=a.sent,a.next=6,Object(f.c)({type:fe,payload:t.data.data,persID:e.payload.persID});case 6:a.next=12;break;case 8:return a.prev=8,a.t0=a.catch(0),a.next=12,Object(f.c)({type:ge});case 12:case"end":return a.stop()}}),xa,null,[[0,8]])}function Oa(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.d)(me,Da);case 2:case"end":return e.stop()}}),Sa)}var Ca=m.a.mark(Ga),ka=m.a.mark(Ua),Ra=m.a.mark(_a),wa=m.a.mark(Ma),ja=m.a.mark(Va),Ia=m.a.mark(Ba),Ta=m.a.mark(Fa),Aa=m.a.mark(za),Pa=m.a.mark(Wa),La=m.a.mark(Ha),Na=m.a.mark(Ja);function Ga(e){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),Ca)}function Ua(e){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),ka)}function _a(e){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),Ra)}function Ma(e){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),wa)}function Va(e){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(f.c)({type:xe,payload:e.payload});case 2:case"end":return t.stop()}}),ja)}function Ba(e){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(f.c)({type:De,payload:e.payload});case 2:case"end":return t.stop()}}),Ia)}function Fa(e){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.c)({type:Ce});case 2:case"end":return e.stop()}}),Ta)}function za(e){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),Aa)}function Wa(e){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(f.b)((function(){return wt.get("/users/comments")}));case 3:return t=e.sent,e.next=6,Object(f.c)({type:je,payload:t.data.data.results});case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,Object(f.c)({type:Ie});case 12:case"end":return e.stop()}}),Pa,null,[[0,8]])}function Ha(e){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(f.c)({type:Ae,payload:e.payload});case 3:t.next=9;break;case 5:return t.prev=5,t.t0=t.catch(0),t.next=9,Object(f.c)({type:Pe});case 9:case"end":return t.stop()}}),La,null,[[0,5]])}function Ja(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.e)(he,Ga);case 2:return e.next=4,Object(f.e)(ye,Ua);case 4:return e.next=6,Object(f.e)(Ee,_a);case 6:return e.next=8,Object(f.e)(be,Ma);case 8:return e.next=10,Object(f.e)(ve,Va);case 10:return e.next=12,Object(f.e)(Se,Ba);case 12:return e.next=14,Object(f.e)(Oe,Fa);case 14:return e.next=16,Object(f.e)(ke,za);case 16:return e.next=18,Object(f.e)(we,Wa);case 18:return e.next=20,Object(f.e)(Te,Ha);case 20:case"end":return e.stop()}}),Na)}var Ya=m.a.mark(Xa),qa=m.a.mark(Za),Qa=m.a.mark(en),Ka=m.a.mark(tn),$a=m.a.mark(an);function Xa(e){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(f.b)((function(){return wt.get("/job/roles")}));case 3:return t=e.sent,console.log("jobData",t),e.next=7,Object(f.c)({type:ie,payload:t.data.data});case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(0),e.next=13,Object(f.c)({type:ce});case 13:case"end":return e.stop()}}),Ya,null,[[0,9]])}function Za(e){var t;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(f.b)((function(){return wt.post("/job/roles",Object(ft.a)({},e.payload.jobData))}));case 3:return t=a.sent,a.next=6,Object(f.c)({type:Ge,payload:t.data.data,job:e.payload.jobData});case 6:a.next=12;break;case 8:return a.prev=8,a.t0=a.catch(0),a.next=12,Object(f.c)({type:Ue});case 12:case"end":return a.stop()}}),qa,null,[[0,8]])}function en(e){var t;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(f.b)((function(){return wt.put("/job/roles",Object(ft.a)({},e.payload.jobData))}));case 3:return t=a.sent,a.next=6,Object(f.c)({type:Me,payload:t.data.data,job:e.payload.jobData});case 6:a.next=12;break;case 8:return a.prev=8,a.t0=a.catch(0),a.next=12,Object(f.c)({type:Ve});case 12:case"end":return a.stop()}}),Qa,null,[[0,8]])}function tn(e){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(f.b)((function(){return wt.delete("/job/roles",{data:{jobID:e.payload}})}));case 3:return t.sent,t.next=6,Object(f.c)({type:Fe,payload:e.payload});case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(f.c)({type:ze});case 12:case"end":return t.stop()}}),Ka,null,[[0,8]])}function an(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.e)(se,Xa);case 2:return e.next=4,Object(f.e)(Ne,Za);case 4:return e.next=6,Object(f.e)(_e,en);case 6:return e.next=8,Object(f.e)(Be,tn);case 8:case"end":return e.stop()}}),$a)}var nn=m.a.mark(cn),rn=m.a.mark(un),ln=m.a.mark(dn),on=m.a.mark(pn),sn=m.a.mark(mn);function cn(e){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(f.b)((function(){return wt.get("/system/roles")}));case 3:return t=e.sent,e.next=6,Object(f.c)({type:He,payload:t.data.data});case 6:console.log(t.data.data,"rolesData"),e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(0),e.next=13,Object(f.c)({type:Je});case 13:case"end":return e.stop()}}),nn,null,[[0,9]])}function un(e){var t;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(f.b)((function(){return wt.post("/system/roles",Object(ft.a)({},e.payload.roleData))}));case 3:return t=a.sent,a.next=6,Object(f.c)({type:qe,payload:t.data.data,system:e.payload.roleData});case 6:a.next=12;break;case 8:return a.prev=8,a.t0=a.catch(0),a.next=12,Object(f.c)({type:Qe});case 12:case"end":return a.stop()}}),rn,null,[[0,8]])}function dn(e){var t;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(f.b)((function(){return wt.put("/system/roles",Object(ft.a)({},e.payload.roleData))}));case 3:return t=a.sent,a.next=6,Object(f.c)({type:$e,payload:t.data.data,system:e.payload.roleData});case 6:a.next=12;break;case 8:return a.prev=8,a.t0=a.catch(0),a.next=12,Object(f.c)({type:Xe});case 12:case"end":return a.stop()}}),ln,null,[[0,8]])}function pn(e){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(f.b)((function(){return wt.delete("/system/roles",{data:{systemID:e.payload}})}));case 3:return t.sent,t.next=6,Object(f.c)({type:et,payload:e.payload});case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(f.c)({type:tt});case 12:case"end":return t.stop()}}),on,null,[[0,8]])}function mn(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.e)(We,cn);case 2:return e.next=4,Object(f.e)(Ye,un);case 4:return e.next=6,Object(f.e)(Ke,dn);case 6:return e.next=8,Object(f.e)(Ze,pn);case 8:case"end":return e.stop()}}),sn)}var fn=m.a.mark(bn),gn=m.a.mark(vn),hn=m.a.mark(xn),yn=m.a.mark(Sn),En=m.a.mark(Dn);function bn(e){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(f.b)((function(){return wt.get("/userSettings")}));case 3:return t=e.sent,e.next=6,Object(f.c)({type:nt,payload:t.data.data});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error in userSettings saga:",e.t0);case 11:case"end":return e.stop()}}),fn,null,[[0,8]])}function vn(e){var t,a;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(f.b)((function(){return wt.put("/updateSettings",e.payload)}));case 3:return t=n.sent,a={dashboards:t.data.data.Attributes.cardsVisible},n.next=7,Object(f.c)({type:st,payload:{key:"dashboards",data:a}});case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log("Error in userSettings saga:",n.t0);case 12:case"end":return n.stop()}}),gn,null,[[0,9]])}function xn(e){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),hn)}function Sn(e){var t;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(f.b)((function(){return wt.put("/updateSettings",e.payload)}));case 3:return t=a.sent,a.next=6,Object(f.c)({type:st,payload:{key:"accountSettings",data:t.data.data.Attributes}});case 6:a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log("Error in userSettings saga:",a.t0);case 11:case"end":return a.stop()}}),yn,null,[[0,8]])}function Dn(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.e)(at,bn);case 2:return e.next=4,Object(f.e)(rt,vn);case 4:return e.next=6,Object(f.e)(lt,xn);case 6:return e.next=8,Object(f.e)(ot,Sn);case 8:case"end":return e.stop()}}),En)}var On=m.a.mark(kn),Cn=m.a.mark(Rn);function kn(e){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(f.c)({type:ct,payload:e.payload});case 3:t.next=9;break;case 5:return t.prev=5,t.t0=t.catch(0),t.next=9,Object(f.c)({type:y,payload:t.t0.message});case 9:case"end":return t.stop()}}),On,null,[[0,5]])}function Rn(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.e)(it,kn);case 2:case"end":return e.stop()}}),Cn)}var wn=m.a.mark(jn);function jn(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)([Rt(),Pt(),Ut(),zt(),Yt(),na(),ga(),va(),Oa(),Ja(),an(),mn(),Dn(),Rn()]);case 2:case"end":return e.stop()}}),wn)}var In={login:{userName:null,password:null,userInfo:{}},operationalStatus:{kpiData:[],editCardData:{dropDownValue:{geo:[],unitType:[],productLine:[],sku:[]},selectedValue:{geo:"",unitType:"",productLine:"",sku:""}}},responsiveGrid:{deletedGridItemIndex:null,visibleGridItemIndex:null,gridItemList:[]},joyRide:{runTour:!1},personaData:null,users:[],userGroups:[],tableData:[],variants:{},communication:{isLocked:!1,dropDownValue:"product_base",selectedRowDetail:{},messages:[],totalMessages:0,lastMessageObj:{},notification:[],filterDrawer:{checkedListTag:[],checkedListGroup:[],emails:"",startDate:"",endDate:"",text:""}},jobRoles:[],systemRoles:[],userSettings:{},masterFilter:{productLine:"",region:"",planner:""}},Tn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In.login,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Et(e,{userInfo:t.payload});case y:case E:return e;case b:return Et(e,{userName:t.payload.encryptedUserName,password:t.payload.encryptedPassword});default:return e}},An=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In.operationalStatus,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return Object(ft.a)(Object(ft.a)({},e),{},{kpiData:t.payload});case x:return Object(ft.a)(Object(ft.a)({},e),{},{editCardData:t.payload});case S:return{};default:return e}},Pn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In.joyRide,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(ft.a)(Object(ft.a)({},e),{},{runTour:t.payload});default:return e}},Ln=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In.responsiveGrid,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(ft.a)(Object(ft.a)({},e),{},{gridItemList:t.payload});case I:return Object(ft.a)(Object(ft.a)({},e),{},{gridItemList:[]});case A:var a=Object(jt.cloneDeep)(e).gridItemList.map((function(e){return e.cardId===t.payload.cardId&&(e.isChecked=t.payload.isChecked),e}));return Object(ft.a)(Object(ft.a)({},e),{},{gridItemList:a});case P:default:return e}},Nn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In.personaData,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(ft.a)(Object(ft.a)({},e),{},{personaData:t.payload});case R:return Object(ft.a)(Object(ft.a)({},e),{},{personaData:[]});default:return e}},Gn=a(45),Un=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In.users,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return{users:t.payload};case G:return e;case _:return{users:[].concat(Object(Gn.a)(e.users),[Object(ft.a)({},t.payload)])};case M:return e;case B:var a=e.users.map((function(e){return e.userID===t.user.userID?Object(ft.a)(Object(ft.a)({},t.payload),{},{userID:t.user.userID}):e}));return{users:Object(Gn.a)(a)};case F:return e;case W:var n=e.users.filter((function(e){return e.userID!==t.payload}));return{users:Object(Gn.a)(n)};case H:default:return e}},_n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In.userGroups,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return{userGroups:t.payload};case q:return e;case K:return{userGroups:[].concat(Object(Gn.a)(e.userGroups),[Object(ft.a)({},t.payload)])};case $:return e;case Z:var a=e.userGroups.filter((function(e){return e.userGroupID!==t.payload}));return{userGroups:Object(Gn.a)(a)};case ee:return e;case ae:var n=e.userGroups.find((function(e){return t.payload.userGroupID===e.userGroupID}));return n&&n.users&&n.users.push(Object(ft.a)({},t.user)),{userGroups:Object(Gn.a)(e.userGroups)};case ne:return e;case le:var r=e.userGroups.find((function(e){return t.payload.userGroupID===e.userGroupID})),l=r.users&&r.users.filter((function(e){return e.userID!==t.user.userID}));return r.users=l,{userGroups:Object(Gn.a)(e.userGroups)};case oe:default:return e}},Mn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In.tableData,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de:return Object(jt.cloneDeep)(t.payload);case pe:default:return e}},Vn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In.variants,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fe:var a=e;return a[t.persID]=t.payload,Object(jt.cloneDeep)(a);case ge:default:return e}},Bn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In.jobRoles,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie:var a=t.payload&&t.payload.map((function(e){return Object(ft.a)(Object(ft.a)({},e),{},{value:e.jobRoleID,label:e.jobRole})}));return{jobRoles:Object(Gn.a)(a)};case ce:return e;case Ge:return{jobRoles:[].concat(Object(Gn.a)(e.jobRoles),[Object(ft.a)({},t.payload)])};case Ue:return e;case Me:var n=e.jobRoles.map((function(e){return e.jobRoleId===t.jobRole.jobRoleID?Object(ft.a)(Object(ft.a)({},t.payload),{},{jobRoleID:t.jobRole.jobRoleID}):e}));return{jobRoles:Object(Gn.a)(n)};case Ve:return e;case Fe:var r=e.jobRoles.filter((function(e){return e.jobRoleID!==t.payload}));return{jobRoles:Object(Gn.a)(r)};case ze:default:return e}},Fn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In.systemRoles,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case He:var a=t.payload&&t.payload.map((function(e){return Object(ft.a)(Object(ft.a)({},e),{},{value:e.sRoleID,label:e.sRole})}));return{systemRoles:Object(Gn.a)(a)};case Je:return e;case qe:return{systemRoles:[].concat(Object(Gn.a)(e.systemRoles),[Object(ft.a)({},t.payload)])};case Qe:return e;case $e:var n=e.systemRoles.map((function(e){return e.sRoleID===t.systemRole.sRoleID?Object(ft.a)(Object(ft.a)({},t.payload),{},{sRoleID:t.systemRole.sRoleID}):e}));return{systemRoles:Object(Gn.a)(n)};case Xe:return e;case et:var r=e.systemRoles.filter((function(e){return e.sRoleID!==t.payload}));return{systemRoles:Object(Gn.a)(r)};case tt:default:return e}},zn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In.communication,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he:return Et(e,{isLocked:t.payload});case ye:return Et(e,{dropDownValue:t.payload});case Ee:return Et(e,{selectedRowDetail:t.payload});case be:return Et(e,{selectedRowDetail:{}});case xe:var a=t.payload;if(Array.isArray(a)){var n=a.sort((function(e,t){return e.time.localeCompare(t.time)}));return Et(e,{messages:n,totalMessages:n.length})}if("object"===typeof a&&Object.keys(a).length){if(Object.keys(a).includes("child")){var r=Object(jt.cloneDeep)(e).messages;return r.map((function(e){e.commentId==a.commentId&&(e.childThread.push(a.childThread),e.statusProgress=!0,e.statusClosed=!1)})),Et(e,{messages:r})}var l=e.messages.filter((function(e){return e.commentId==a.commentId})).length;if(0===l){var o=Object(jt.cloneDeep)(e.messages);return o.push(a),Et(e,{messages:o})}var s=Object(jt.cloneDeep)(e).messages,i=s.map((function(e){return e.commentId==a.commentId&&(e.statusProgress=a.statusProgress,e.statusClosed=a.statusClosed),e}));return s.push(a),Et(e,{messages:i})}return Et(e,{messages:[]});case De:return Et(e,{lastMessageObj:t.payload});case Ce:return Et(e,{lastMessageObj:{}});case Re:var c=Object(jt.cloneDeep)(e).messages;if(t.payload.results.length&&"1"!==t.payload.pageNo)return c.push.apply(c,Object(Gn.a)(t.payload.results)),c.sort((function(e,t){return e.time.localeCompare(t.time)})),Et(e,{messages:c,totalMessages:t.payload.total});var u=t.payload.results.sort((function(e,t){return e.time.localeCompare(t.time)}));return Et(e,{messages:u,totalMessages:t.payload.total});case je:var d=t.payload.sort((function(e,t){return e.time.localeCompare(t.time)}));return Et(e,{notification:d});case Ae:var p=Object(jt.cloneDeep)(e).notification;p.push(t.payload);var m=p.sort((function(e,t){return e.time.localeCompare(t.time)}));return Et(e,{notification:m});case Le:return Et(e,{filterDrawer:t.payload});default:return e}},Wn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In.userSettings,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nt:return t.payload;case st:var a={};return"dashboards"===t.payload.key?a=Object(ft.a)(Object(ft.a)({},e),{},{dashboards:t.payload.data.dashboards}):"accountSettings"===t.payload.key&&(a=Object(ft.a)(Object(ft.a)({},e),{},{accountSettings:Object(ft.a)(Object(ft.a)({},e.accountSettings),t.payload.data)})),a;default:return e}},Hn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In.masterFilter,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ct:return Et(e,{productLine:t.payload.productLine,region:t.payload.region,planner:t.payload.planner});default:return e}},Jn=Object(c.combineReducers)({login:Tn,operationalStatus:An,joyRide:Pn,responsiveGrid:Ln,persona:Nn,users:Un,userGroups:_n,tableData:Mn,variants:Vn,communication:zn,jobRoles:Bn,systemRoles:Fn,userSettings:Wn,masterFilter:Hn}),Yn=function(e,t){return t.type===E&&(e=void 0),Jn(e,t)},qn=a(439),Qn=a(627),Kn=a.n(Qn),$n=Object(u.a)(),Xn={key:"root",storage:Kn.a,blacklist:["variants","communication","tableData","masterFilter"]},Zn=Object(qn.a)(Xn,Yn),er=Object(d.composeWithDevTools)({}),tr=Object(c.createStore)(Zn,er(Object(c.applyMiddleware)($n))),ar=Object(qn.b)(tr);$n.run(jn);a(773);var nr=a(25),rr=a(26),lr=a(28),or=a(27),sr=(a(774),a(22)),ir=a(676),cr=a(62),ur=a(1297),dr=function(e){var t=e.component,a=Object(ir.a)(e,["component"]),n=Object(ur.a)(),l=Object(sr.a)(n,1)[0].Authorization;return r.a.createElement(cr.b,Object.assign({},a,{render:function(e){return l?r.a.createElement(t,e):r.a.createElement(cr.a,{to:{pathname:"/"}})}}))},pr=a(776);function mr(e){var t,a,n=pr.lib.WordArray.random(16),r=pr.lib.WordArray.random(16).toString(pr.enc.Hex),l=pr.PBKDF2(r,n,{keySize:8,iterations:100}),o=pr.lib.WordArray.random(16),s=pr.AES.encrypt(e,l,{iv:o,padding:pr.pad.Pkcs7,mode:pr.mode.CBC});return function(e,t,a,n,r){var l;switch(e){case 1:l=e+t.toString()+a.toString()+n+r.toString();break;case 2:l=e+a.toString()+t.toString()+n+r.toString();break;case 3:l=e+n+a.toString()+t.toString()+r.toString();break;case 4:l=e+t.toString()+n+a.toString()+r.toString();break;default:return}return l}((t=1,a=4,a=Math.floor(a),Math.floor(Math.random()*(a-t+1))+t),n,o,r,s)}a(902);var fr=a(1298),gr=a(301),hr=a.n(gr),yr=function(e){Object(lr.a)(a,e);var t=Object(or.a)(a);function a(e){var n;return Object(nr.a)(this,a),(n=t.call(this,e)).componentDidUpdate=function(){var e=n.props,t=e.cookies,a=e.login;Object.keys(a.userInfo).length&&t.get("Authorization")&&t.get("x-api-key")&&n.props.history.push("/dashboard")},n.handleSubmit=function(){n.loading=!0;var e=n.input.value,t=n.pass.value,a=mr(e),r=mr(t),l=n.props.cookies;n.props.loginRequest(a,r,l),n.props.saveCredentials(a,r)},n.loading=!1,n}return Object(rr.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"Login"},r.a.createElement("main",{role:"main"},r.a.createElement("header",{className:"head"},"SC360"),r.a.createElement("form",{action:"#",id:"js-form"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",id:"username",name:"username",className:"form-field",placeholder:"Enter Username",ref:function(t){return e.input=t}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",id:"password",name:"password",className:"form-field",placeholder:"Enter Password",ref:function(t){return e.pass=t}})),r.a.createElement("div",{className:"form-controls"},this.loading?r.a.createElement(hr.a,{size:30,color:"#ff8f1a",loading:this.loading}):r.a.createElement("button",{className:"button login",type:"button",onClick:this.handleSubmit},"Log In")))))}}]),a}(r.a.Component),Er=Object(s.b)((function(e){return{login:e.login}}),(function(e){return{loginRequest:function(t,a,n){return e({type:g,payload:{encryptedUserName:t,encryptedPassword:a},cookies:n})},saveCredentials:function(t,a){return e({type:b,payload:{encryptedUserName:t,encryptedPassword:a}})}}}))(Object(fr.a)(yr)),br=a(300),vr=function(){return{type:E}},xr=function(){return{type:L}},Sr=function(){return{type:J}},Dr=function(e){return{type:he,payload:e}},Or=function(e){return{type:ye,payload:e}},Cr=function(e){return{type:ve,payload:e}},kr=function(e){return{type:ke,payload:e}},Rr=function(){return{type:at}},wr=function(e){return{type:it,payload:e}},jr=a(1308),Ir=a(636),Tr=a(177),Ar=a(1309),Pr=a(73),Lr=a(1359),Nr=a(334),Gr=a(1299),Ur=a(1320),_r=a(1321),Mr=a(1317),Vr=a(1326),Br=a(1327),Fr=a(1328),zr=a(1329),Wr=a(1330),Hr=a(1331),Jr=a(629),Yr=a.n(Jr),qr=(a(997),a(630)),Qr=null,Kr=!1,$r="wss://a3h6ckqjv9.execute-api.ap-south-1.amazonaws.com/test";function Xr(e,t){var a=function(){var t=e.cookies;clearTimeout(window.refreshTimeout),window.refreshTimeout=null,window.clearInterval(window.sessionInterval),window.sessionInterval=null,localStorage.setItem("feedNotification",JSON.stringify({feedNotification:!1})),t.remove("Authorization",{path:"/"}),t.remove("x-api-key"),t.remove("idleTime"),t.remove("sessionTokenExpiryDate"),Kr=!0,null!==Qr&&Qr.close(),e.logout()};if(t){var n=JSON.parse(localStorage.getItem("logoutFlag")).logoutFlag,r=JSON.parse(localStorage.getItem("logoutTime")).logoutTime;!1===n?a():!0===n&&null===r?wt.get("/notificationAck").then((function(e){a()})).catch((function(e){return console.log("Error in logout:",e)})):!0===n&&null!==r?wt.get("/notificationAck",{params:{logoutTime:r}}).then((function(e){a()})).catch((function(e){return console.log("Error in logout:",e)})):a()}else a()}var Zr=a(141),el=a.n(Zr),tl=a(1310),al=(tl.a.Panel,function(e){Object(lr.a)(a,e);var t=Object(or.a)(a);function a(){return Object(nr.a)(this,a),t.apply(this,arguments)}return Object(rr.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"notification",style:{display:"flex",flexDirection:"column",borderBottom:"1px solid"}},r.a.createElement("div",{className:"username"},r.a.createElement("b",null,this.props.notification.userName)," mentioned you on a ",this.props.notification.child?r.a.createElement("span",null,"sub-comment"):r.a.createElement("span",null,"comment")," : ",r.a.createElement("b",null,this.props.notification.commentedOnId)),r.a.createElement("div",{className:"time",style:{fontSize:10}},r.a.createElement(el.a,{format:"MMM Do, YYYY, HH:mm",local:!0},this.props.notification.time)))}}]),a}(r.a.Component)),nl=Object(s.b)((function(e){return{communication:e.communication}}),(function(e){return{}}))(Object(fr.a)(al)),rl=jr.a.Title,ll=Object(s.b)((function(e){return{login:e.login,runTour:e.runtour,notification:e.communication.notification}}),(function(e){return{logout:function(){return e(vr())}}}))(Object(fr.a)((function(e){var t=Object(n.useState)(!1),a=Object(sr.a)(t,2),l=a[0],o=a[1],s=Object(n.useState)(!1),i=Object(sr.a)(s,2),c=i[0],u=i[1],d=Object(n.useState)(0),p=Object(sr.a)(d,2),m=p[0],f=p[1],g=Object(n.useState)(0),h=Object(sr.a)(g,2),y=h[0],E=h[1];r.a.useEffect((function(){f(e.notification.length-y)}),[e.notification.length]);var b=r.a.createElement(Tr.a,{onClick:function(t){var a=t.key;switch(a){case"User Settings":e.history.push("/userSettings");break;case"Escalate the Query":Ir.a.info("Click on ".concat(a));break;case"Help?":e.dispatch({type:O,payload:!0});break;case"About":o(!0);break;case"Help documentation":Ir.a.info("Click on ".concat(a));break;case"Logout":Xr(e,!0);break;default:Ir.a.info("Welcome to SC360")}}},r.a.createElement(Tr.a.Item,{key:"UserName"},"Hello, ",r.a.createElement("span",{style:{fontSize:12}},r.a.createElement("b",null,e.login.userInfo.firstName," ",e.login.userInfo.lastName)),r.a.createElement("hr",null)),r.a.createElement(Tr.a.Item,{key:"User Settings"},"User Settings ",r.a.createElement(Ur.a,{spin:!1,style:{fontSize:15}})),r.a.createElement(Tr.a.Item,{key:"Help?"},"Help ",r.a.createElement(_r.a,{style:{fontSize:15}})),r.a.createElement(Tr.a.Item,{key:"About"},"About"),r.a.createElement(Tr.a.Item,{key:"Logout"},"Logout ",r.a.createElement(Mr.a,{style:{fontSize:15}}))),v=r.a.createElement(Tr.a,{onClick:function(){return console.log("Clicked on notification")}},r.a.createElement(Tr.a.Item,null,r.a.createElement("h3",null,"Notification"),r.a.createElement("hr",null)),0!==e.notification.length?e.notification.sort((function(e,t){return t.time.localeCompare(e.time)})).map((function(e,t){return r.a.createElement(Tr.a.Item,{key:t},r.a.createElement(nl,{key:e.commentID,notification:e}))})):r.a.createElement(Tr.a.Item,null,"No New Notification...")),x=r.a.createElement(Ar.a,{width:c?window.innerWidth:800,style:c?{top:"0px",paddingBottom:"0px"}:{top:"0px",paddingBottom:"24px"},title:r.a.createElement("div",{style:{display:"flex",marginRight:"40px"}},r.a.createElement(rl,{style:{flex:8},level:4},"About"),r.a.createElement(Pr.a,{onClick:function(){return u(!c)},icon:c?r.a.createElement(Vr.a,null):r.a.createElement(Br.a,null)})),centered:!c,visible:l,footer:null,onCancel:function(){o(!1),u(!1)}},r.a.createElement("div",{className:"about-modal-container",style:{height:c?window.innerHeight-120+"px":"400px"}},r.a.createElement(Yr.a,{fileType:"docx",filePath:window.location.origin+"/Brillio_Aruba_About.docx",errorComponent:function(){return r.a.createElement("div",null,"error")},onError:function(e){return console.error("File => ",e)}})));return r.a.createElement("div",{className:"headerbar"},r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement("img",{src:"./flashNew.png",alt:"aruba logo",style:{height:28,padding:"0px 7px 0px 10px"},className:"logo"}),r.a.createElement("span",{style:{fontSize:17,fontWeight:"bold",marginRight:5}},"SC360\xb0"),"/dashboard"!==e.history.location.pathname?r.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){return e.history.goBack()}},r.a.createElement(Fr.a,{style:{fontFize:12}}),"Back"):null),r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(zr.a,{style:{fontSize:20,margin:"0px 15px 0px 0px"},onClick:function(){return e.toggleCommunication()}}),r.a.createElement("span",{style:{display:"inline-block",margin:"5px 15px 0px 0px"}},r.a.createElement(Lr.a,{count:m,overflowCount:mt.NOTIFICATION_OVERFLOW_COUNT,size:"small",style:{fontSize:"10px",padding:"0px 5px"}},r.a.createElement(Nr.a,{overlayClassName:"notification-dropdown",overlay:v,trigger:"click",onVisibleChange:function(t){E(m+y),f(0),localStorage.setItem("feedNotification",JSON.stringify({feedNotification:!0})),localStorage.setItem("logoutFlag",JSON.stringify({logoutFlag:!0})),localStorage.setItem("logoutTime",JSON.stringify({logoutTime:null})),e.notification.map((function(e){return e.isRead=!0}))}},r.a.createElement(Wr.a,{style:{fontSize:20}})))),r.a.createElement(Nr.a,{overlayClassName:"profile-dropdown",overlay:b,trigger:"click"},r.a.createElement(Gr.a,{style:{backgroundColor:"#595959",margin:"2px 10px 0px 0px"},icon:r.a.createElement(Hr.a,null),size:20}))),x)}))),ol=a(438),sl=a(257),il=a(1313),cl=a(1312),ul=a(1339),dl=a(1340),pl=a(1341),ml=a(640),fl=a(641),gl=a.n(fl),hl=a(133),yl=a(1314),El=a(1300),bl=a(114),vl=a(1332),xl=a(1333),Sl=a(1334),Dl=a(1335),Ol=a(1336),Cl=a(1337),kl=a(642),Rl=a.n(kl),wl=tl.a.Panel,jl=(yl.a.Step,function(e){Object(lr.a)(a,e);var t=Object(or.a)(a);function a(e){var n;return Object(nr.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.props.message.statusAck&&n.props.message.statusProgress&&n.props.message.statusClosed?n.setState({currentStep:2,disabled:!0}):n.props.message.statusAck&&n.props.message.statusProgress?n.setState({currentStep:1,disabled:!1}):n.setState({currentStep:0,disabled:!1})},n.componentDidUpdate=function(e){e.message!==n.props.message&&(n.props.message.statusAck&&n.props.message.statusProgress&&n.props.message.statusClosed?n.setState({currentStep:2,disabled:!0}):n.props.message.statusAck&&n.props.message.statusProgress?n.setState({currentStep:1,disabled:!1}):n.setState({currentStep:0,disabled:!1}))},n.textChangeHandler=function(e,t,a,r){n.setState({value:t,mentionData:{newValue:t,newPlainTextValue:a,mentions:r}})},n.sendReply=function(e){var t=n.state,a=t.value,r=t.mentionData;if(""!==a){var l={email:[],userGroups:[]},o=[];r.mentions&&r.mentions.length>0&&r.mentions.map((function(e){return isNaN(e.id)?e.id.includes("#")?o.push(e.display):l.userGroups.push(e.display):l.email.push(e.display)}));var s=[];r.mentions&&r.mentions.length>0&&r.mentions.map((function(e){return s.push(e.display)}));var i={commentId:n.props.message.commentId,lastReactedBy:n.props.message.lastReactedBy,childThread:{time:(new Date).toUTCString(),comment:r.newPlainTextValue,mention:l,tags:o,recipient:s}},c={child:!0,commentId:n.props.message.commentId,lastReactedBy:n.props.message.lastReactedBy,statusProgress:!0,childThread:{userName:n.props.userInfo.name,jobRole:n.props.userInfo.jobRole.jobRole,userGroups:n.props.userInfo.userGroupID,time:(new Date).toUTCString(),comment:r.newPlainTextValue,commentedOnId:n.props.message.commentedOnId,mention:l,tags:o,recipient:s}};if(n.props.broadcastChild(i,c),n.setState({value:"",mentionData:[],currentStep:1}),n.props.message.statusAck&&n.props.message.statusProgress&&n.props.message.statusClosed){var u={commentId:n.props.message.commentId,statusClosed:!1};wt.post("/comments/childThread",u).then((function(e){n.setState({currentStep:1})})).catch((function(e){return console.log("Error:",e)}))}}else Ir.a.error("Please enter comment to send")},n.state={currentStep:0,panelActive:void 0,value:"",mentionData:[],steps:[{title:"Open"},{title:"In-Progress"},{title:"Closed"}],disabled:!1},n}return Object(rr.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.steps,n=t.currentStep,l=t.disabled,o=[].concat(Object(Gn.a)(this.props.users),Object(Gn.a)(this.props.userGroups)).map((function(e){return{id:e.userID||e.userGroupID,display:e.Email?e.Email:e.userGroupID}})).sort((function(e,t){return e.display.localeCompare(t.display)})).filter((function(t){return t.id!==e.props.userInfo.id})),s=ha.TAG_LIST.map((function(e){return{id:e,display:e}})).sort();return r.a.createElement("div",{className:"message"},r.a.createElement("div",{className:"main-thread",style:{display:"flex",flexDirection:"column",justifyContent:"center",width:"100%",padding:"15px 15px 0px 15px"}},r.a.createElement("div",{className:"message-header"},r.a.createElement("div",{className:"priority-tags",style:{display:"flex"}},function(e){switch(e){case"LOW":return r.a.createElement(vl.a,{style:{height:"15px",width:"15px",color:"#fafafa",borderRadius:"15px",backgroundColor:"orange",fontSize:"9px",lineHeight:"16px",margin:"0px"}});case"MEDIUM":return r.a.createElement(xl.a,{style:{height:"15px",width:"15px",color:"#fafafa",borderRadius:"15px",backgroundColor:"orange",fontSize:"9px",lineHeight:"16px",margin:"0px"}});case"HIGH":return r.a.createElement(xl.a,{style:{height:"15px",width:"15px",color:"#fafafa",borderRadius:"15px",backgroundColor:"red",fontSize:"9px",lineHeight:"16px",margin:"0px"}});case"CRITICAL":return r.a.createElement(Sl.a,{style:{height:"15px",width:"15px",color:"#fafafa",borderRadius:"15px",backgroundColor:"red",fontSize:"9px",lineHeight:"16px",margin:"0px"}});default:return null}}(this.props.message.priority),this.props.message.tags&&this.props.message.tags.map((function(e,t){return r.a.createElement("span",{key:t,style:{padding:"0px 4px",margin:"0px 0px 0px 5px",fontSize:"10px",border:"1px solid gray",color:"gray",borderRadius:"16px"}},e," ")}))),r.a.createElement("div",{style:{display:"flex",alignItems:"baseline",justifyContent:"space-between"}},r.a.createElement("div",{className:"title"},this.props.message.title),r.a.createElement("div",{className:"message-time"},r.a.createElement(el.a,{format:"MMM Do, YYYY, HH:mm",local:!0},this.props.message.time))),r.a.createElement("div",{className:"username"},this.props.message.userName,", ",this.props.message.jobRole," - ",this.props.message.userGroups.filter((function(e){return"APJ"==e||"AMS"==e||"EMEA"==e||"WW"==e})).toString().replace(/[^[]']/gi,"").replace(/[,]/gi,", "))),r.a.createElement("div",{className:"message-body"},this.props.message.comment),r.a.createElement("div",{className:"message-footer",style:{color:"orange",paddingBottom:"10px",borderBottom:"1px solid #9c9c9c"}},this.props.message.recipient&&this.props.message.recipient.map((function(e,t){return r.a.createElement("span",{key:t},"@",e," ")})))),r.a.createElement("div",{className:"child-thread",style:{display:"flex",flexDirection:"column",justifyContent:"center",width:"100%"}},r.a.createElement(tl.a,{expandIconPosition:"right",accordion:!0,expandIcon:function(){return void 0===e.state.panelActive?r.a.createElement("span",{className:"show-thread"},"Show Thread ",r.a.createElement(Dl.a,null)):r.a.createElement("span",{className:"collapse"},"Collapse")},onChange:function(t){return e.setState({panelActive:t})},ghost:!0},r.a.createElement(wl,{key:this.props.message.commentID,header:this.props.message.childThread.length>0?"".concat(this.props.message.childThread.length," Responses"):r.a.createElement("div",{style:{padding:"8px 16px"}})},this.props.message.childThread&&0!==this.props.message.childThread.length?r.a.createElement("div",null,this.props.message.childThread.map((function(e,t){return r.a.createElement("div",{className:"child-thread-item",key:t},r.a.createElement("div",{className:"message-header"},r.a.createElement("div",{style:{display:"flex",alignItems:"baseline",justifyContent:"space-between"}},r.a.createElement("div",null,r.a.createElement("div",{className:"username"},e.userName),r.a.createElement("div",{className:"userdetail"},e.jobRole," - ",e.userGroups.filter((function(e){return"APJ"==e||"AMS"==e||"EMEA"==e||"WW"==e})).toString().replace(/[^[]']/gi,"").replace(/[,]/gi,", "))),r.a.createElement("div",{className:"message-time"},r.a.createElement(el.a,{format:"MMM Do, YYYY, HH:mm",local:!0},e.time))),r.a.createElement("div",{className:"user-role"},e.role)),r.a.createElement("div",{className:"message-body"},r.a.createElement(Rl.a,{highlightClassName:"YourHighlightClass",searchWords:e.recipient,autoEscape:!0,textToHighlight:"".concat(e.comment),highlightTag:function(e){var t=e.children;e.highlightIndex;return r.a.createElement("strong",{className:"highlighted-text",style:{color:"orange",paddingBottom:"10px"}},t)}})),r.a.createElement("hr",null),r.a.createElement("div",{className:"message-footer"}))}))):r.a.createElement("div",null),r.a.createElement("div",{style:{padding:"5px 0px"}},""!==this.props.message.lastReactedBy?r.a.createElement("span",null,"Last reacted by: ",this.props.message.lastReactedBy):r.a.createElement("span",null,"Nobody reacted")),r.a.createElement("div",{className:"reaction",style:{display:"flex",borderTop:"1px solid #9c9c9c",padding:"0px 0px 10px 0px"}},r.a.createElement(gl.a,{steps:a,activeStep:n,activeColor:"#1890ff",completeColor:"#06712c",size:24,circleFontSize:12,titleFontSize:12,circleTop:5,titleTop:0}),this.props.userInfo.id===this.props.message.userId?r.a.createElement("div",{className:"close-thread"},r.a.createElement(El.a,{placement:"topRight",title:"Are you sure to close this thread?",okText:"Yes",cancelText:"No",getPopupContainer:function(){return document.getElementsByClassName("close-thread")[0]},onConfirm:function(t){e.props.communication.selectedRowDetail.product_base,e.props.communication.selectedRowDetail.persId,(new Date).toUTCString();var a={commentId:e.props.message.commentId,statusClosed:!0};wt.post("/comments/childThread",a).then((function(t){var a=t.data.data;e.props.addMessageRequest(a)})).catch((function(e){return console.log("Error:",e)}))}},r.a.createElement(bl.a,{placement:"topRight",title:"Close thread",getPopupContainer:function(){return document.getElementsByClassName("close-thread")[0]}},r.a.createElement(Pr.a,{type:"primary",shape:"circle",icon:r.a.createElement(Ol.a,null),disabled:l,style:{margin:"5px 0px",height:"25px",minWidth:"25px",maxWidth:"25px",fontSize:"12px"},danger:!0})))):null),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(hl.b,{value:this.state.value,onChange:this.textChangeHandler,allowSpaceInQuery:!0,allowSuggestionsAboveCursor:!0,placeholder:"Start typing...",className:"mentions"},r.a.createElement(hl.a,{type:"user",trigger:"@",data:o,markup:"@{{__display__||__id__}}",className:"mentions__mention",displayTransform:function(e,t){return t}}),r.a.createElement(hl.a,{type:"tag",trigger:"#",data:s,markup:"@{{__display__||__id__}}",className:"mentions__mention",displayTransform:function(e,t){return t}})),r.a.createElement("div",{style:{height:"45px",width:"35px",padding:"10px 8px",border:"1px solid #d9d9d9",cursor:"pointer"},onClick:function(t){return e.sendReply(t)}},r.a.createElement(Cl.a,{style:{fontSize:20}})))))))}}]),a}(r.a.Component)),Il=Object(s.b)((function(e){return{userInfo:e.login.userInfo,users:e.users.users,userGroups:e.userGroups.userGroups,communication:e.communication}}),(function(e){return{handleLockStatus:function(t){return e(Dr(t))},clickDropDown:function(t){return e(Or(t))},addMessageRequest:function(t){return e(Cr(t))}}}))(jl),Tl=a(643),Al=a.n(Tl),Pl=a(298);function Ll(){var e=Object(ml.a)(["display: flex;"]);return Ll=function(){return e},e}var Nl=function(e){Object(lr.a)(a,e);var t=Object(or.a)(a);function a(e){var n;return Object(nr.a)(this,a),(n=t.call(this,e)).onScrollHandler=function(e){e.preventDefault();var t=n.props.communication,a=t.selectedRowDetail,r=t.filterDrawer,l=document.getElementById("messageList");if(0===l.scrollTop){var o=n.props.communication.totalMessages,s=Math.ceil(o/mt.MESSAGE_PER_PAGE);if(n.state.pageCounter<=s){if(n.state.pageCounter>1){var i={pageNo:"".concat(n.state.pageCounter),perPage:"".concat(mt.MESSAGE_PER_PAGE),persId:"",commentedOnId:a.product_base,text:r.text||"",tags:r.checkedListTag,priority:"",userGroups:r.checkedListGroup,emails:r.emails,endDate:r.endDate,startDate:r.startDate};n.props.searchMessageRequest(i),setTimeout((function(){l.scrollTop=l.scrollHeight/(n.state.pageCounter-1)}),500)}n.setState({pageCounter:n.state.pageCounter+1})}else n.setState({hasMoreItems:!1})}},n.state={hasMoreItems:!0,pageCounter:2},n}return Object(rr.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this.props.communication.messages.length-e.communication.messages.length;if(e.communication.messages.length!==this.props.communication.messages.length&&(0===e.communication.messages.length||1===t)){var a=document.getElementById("messageList");a.scrollTop=a.scrollHeight}if(e.communication.selectedRowDetail.product_base===this.props.communication.selectedRowDetail.product_base&&e.communication.filterDrawer!==this.props.communication.filterDrawer){var n=document.getElementById("messageList");n.scrollTop=n.scrollHeight}!e.communication.selectedRowDetail||e.communication.selectedRowDetail.product_base===this.props.communication.selectedRowDetail.product_base&&e.communication.totalMessages===this.props.communication.totalMessages&&e.communication.filterDrawer===this.props.communication.filterDrawer||this.setState({hasMoreItems:!0,pageCounter:2})}},{key:"render",value:function(){var e=this,t=Object(Pl.css)(Ll()),a=document.getElementById("messageList"),n=this.props.messages.map((function(t,a){return r.a.createElement(Il,{key:a,users:e.props.users,message:t,broadcastChild:e.props.broadcastChild,handleThreadClose:e.props.handleThreadClose})}));return r.a.createElement("div",{className:"messagesList",id:"messageList",onScroll:function(t){n.length&&e.onScrollHandler(t)}},n.length?r.a.createElement("div",{className:"loader",key:0,style:{display:"flex",justifyContent:"center",margin:5}},this.state.hasMoreItems?r.a.createElement(Al.a,{css:t,size:12,color:"#777777",loading:!(!a||0!=a.scrollTop)}):r.a.createElement("span",null,"You've seen all...")):null,n)}}]),a}(r.a.Component);Nl.defaultProps={messages:[]};var Gl=Object(s.b)((function(e){return{communication:e.communication}}),(function(e){return{searchMessageRequest:function(t,a){return e(kr(t))}}}))(Nl),Ul=a(90),_l=a.n(Ul),Ml=a(258),Vl=a(1306),Bl=ol.a.TabPane,Fl=Ml.a.Group,zl=function(e){Object(lr.a)(a,e);var t=Object(or.a)(a);function a(e){var n;return Object(nr.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e=n.props.userGroups.map((function(e){return e.userGroupID}));n.setState({groupOption:e})},n.componentDidUpdate=function(e,t){var a=n.state,r=(a.checkedListTag,a.checkedListGroup);a.userName,a.startDate,a.endDate,a.text;if(e.masterFilter.region!==n.props.masterFilter.region){var l=r.filter((function(e){return!["AMS","APJ","EMEA","WW"].includes(e)}));l.push(n.props.masterFilter.region),n.setState({checkedListGroup:l},(function(){n.handleApply()}))}},n.textChangeHandler=function(e,t,a,r){var l=[];r.length&&r.map((function(e){return l.push(e.display)})),n.setState({value:t,mentionData:{newValue:t,newPlainTextValue:a,mentions:r},emails:l})},n.onTagChange=function(e){n.setState({checkedListTag:e,indeterminateTag:!!e.length&&e.length<ha.TAG_LIST.length,checkAllTag:e.length===ha.TAG_LIST.length})},n.onGroupChange=function(e){n.setState({checkedListGroup:e})},n.onChangeStartDate=function(e,t){var a="";null!==e?((a=new Date(e._d)).setUTCHours(0),a.setUTCMinutes(0),a.setUTCSeconds(0),a=a.toUTCString()):a="",n.setState({startDate:a})},n.onChangeEndDate=function(e,t){var a="";null!==e?((a=new Date(e._d)).setUTCHours(23),a.setUTCMinutes(59),a.setUTCSeconds(59),a=a.toUTCString()):a="",n.setState({endDate:a})},n.disabledDateStart=function(e){return _l()().subtract(18,"months")>=e||_l()().endOf("day")<=e},n.disabledDateEnd=function(e){return _l()().subtract(18,"months")>=e||_l()().endOf("day")<=e},n.handleReset=function(){n.setState({checkedListTag:[],checkedListGroup:[],indeterminateTag:!0,checkAllTag:!1,emails:"",startDate:"",endDate:"",text:"",value:""});var e=n.state,t={checkedListTag:e.checkedListTag,checkedListGroup:e.checkedListGroup,emails:e.emails,startDate:e.startDate,endDate:e.endDate,text:e.text};n.props.addFilters(t)},n.handleApply=function(){var e=n.state,t=e.checkedListTag,a=e.checkedListGroup,r=e.emails,l=e.startDate,o=e.endDate,s=e.text,i={checkedListTag:t,checkedListGroup:a,emails:r,startDate:l,endDate:o,text:s};n.props.addFilters(i);var c={pageNo:"1",perPage:"".concat(mt.MESSAGE_PER_PAGE),persId:"",commentedOnId:n.props.communication.selectedRowDetail.product_base||"",text:s,tags:t,priority:"",userGroups:a,emails:r,endDate:o,startDate:l};Object.keys(n.props.communication.selectedRowDetail).length?(n.props.searchMessageRequest(c),n.props.closeFilterDrawer()):Ir.a.error("Please select a SKU to proceed")},n.state={checkedListTag:[],checkedListGroup:[],groupOptions:[],indeterminateTag:!0,checkAllTag:!1,value:"",mentionData:[],emails:[],startDate:"",endDate:"",text:""},n}return Object(rr.a)(a,[{key:"render",value:function(){var e=this,t=this.props.users.map((function(e){return{id:e.userID,display:e.Email}})).sort((function(e,t){return e.display.localeCompare(t.display)})),a=this.state,n=a.checkedListTag,l=a.groupOption,o=a.checkedListGroup,s=a.text;return r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement("div",{style:{overflowY:"auto",height:"210px",borderBottom:"1px solid #d0d0d0"}},r.a.createElement(ol.a,{tabPosition:"left"},r.a.createElement(Bl,{tab:"Tags",key:"tags"},r.a.createElement("div",{style:{justifyContent:"center",display:"flex",color:"black",fontWeight:"bold",marginBottom:"10px"}},"Tags"),r.a.createElement("div",null,r.a.createElement(Fl,{options:ha.TAG_LIST,value:n,onChange:this.onTagChange,style:{display:"flex",flexDirection:"column",wordBreak:"break-all"}}))),r.a.createElement(Bl,{tab:"Groups",key:"groups"},r.a.createElement("div",{style:{justifyContent:"center",display:"flex",color:"black",fontWeight:"bold",marginBottom:"10px"}},"Tagged Groups"),r.a.createElement("div",null,r.a.createElement(Fl,{options:l,value:o,onChange:this.onGroupChange,style:{display:"flex",flexDirection:"column",wordBreak:"break-all"}}))),r.a.createElement(Bl,{tab:"Users",key:"users"},r.a.createElement("div",{style:{justifyContent:"center",display:"flex",color:"black",fontWeight:"bold",marginBottom:"10px"}},"Tagged Users"),r.a.createElement("div",{style:{marginTop:"10px"}},r.a.createElement(hl.b,{value:this.state.value,onChange:this.textChangeHandler,allowSpaceInQuery:!0,allowSuggestionsAboveCursor:!0,placeholder:"search by @email...",className:"mentions"},r.a.createElement(hl.a,{type:"user",trigger:"@",data:t,markup:"@{{__display__||__id__}}",className:"mentions__mention",displayTransform:function(e,t){return t}})))),r.a.createElement(Bl,{tab:"Date",key:"date"},r.a.createElement("div",{style:{justifyContent:"center",display:"flex",color:"black",fontWeight:"bold",marginBottom:"10px"}},"Comment Date Range"),r.a.createElement("div",{className:"datepicker-range",style:{marginTop:"10px"}},r.a.createElement(Vl.a,{placeholder:"select start date",format:"DD-MM-YYYY",disabledDate:this.disabledDateStart,onChange:this.onChangeStartDate}),r.a.createElement(Vl.a,{placeholder:"select end date",format:"DD-MM-YYYY",disabledDate:this.disabledDateEnd,onChange:this.onChangeEndDate}))),r.a.createElement(Bl,{tab:"Comment Search",key:"commentSearch"},r.a.createElement("div",{style:{justifyContent:"center",display:"flex",color:"black",fontWeight:"bold",marginBottom:"10px"}},"Comments and Descriptons"),r.a.createElement("div",{style:{marginTop:"10px"}},r.a.createElement(il.a,{placeholder:"search text...",value:s,onChange:function(t){return e.setState({text:t.target.value})}}))))),r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:10}},r.a.createElement(Pr.a,{type:"primary",style:{background:"white",color:"#eb8125",border:"1px solid #eb8125",margin:"0px 5px 0px 0px"},onClick:this.handleReset},"Reset"),r.a.createElement(Pr.a,{type:"primary",style:{background:"#eb8125",color:"white",border:"none"},onClick:this.handleApply}," Apply ")))}}]),a}(r.a.Component),Wl=Object(s.b)((function(e){return{userInfo:e.login.userInfo,users:e.users.users,userGroups:e.userGroups.userGroups,communication:e.communication,masterFilter:e.masterFilter}}),(function(e){return{addDropdownRequest:function(t){return e(wr(t))},searchMessageRequest:function(t){return e(kr(t))},addFilters:function(t){return e(function(e){return{type:Le,payload:e}}(t))}}}))(zl),Hl=a(675),Jl=a(1301),Yl=a(321),ql=a(1338),Ql=function(e){Object(lr.a)(a,e);var t=Object(or.a)(a);function a(e){var n;return Object(nr.a)(this,a),(n=t.call(this,e)).textChangeHandler=function(e,t,a,r){n.setState({value:t,mentionData:{newValue:t,newPlainTextValue:a,mentions:r}})},n.createHandler=function(e){e.preventDefault();var t=n.state,a={tags:t.tags,title:t.title,comment:t.comment,priority:t.priority,mentionData:t.mentionData};0!==Object.keys(n.props.communication.selectedRowDetail).length?(n.props.closeNewThreadDrawer(),n.props.submitHandler(a,n.props),n.setState({title:"",comment:"",priority:"LOW",value:"",mentionData:[]})):Ir.a.error("Please select a SKU to proceed")},n.hide=function(){n.setState({tagListPopoverOpen:!1})},n.handleVisibleChange=function(e){n.setState({tagListPopoverOpen:e})},n.tagOnClick=function(e){n.setState({tags:[].concat(Object(Gn.a)(n.state.tags),[e.target.innerText])}),n.hide()},n.removeTag=function(e,t){var a=Object(jt.cloneDeep)(n.state.tags).filter((function(e){return e!==t}));n.setState({tags:a})},n.state={title:"",comment:"",priority:"LOW",value:"",mentionData:[],tags:["#general"],tagListPopoverOpen:!1},n}return Object(rr.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.tags,n=t.title,l=t.comment,o=t.priority,s=t.tagListPopoverOpen,i=r.a.createElement("div",{style:{display:"flex",flexDirection:"column",maxHeight:"110px",height:"auto",overflowY:"auto"}},ha.TAG_LIST.filter((function(e){return!a.includes(e)})).map((function(t,a){return r.a.createElement("div",{key:a,style:{cursor:"pointer"},onClick:function(t){return e.tagOnClick(t)}},t)}))),c=[].concat(Object(Gn.a)(this.props.users),Object(Gn.a)(this.props.userGroups)).map((function(e){return{id:e.userID||e.userGroupID,display:e.Email?e.Email:e.userGroupID}})).sort((function(e,t){return e.display.localeCompare(t.display)})).filter((function(t){return t.id!==e.props.userInfo.id}));return r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},r.a.createElement("form",{action:"#",id:"thread-form",style:{padding:"5px",marginBottom:"15px"}},r.a.createElement(il.a.Group,{compact:!0},r.a.createElement("div",{style:{margin:"0px 0px 10px 0px"}},a.length>0&&a.map((function(t,a){return r.a.createElement(Hl.a,{key:a,style:{borderRadius:"16px",margin:"2px"}},t,r.a.createElement("span",{onClick:function(a){return e.removeTag(a,t)},style:{fontSize:10,margin:"0px 0px 0px 5px"}},r.a.createElement(Ol.a,null)))})),r.a.createElement(Jl.a,{content:i,trigger:"click",placement:"bottomRight",visible:s,onVisibleChange:this.handleVisibleChange},r.a.createElement(Hl.a,{className:"site-tag-plus"},r.a.createElement(ql.a,{className:"add-tag-icon"})," New Tag"))),r.a.createElement(il.a,{placeholder:"Title",maxLength:200,style:{border:"2px solid #d9d9d9",margin:"0px 0px 10px 0px",height:"30px"},value:n,onChange:function(t){return e.setState({title:t.target.value})}}),n.length>199?r.a.createElement("div",{style:{color:"red",fontSize:"10px"}},"You've reached maximum character limit of 200"):null,r.a.createElement(il.a.TextArea,{placeholder:"Start typing...",maxLength:1e3,style:{border:"2px solid #d9d9d9",margin:"0px 0px 10px 0px",height:80},value:l,onChange:function(t){return e.setState({comment:t.target.value})}}),l.length>999?r.a.createElement("div",{style:{color:"red",fontSize:"10px"}},"You've reached maximum character limit of 1000"):null,r.a.createElement(hl.b,{value:this.state.value,onChange:this.textChangeHandler,allowSpaceInQuery:!0,allowSuggestionsAboveCursor:!0,placeholder:"Recipient",className:"mentions"},r.a.createElement(hl.a,{type:"user",trigger:"@",data:c,markup:"@{{__display__||__id__}}",className:"mentions__mention",displayTransform:function(e,t){return t}})),r.a.createElement("div",{style:{width:"100%",margin:"0px 0px 10px 0px",display:"flex"}},r.a.createElement("div",{className:"priority",style:{width:"100%",display:"flex",height:"30px",border:"2px solid rgb(217, 217, 217)",zIndex:0}},r.a.createElement("div",{style:{padding:"0px 6px",marginRight:"20px"}},"Priority"),r.a.createElement(Yl.default.Group,{value:o,onChange:function(t){e.setState({priority:t.target.value})},optionType:"button",buttonStyle:"solid"},r.a.createElement(bl.a,{placement:"top",title:"Low",getPopupContainer:function(){return document.getElementsByClassName("priority")[0]}},r.a.createElement(Yl.default.Button,{value:"LOW"},r.a.createElement(vl.a,{style:{height:"15px",width:"15px",color:"#fafafa",borderRadius:"15px",backgroundColor:"orange",fontSize:"9px",lineHeight:"16px",margin:"0px"}}))),r.a.createElement(bl.a,{placement:"top",title:"Medium",getPopupContainer:function(){return document.getElementsByClassName("priority")[0]}},r.a.createElement(Yl.default.Button,{value:"MEDIUM"},r.a.createElement(xl.a,{style:{height:"15px",width:"15px",color:"#fafafa",borderRadius:"15px",backgroundColor:"orange",fontSize:"9px",lineHeight:"16px",margin:"0px"}}))),r.a.createElement(bl.a,{placement:"top",title:"High",getPopupContainer:function(){return document.getElementsByClassName("priority")[0]}},r.a.createElement(Yl.default.Button,{value:"HIGH"},r.a.createElement(xl.a,{style:{height:"15px",width:"15px",color:"#fafafa",borderRadius:"15px",backgroundColor:"red",fontSize:"9px",lineHeight:"16px",margin:"0px"}}))),r.a.createElement(bl.a,{placement:"top",title:"Critical",getPopupContainer:function(){return document.getElementsByClassName("priority")[0]}},r.a.createElement(Yl.default.Button,{value:"CRITICAL"},r.a.createElement(Sl.a,{style:{height:"15px",width:"15px",color:"#fafafa",borderRadius:"15px",backgroundColor:"red",fontSize:"9px",lineHeight:"16px",margin:"0px"}}))))),r.a.createElement(Pr.a,{onClick:this.createHandler,users:this.state.users,style:{padding:"5px",margin:"0px 0px 0px 5px",background:"#eb8125",color:"white",width:"32%",height:"30px",fontSize:"12px"}},"CREATE")))))}}]),a}(r.a.Component),Kl=Object(s.b)((function(e){return{userInfo:e.login.userInfo,users:e.users.users,userGroups:e.userGroups.userGroups,communication:e.communication}}))(Ql),$l=(a(1112),ol.a.TabPane),Xl=(sl.a.Option,function(e){Object(lr.a)(a,e);var t=Object(or.a)(a);function a(e){var n,r,l;return Object(nr.a)(this,a),(n=t.call(this,e)).handleOnConnect=function(e){n.ws&&null!==n.ws&&n.ws.json({action:"onConnect",message:{authorization:{"x-api-key":n.props.allCookies["x-api-key"],token:"Bearer ".concat(n.props.allCookies.Authorization)}}})},n.handleReceivedMessage=function(e){if("undefined"!==e&&"object"===typeof JSON.parse(e.data)&&JSON.parse(e.data).data&&JSON.parse(e.data).data.results){var t=JSON.parse(e.data).data.results,a={};if(a=Object.keys(t).includes("child")?t.childThread:t,Object.keys(t).includes("child")&&(a.child=!0),Object.keys(n.props.communication.selectedRowDetail).length&&n.props.communication.selectedRowDetail.product_base==a.commentedOnId&&n.props.addMessageRequest(t),"object"===typeof t&&!Array.isArray(t)){var r=a.mention.email.some((function(e){return[n.props.userInfo.email].includes(e)})),l=a.mention.userGroups.some((function(e){return n.props.userInfo.userGroupID.includes(e)}));(r||l&&n.props.userInfo.appNotifications)&&(n.props.addNotificationRequest(a),null!==a.time&&null===JSON.parse(localStorage.getItem("logoutTime")).logoutTime&&localStorage.setItem("logoutTime",JSON.stringify({logoutTime:new Date(a.time).toUTCString()}))),t.broadcast||n.emailNotifyUsers(a),t.child||t.broadcast||(t.broadcast=!0,n.ws.json({action:"messageBroadcaster",message:t})),n.props.addLastMessageRequest(t)}}else{var o=JSON.parse(e.data).data||JSON.parse(e.data).message;console.log("Into outer else::",o)}},n.emailNotifyUsers=function(e){var t={mention:e.mention,message:"".concat(e.userName," mentioned you on a ").concat(e.child?"sub-comment":"comment"," : ").concat(e.commentedOnId),comment:"".concat(e.comment)};wt.post("/notify/user",t).then((function(e){})).catch((function(e){console.log(e)}))},n.submitHandler=function(e,t){n.props.removeLastMessageRequest();var a=function(){var t={email:[],userGroups:[]};return e.mentionData&&e.mentionData.mentions&&e.mentionData.mentions.map((function(e){return isNaN(e.id)?t.userGroups.push(e.display):t.email.push(e.display)})),t}(),r=function(){var t=[];return e.mentionData&&e.mentionData.mentions&&e.mentionData.mentions.map((function(e){return t.push(e.display)})),t}(),l={commentedOnId:t.communication.selectedRowDetail.product_base,persId:t.communication.selectedRowDetail.persId,time:(new Date).toUTCString(),tags:e.tags,title:e.title,comment:e.comment,priority:e.priority,mention:a,recipient:r};n.ws.json({action:"sendMessage",message:{authorization:{"x-api-key":n.props.allCookies["x-api-key"],token:"Bearer ".concat(n.props.allCookies.Authorization)},data:l}})},n.handleBroadcastChild=function(e,t){n.props.removeLastMessageRequest(),n.ws.json({action:"sendMessageReply",message:{authorization:{"x-api-key":n.props.allCookies["x-api-key"],token:"Bearer ".concat(n.props.allCookies.Authorization)},data:e}}),t.broadcast||(t.broadcast=!0,n.ws.json({action:"messageBroadcaster",message:t}))},n.handleLock=function(){var e=n.props.communication.isLocked;n.props.handleLockStatus(!e)},n.state={visibleNewThreadDrawer:!1,visibleFilterDrawer:!1},n.ws=null,n.ws=(r=n.handleOnConnect,l=n.handleReceivedMessage,Qr=new qr.a($r,{timeout:5e3,onopen:function(e){console.log("Connect!",e),r(e)},onmessage:function(e){return l(e)},onreconnect:function(e){console.log("Reconnecting...",e),r(e)},onmaximum:function(e){console.log("Stop Attempting!",e)},onclose:function(e){console.log("Closed!",e),Kr||1e3!==e.code&&1001!==e.code&&1005!==e.code||Qr.open()},onerror:function(e){return console.log("Error:",e)}})),n}return Object(rr.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.visibleNewThreadDrawer,n=t.visibleFilterDrawer,l=this.props.communication,o=l.isLocked,s=l.dropDownValue,i=l.selectedRowDetail;return r.a.createElement("div",{className:"communication"},r.a.createElement(il.a.Group,{compact:!0},r.a.createElement("span",{style:{border:"1px solid #d9d9d9",padding:"4px 15px",fontWeight:700}},"SKU"),r.a.createElement(il.a,{style:{width:"60%",color:"#3296ed"},placeholder:"Click row",value:i&&i[s]}),r.a.createElement("span",{onClick:this.handleLock},o?r.a.createElement(ul.a,{style:{border:"1px solid #d9d9d9",padding:5,fontSize:20,color:"#595959",margin:"0px 0px 0px 5px"}}):r.a.createElement(dl.a,{style:{border:"1px solid #d9d9d9",padding:5,fontSize:20,color:" #d9d9d9",margin:"0px 0px 0px 5px",transform:"rotateY(-180deg)"}}))),r.a.createElement(ol.a,{tabPosition:"top"},r.a.createElement($l,{tab:"COMMUNICATION",key:"communication"},this.props.users&&this.props.userGroups?r.a.createElement("div",{className:"drawer-wrapper"},r.a.createElement(pl.a,{style:{position:"absolute",top:10,right:22,padding:"5px",background:"white",color:"orange",border:"none",boxShadow:"rgb(146, 146, 146) 0px 2px 8px 1px",zIndex:1},onClick:function(t){e.setState({visibleFilterDrawer:!0})}}),r.a.createElement(cl.a,{title:r.a.createElement("div",null,r.a.createElement(pl.a,{style:{padding:"5px",background:"white",color:"orange",border:"0px 0px 1px 0px solid #d9d9d9"}})," Filter Threads "),placement:"top",onClose:function(){return e.setState({visibleFilterDrawer:!1})},visible:n,getContainer:!1,closable:!0,mask:!1,height:300,style:{position:"absolute",boxShadow:"rgb(146, 146, 146) 0px 2px 8px 1px"},headerStyle:{borderBottom:"1px solid rgb(208, 208, 208)"}},r.a.createElement(Wl,{closeFilterDrawer:function(){return e.setState({visibleFilterDrawer:!1})}})),r.a.createElement(Pr.a,{type:"primary",style:{position:"absolute",bottom:65,right:20,background:"#eb8125",color:"white",border:"none",zIndex:1},onClick:function(t){t.preventDefault(),e.setState({visibleNewThreadDrawer:!0})}},"New Thread"),r.a.createElement("div",{className:"chat-container"},r.a.createElement(Gl,{messages:this.props.communication.messages,users:this.props.users,broadcastChild:this.handleBroadcastChild,handleThreadClose:this.handleThreadClose})),r.a.createElement(cl.a,{title:"New Thread",placement:"bottom",onClose:function(){return e.setState({visibleNewThreadDrawer:!1})},visible:a,getContainer:!1,closable:!0,height:335,style:{position:"absolute"}},r.a.createElement(Kl,{socket:this.socket,submitHandler:this.submitHandler,closeNewThreadDrawer:function(){return e.setState({visibleNewThreadDrawer:!1})}}))):null),r.a.createElement($l,{tab:"UPDATES",key:"updates"})))}}]),a}(r.a.Component)),Zl=Object(s.b)((function(e){return{userInfo:e.login.userInfo,users:e.users.users,userGroups:e.userGroups.userGroups,communication:e.communication}}),(function(e){return{handleLockStatus:function(t){return e(Dr(t))},clickDropDown:function(t){return e(Or(t))},addMessageRequest:function(t){return e(Cr(t))},addLastMessageRequest:function(t){return e(function(e){return{type:Se,payload:e}}(t))},removeLastMessageRequest:function(){return e({type:Oe,payload:t});var t},addNotificationRequest:function(t){return e(function(e){return{type:Te,payload:e}}(t))}}}))(Object(fr.a)(Xl)),eo=(a(585),a(1302)),to=a(1315),ao=eo.a.Content,no=(eo.a.Header,eo.a.Footer,eo.a.Sider),ro=Object(fr.a)(Object(cr.f)((function(e){var t=r.a.useState(!0),a=Object(sr.a)(t,2),n=a[0],l=a[1];return r.a.createElement(eo.a,null,r.a.createElement(to.a,{offsetTop:.1},r.a.createElement(ll,{history:e.history,toggleCommunication:function(){return l(!n)}})),r.a.createElement(eo.a,null,r.a.createElement(ao,null,e.children),r.a.createElement(no,{collapsible:!0,collapsedWidth:0,width:300,collapsed:n,style:{overflow:"hidden",height:"100vh",position:"sticky",background:"white",boxShadow:"rgb(70, 70, 70) 0px 2px 8px 1px",top:40,right:0}},r.a.createElement("div",{style:{minWidth:300}},r.a.createElement(Zl,{collapsed:n})))))}))),lo=a(338),oo=a(1311),so=a(1345),io=a(1318),co=a(1351),uo=a(1350),po=a(1316),mo=a(1342),fo=a(1303),go=jr.a.Text,ho=jr.a.Title,yo=function(){return r.a.createElement("svg",{x:"0px",y:"0px",viewBox:"0 0 511.987 511.987"},r.a.createElement("path",{d:"M387.098,227.115l-77.781,77.803V53.333C309.316,23.878,285.438,0,255.983,0\r S202.65,23.878,202.65,53.333v251.584l-77.781-77.803c-21.838-21.838-57.245-21.838-79.083,0s-21.838,57.245,0,79.083\r l202.667,202.667c4.165,4.164,10.917,4.164,15.083,0l202.667-202.667c21.838-21.838,21.838-57.245,0-79.083s-57.245-21.838-79.083,0\r L387.098,227.115z"}),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null))},Eo=function(){return r.a.createElement("svg",{x:"0px",y:"0px",viewBox:"0 0 512.008 512.008"},r.a.createElement("path",{d:"M263.556,3.123c-4.165-4.164-10.917-4.164-15.083,0L45.807,205.79\r c-21.838,21.838-21.838,57.245,0,79.083s57.245,21.838,79.083,0l77.781-77.781v251.584c0,29.455,23.878,53.333,53.333,53.333\r c29.455,0,53.333-23.878,53.333-53.333V207.091l77.781,77.781c21.838,21.838,57.245,21.838,79.083,0s21.838-57.245,0-79.083\r L263.556,3.123z"}),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null))},bo=function(e){return r.a.createElement(fo.a,Object.assign({component:yo},e))},vo=function(e){return r.a.createElement(fo.a,Object.assign({component:Eo},e))},xo=function(e){Object(lr.a)(a,e);var t=Object(or.a)(a);function a(){return Object(nr.a)(this,a),t.apply(this,arguments)}return Object(rr.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(po.a,{style:{width:200,height:150,borderRadius:"12px",backgroundSize:"cover",backgroundImage:"linear-gradient( rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7) ), url(./Laptop.jpg)"},bodyStyle:{padding:"5px"}},r.a.createElement(mo.a,{style:{color:"orange",margin:"3%"}}),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",marginLeft:"3%"}},r.a.createElement(go,{style:{fontSize:"small",color:"white"}},this.props.kpiData.title),r.a.createElement(ho,{level:4,style:{color:"white",marginBottom:0,marginTop:"9%"}},this.props.kpiData.count.toString().padStart(2,"0")),r.a.createElement("div",null,r.a.createElement(go,{style:{color:"white",fontWeight:"bold"}},"".concat(this.props.kpiData.percentage,"%")),"High"===this.props.kpiData.indicator?r.a.createElement(vo,{style:{fill:"#66FF00",width:12,marginLeft:10}}):r.a.createElement(bo,{style:{fill:"red",width:12,marginLeft:10}})),r.a.createElement(go,{style:{color:"white"}},r.a.createElement("span",null,"Latest: "),r.a.createElement(el.a,{format:"hh:mmA DD-MM-YY"},this.props.kpiData.latest)))))}}]),a}(n.Component),So=a(1343),Do=a(1344),Oo=(a(1117),jr.a.Text),Co=jr.a.Title,ko=function(){return r.a.createElement("svg",{x:"0px",y:"0px",viewBox:"0 0 511.987 511.987"},r.a.createElement("path",{d:"M387.098,227.115l-77.781,77.803V53.333C309.316,23.878,285.438,0,255.983,0\r S202.65,23.878,202.65,53.333v251.584l-77.781-77.803c-21.838-21.838-57.245-21.838-79.083,0s-21.838,57.245,0,79.083\r l202.667,202.667c4.165,4.164,10.917,4.164,15.083,0l202.667-202.667c21.838-21.838,21.838-57.245,0-79.083s-57.245-21.838-79.083,0\r L387.098,227.115z"}),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null))},Ro=function(){return r.a.createElement("svg",{x:"0px",y:"0px",viewBox:"0 0 512.008 512.008"},r.a.createElement("path",{d:"M263.556,3.123c-4.165-4.164-10.917-4.164-15.083,0L45.807,205.79\r c-21.838,21.838-21.838,57.245,0,79.083s57.245,21.838,79.083,0l77.781-77.781v251.584c0,29.455,23.878,53.333,53.333,53.333\r c29.455,0,53.333-23.878,53.333-53.333V207.091l77.781,77.781c21.838,21.838,57.245,21.838,79.083,0s21.838-57.245,0-79.083\r L263.556,3.123z"}),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null))},wo=function(e){return r.a.createElement(fo.a,Object.assign({component:ko},e))},jo=function(e){return r.a.createElement(fo.a,Object.assign({component:Ro},e))},Io=function(e){Object(lr.a)(a,e);var t=Object(or.a)(a);function a(){return Object(nr.a)(this,a),t.apply(this,arguments)}return Object(rr.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(po.a,{style:{width:200,height:150,borderRadius:"12px",backgroundSize:"cover",backgroundImage:"linear-gradient( rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7) ), url(./building.jpeg)"},bodyStyle:{padding:"5px"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",margin:"3%"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement(Oo,{style:{fontSize:"small",color:"white"}},this.props.kpiData.title),r.a.createElement("div",null,r.a.createElement(So.a,{className:"hover-visible",style:{color:"white",fontSize:15,padding:3}}),r.a.createElement(Do.a,{className:"hover-visible",style:{color:"white",fontSize:15,padding:3}}))),r.a.createElement(Oo,{style:{fontSize:"small",color:"white"}},this.props.kpiData.subtitle),r.a.createElement(Co,{level:4,style:{color:"white",marginBottom:0,marginTop:"9%"}},"$".concat(this.props.kpiData.amount)),r.a.createElement("div",null,r.a.createElement(Oo,{style:{color:"white",fontWeight:"bold"}},"".concat(this.props.kpiData.percentage,"%")),"High"===this.props.kpiData.indicator?r.a.createElement(jo,{style:{fill:"#66FF00",width:12,marginLeft:10}}):r.a.createElement(wo,{style:{fill:"red",width:12,marginLeft:10}})),r.a.createElement(Oo,{style:{color:"white"}},r.a.createElement("span",null,"Latest: "),r.a.createElement(el.a,{format:"hh:mmA DD-MM-YY"},this.props.kpiData.latest)))))}}]),a}(n.Component),To=a(652),Ao=a.n(To),Po=(a(1132),a(1133),a(1134),function(e){Object(lr.a)(a,e);var t=Object(or.a)(a);function a(){return Object(nr.a)(this,a),t.apply(this,arguments)}return Object(rr.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch({type:v})}},{key:"render",value:function(){var e={infinite:!1,speed:500,slidesToShow:6,slidesToScroll:1,initialSlide:0,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3,infinite:!1,dots:!1}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2,initialSlide:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]};yt(this.props.userInfo).isPlanner;return r.a.createElement("div",{className:"operational-status"},r.a.createElement(Ao.a,e,this.props.operationalStatus.kpiData&&0!==this.props.operationalStatus.kpiData.lenght?this.props.operationalStatus.kpiData.map((function(e,t){return r.a.createElement("div",{key:t},e.favourite?r.a.createElement(xo,{kpiData:e}):r.a.createElement(Io,{kpiData:e}))})):r.a.createElement(hr.a,{size:30,color:"#ff8f1a",loading:!0})))}}]),a}(n.Component)),Lo=Object(s.b)((function(e){return{userInfo:e.login.userInfo,operationalStatus:e.operationalStatus}}))(Po),No=(a(1135),a(151)),Go=(a(1147),il.a.Search),Uo=sl.a.Option,_o=function(e){var t=function(e,t){return"column"===t?[{title:"FORECAST - ".concat(e),field:"forecast",widthGrow:2,frozen:!0},{title:"Details",field:"details",frozen:!0},{title:"Jan",field:"jan"},{title:"Feb",field:"feb"},{title:"March",field:"mar"},{title:"April",field:"apr"},{title:"May",field:"may"},{title:"June",field:"jun"},{title:"July",field:"jul"},{title:"Aug",field:"aug"},{title:"Sep",field:"sep"},{title:"Oct",field:"oct"},{title:"Nov",field:"nov"},{title:"Dec",field:"dec"},{title:"Total",field:"total"}]:[{forecast:"".concat(e," Orders"),details:"JYH112",jan:"200",feb:"200",mar:"200",apr:"200",may:"200",jun:"200",jul:"200",aug:"200",sep:"200",oct:"200",nov:"200",dec:"200",total:"200",_children:[{forecast:"Order 1",details:"JYH112",jan:"200",feb:"200",mar:"200",apr:"200",may:"200",jun:"200",jul:"200",aug:"200",sep:"200",oct:"200",nov:"200",dec:"200",total:"200"},{forecast:"Order 2",details:"JYH112",jan:"200",feb:"200",mar:"200",apr:"200",may:"200",jun:"200",jul:"200",aug:"200",sep:"200",oct:"200",nov:"200",dec:"200",total:"200"},{forecast:"Order 3",details:"JYH112",jan:"200",feb:"200",mar:"200",apr:"200",may:"200",jun:"200",jul:"200",aug:"200",sep:"200",oct:"200",nov:"200",dec:"200",total:"200"},{forecast:"Order 4",details:"JYH112",jan:"200",feb:"200",mar:"200",apr:"200",may:"200",jun:"200",jul:"200",aug:"200",sep:"200",oct:"200",nov:"200",dec:"200",total:"200"}]},{forecast:"".concat(e," Deals"),details:"TRW452",jan:"200",feb:"200",mar:"200",apr:"200",may:"200",jun:"200",jul:"200",aug:"200",sep:"200",oct:"200",nov:"200",dec:"200",total:"200",_children:[{forecast:"Deal 1",details:"TRW452",jan:"200",feb:"200",mar:"200",apr:"200",may:"200",jun:"200",jul:"200",aug:"200",sep:"200",oct:"200",nov:"200",dec:"200",total:"200"},{forecast:"Deal 2",details:"TRW452",jan:"200",feb:"200",mar:"200",apr:"200",may:"200",jun:"200",jul:"200",aug:"200",sep:"200",oct:"200",nov:"200",dec:"200",total:"200"},{forecast:"Deal 3",details:"TRW452",jan:"200",feb:"200",mar:"200",apr:"200",may:"200",jun:"200",jul:"200",aug:"200",sep:"200",oct:"200",nov:"200",dec:"200",total:"200"},{forecast:"Deal 4",details:"TRW452",jan:"200",feb:"200",mar:"200",apr:"200",may:"200",jun:"200",jul:"200",aug:"200",sep:"200",oct:"200",nov:"200",dec:"200",total:"200"}]},{forecast:"".concat(e," DEMAND TOTAL"),details:"FKUY35",jan:"200",feb:"200",mar:"200",apr:"200",may:"200",jun:"200",jul:"200",aug:"200",sep:"200",oct:"200",nov:"200",dec:"200",total:"200"},{forecast:"".concat(e," FORECAST"),details:"FKER34",jan:"200",feb:"200",mar:"200",apr:"200",may:"200",jun:"200",jul:"200",aug:"200",sep:"200",oct:"200",nov:"200",dec:"200",total:"200"},{forecast:"DIFFERENCE",details:"ERWY51",jan:"200",feb:"200",mar:"200",apr:"200",may:"200",jun:"200",jul:"200",aug:"200",sep:"200",oct:"200",nov:"200",dec:"200",total:"200"}]};return r.a.createElement("div",null,r.a.createElement("div",{style:{display:"flex",flexDirection:"row-reverse",alignItems:"center"}},r.a.createElement(bl.a,{placement:"topLeft",title:"Table Settings"},r.a.createElement(Ur.a,{style:{margin:"0px 0px 0px 10px"}})),r.a.createElement(sl.a,{style:{width:"230px"},placeholder:"Standard"},r.a.createElement(Uo,{value:"Standard"},"Standard")),r.a.createElement(Go,{placeholder:"search",style:{width:300,marginRight:10}})),["EMEA","APJ","AMS","GENERAL"].map((function(e){return r.a.createElement(No.ReactTabulator,{key:e,style:{width:"100%",marginBottom:25},options:{dataTree:!0,layout:"fitColumns"},ref:function(e){console.log(e)},data:t(e,"data"),tooltips:!0,columns:t(e,"column")})})))},Mo=a(205),Vo=a(436),Bo=(a(1159),Object(Vo.WidthProvider)(Vo.Responsive)),Fo=function(e){var t={};if(localStorage)try{t=JSON.parse(localStorage.getItem(e))||{}}catch(a){}return t[e]}("layouts")||{};var zo=function(e){Object(lr.a)(a,e);var t=Object(or.a)(a);function a(e){var n;return Object(nr.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e=[];n.props.persona&&n.props.persona.Items.map((function(t){return e.push(Object(jt.cloneDeep)(t.cards))}))},n.componentDidUpdate=function(e){if(n.props.children!==e.children){var t=n.props.children.map((function(e){return e.props["data-grid"]})),a={lg:t};n.onLayoutChange(t,a)}},n.state={layouts:JSON.parse(JSON.stringify(Fo))},n}return Object(rr.a)(a,[{key:"resetLayout",value:function(){this.setState({layouts:{}})}},{key:"onLayoutChange",value:function(e,t){var a,n;a="layouts",n=t,localStorage&&localStorage.setItem(a,JSON.stringify(Object(Mo.a)({},a,n))),this.setState({layouts:t})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(Bo,{className:"layout",breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},rowHeight:this.props.height?this.props.height:200,autoSize:!0,layouts:this.state.layouts,draggableCancel:".tabulator-col-content",onLayoutChange:function(t,a){return e.onLayoutChange(t,a)},useCSSTransforms:!0,transformScale:1},this.props.children))}}],[{key:"defaultProps",get:function(){return{className:"layout",cols:{lg:12,md:10,sm:6,xs:4,xxs:2},autoSize:!0}}}]),a}(r.a.Component),Wo=Object(s.b)((function(e){return{login:e.login,users:e.users.users,persona:e.persona&&e.persona.personaData}}))(zo),Ho=a(1307),Jo=function(e){var t=sl.a.Option,a=r.a.useState("cards"),n=Object(sr.a)(a,2),l=n[0],o=n[1],s=r.a.useState(),i=Object(sr.a)(s,2),c=i[0],u=i[1],d=r.a.useState(),p=Object(sr.a)(d,2),m=p[0],f=p[1],g=r.a.useState({}),h=Object(sr.a)(g,2),y=h[0],E=h[1];r.a.useEffect((function(){o("cards"),f(null)}),[e.onPressGo]);var b=function(t){if(t&&"tables"===l){var a=[];f("".concat(t)),y[n=t]||wt.get("/model/view/columns/".concat(n)).then((function(e){var t=Object(jt.cloneDeep)(y),a=e.data.data.viewName,r=Object.entries(e.data.data.viewsCol).map((function(e){return{key:"".concat(e[0],"&").concat(a,"&").concat(n),value:e[0],text:e[1]}}));t[n]=r,E(t)})).catch((function(e){return console.log(e)})),e.selectedPersonaData.table.filter((function(e){return e.persID==="".concat(t)})).forEach((function(e){e.mapped_column.forEach((function(e){e.visibility&&a.push(e.dbcolumn)}))})),u(a)}var n},v=function(t,a){u(t),e.handleColumnChange(m,a)},x=function(e){o(e)},S=[{title:"View",dataIndex:"view",key:"view"},{title:"Control",dataIndex:"control",key:"control",render:function(e){return e?r.a.createElement(sl.a,{showSearch:!0,style:{width:200},placeholder:"Select a control",optionFilterProp:"children",defaultValue:["cards"],onChange:x,value:l,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},r.a.createElement(t,{key:"cards",value:"cards"},"Cards"),r.a.createElement(t,{key:"tables",value:"tables"},"Tables (with columns)"),r.a.createElement(t,{key:"tabs",value:"tabs"},"Tabs (with sub-tabs)"),r.a.createElement(t,{key:"osKPI",value:"osKPI"},"Operational status KPIs"),r.a.createElement(t,{key:"reportTiles",value:"reportTiles"},"Report tiles")):r.a.createElement(sl.a,{style:{width:200},disabled:!0,placeholder:"Please select control"})}},{title:"tables"===l?"Table":"Attributes",dataIndex:"tables"===l?"table":"attributes",key:"tables"===l?"table":"attributes",render:function(e){return e?r.a.createElement(sl.a,{showSearch:!0,disabled:"tables"!==l,style:{width:200},placeholder:"Select a table",optionFilterProp:"children",onChange:b,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},r.a.createElement(t,{key:ha.PERSID_OPENPO,value:ha.PERSID_OPENPO},"Open PO"),r.a.createElement(t,{key:ha.PERSID_BACKLOG,value:ha.PERSID_BACKLOG},"Backlog"),r.a.createElement(t,{key:ha.PERSID_SHORTAGE,value:ha.PERSID_SHORTAGE},"Shortage Report"),r.a.createElement(t,{key:ha.PERSID_SHIPMENTS,value:ha.PERSID_SHIPMENTS},"Ship Log"),r.a.createElement(t,{key:ha.PERSID_BOOKINGVSFORECAST,value:ha.PERSID_BOOKINGVSFORECAST},"Booking vs Forecast"),r.a.createElement(t,{key:ha.PERSID_OPENORDER,value:ha.PERSID_OPENORDER},"Open Order"),r.a.createElement(t,{key:ha.PERSID_BUILDPLAN,value:ha.PERSID_BUILDPLAN},"Build Plan"),r.a.createElement(t,{key:ha.PERSID_DEALTRACKER,value:ha.PERSID_DEALTRACKER},"Deal Tracker")):r.a.createElement(sl.a,{style:{width:200},disabled:!0,placeholder:"Please select attributes"})}},{title:{cards:"Cards",tables:"Column",tabs:"Sub -tabs",osKPI:"KPI Tiles",reportTiles:"Report Tiles"}[l],dataIndex:"options",key:"options",render:function(a){return function(a){if(e.adminData.length)switch(l){case"cards":return a.cards?r.a.createElement(sl.a,{maxTagCount:2,maxTagTextLength:10,mode:"multiple",style:{width:"300px"},placeholder:"Please select cards",value:e.selectedPersonaData.cards.map((function(e){return parseInt(e.cardID)})),filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},onChange:e.handleCardChange},e.adminData[0].cards.map((function(e){return r.a.createElement(t,{key:e.cardID,value:e.cardID},e.cardName)}))):r.a.createElement(sl.a,{style:{width:"300px"},placeholder:"Please select cards",disabled:!0});case"tables":return a.columns&&m&&y[m]?r.a.createElement(sl.a,{maxTagCount:2,maxTagTextLength:10,mode:"multiple",style:{width:"300px"},value:c,onChange:v,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},placeholder:"Please select columns"},y[m].map((function(e){return r.a.createElement(t,{key:e.key,value:e.value},e.text)}))):r.a.createElement(sl.a,{style:{width:"300px"},placeholder:"Please select columns",disabled:!0});case"tabs":return r.a.createElement(sl.a,{maxTagCount:2,maxTagTextLength:10,mode:"multiple",style:{width:"300px"},placeholder:"Please select tabs",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},e.adminData[0].tabs.map((function(e){return r.a.createElement(t,{key:e.tab_name,value:e.tab_name},e.tab_name)})));default:return r.a.createElement(sl.a,{style:{width:"300px"},disabled:!0})}}(a)}}];return r.a.createElement(Ho.a,{columns:S,dataSource:[{key:"1",view:"Home",control:!0,table:!0,attributes:!0,options:{cards:!0,columns:!0}},{key:"2",view:"Shortage Management",control:!1,table:!1,attributes:!1,options:{cards:!1,columns:!1}},{key:"3",view:"Consol",control:!1,table:!1,attributes:!1,options:{cards:!1,columns:!1}},{key:"4",view:"WW Summary",control:!1,table:!1,attributes:!1,options:{cards:!1,columns:!1}},{key:"5",view:"Reports",control:!1,table:!1,attributes:!1,options:{cards:!1,columns:!1}}],pagination:!1})},Yo=sl.a.Option,qo=jr.a.Text;function Qo(e){var t=Object(n.useState)("Supply Planner"),a=Object(sr.a)(t,2),l=a[0],o=a[1],s=Object(n.useState)("local"),i=Object(sr.a)(s,2),c=i[0],u=i[1],d=Object(n.useState)("EMEA"),p=Object(sr.a)(d,2),m=p[0],f=p[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",marginBottom:10}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",marginRight:"15px"}},r.a.createElement(qo,{strong:!0,style:{margin:"2px"}},"Persona:"),r.a.createElement(sl.a,{showSearch:!0,style:{width:200},placeholder:"Select a persona",optionFilterProp:"children",value:l,onChange:function(e){o(e)},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},e.jobRoles.map((function(e){return r.a.createElement(Yo,{key:e,value:e},e)})))),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",marginRight:"15px"}},r.a.createElement(qo,{strong:!0,style:{margin:"2px"}},"Scope:"),r.a.createElement(sl.a,{showSearch:!0,style:{width:200},placeholder:"Select a scope",optionFilterProp:"children",value:c,onChange:function(e){u(e),f("global"===e?"ww":"EMEA")},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},r.a.createElement(Yo,{key:"local",value:"local"},"Regional"),r.a.createElement(Yo,{key:"global",value:"global"},"Global"))),r.a.createElement("div",{style:{display:"flex",flexGrow:1,flexDirection:"column"}},r.a.createElement(qo,{strong:!0,style:{margin:"2px"}},"User Groups:"),r.a.createElement(sl.a,{showSearch:!0,style:{width:200},placeholder:"Select a view",optionFilterProp:"children",value:m,onChange:function(e){f(e)},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},e.userGroups.map((function(e){return r.a.createElement(Yo,{key:e.userGroupID,value:e.userGroupID,disabled:"global"===c},e.userGroupID)})),r.a.createElement(Yo,{key:"ww",value:"ww",disabled:"local"===c},"WW"))),r.a.createElement(Pr.a,{type:"primary",onClick:e.handleGo.bind(this,l,c,m),style:{alignSelf:"flex-end",margin:10}},"GO")),r.a.createElement(Ml.a,{disabled:"global"===c},"Apply same configuration to ".concat(m," ").concat("local"===c?"Global":"Local"," ").concat(l)))}function Ko(e,t){switch(t){case"Success":Ir.a.success({content:e,zIndex:1400});break;case"Error":Ir.a.error({content:e,zIndex:1400});break;case"Warning":Ir.a.warning({content:e,zIndex:1400});break;default:Ir.a.info({content:e,zIndex:1400})}}var $o=sl.a.Option,Xo=function(e){Object(lr.a)(a,e);var t=Object(or.a)(a);function a(){var e;Object(nr.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={adminData:[],jobRoles:[],emeaDefaultColumns:[],apjDefaultColumns:[],emeaChildren:[],apjChildren:[],selectedEmeaColumns:[],selectedApjColumns:[],selectedUserGroup:"emea",tableColumns:[],actualJobRoles:[],apiType:null,userGroup:null,persona:null,scope:null,jobRoleId:null,selectedPersonaData:{cards:[],tables:[],tabs:[],mapID:null},sRoleID:null,userGroups:[],onPressGo:0},e.handleEmeaColumnChange=function(t){e.setState({selectedEmeaColumns:t,emeaDefaultColumns:t})},e.handleApjColumnChange=function(t){e.setState({selectedApjColumns:t,apjDefaultColumns:t})},e.setSelectedColumns=function(t){var a=[],n=[],l=[],o=[],s=!0,i=!0;t.forEach((function(e){e.mapped_column.forEach((function(t){"EMEA"===e.userGroup?(l.push(r.a.createElement($o,{key:t.dbcolumn,disabled:s},t.dbcoltxt)),s=!1):(o.push(r.a.createElement($o,{key:t.dbcolumn,disabled:i},t.dbcoltxt)),i=!1),t.visibility&&("EMEA"===e.userGroup?a.push(t.dbcolumn):n.push(t.dbcolumn))}))})),e.setState({emeaDefaultColumns:a,apjDefaultColumns:n,emeaChildren:l,apjChildren:o,selectedEmeaColumns:a,selectedApjColumns:n})},e.handleUserGroupChange=function(t){e.setState({selectedUserGroup:t})},e.createCardMapping=function(e){var t={};return e.forEach((function(e){e.persID&&(t[e.persID]={name:e.cardName,id:e.cardID})})),t},e.handleGo=function(t,a,n){var r=e.state.actualJobRoles.filter((function(e){return e.jobRole===t&&e.position===a}));r.length&&wt.get("/persona?position=".concat(a,"&jobRoleID=").concat(r[0].jobRoleID,"&userGroup=").concat(n)).then((function(l){console.log("response",l);var o=l.data.data.length?"PUT":"POST",s=[],i=Object(jt.cloneDeep)(e.state.selectedPersonaData),c=[],u=e.state.onPressGo;l.data.data.length&&(console.log("response.data.data[0]",l.data.data[0]),l.data.data[0].cards&&l.data.data[0].cards.forEach((function(e){e.visibility&&s.push(e)})),c=l.data.data[0].table||[],i.mapID=l.data.data[0].mapID),i.table=c,i.cards=s,e.setState({apiType:o,userGroup:n,persona:t,scope:a,onPressGo:u+1,selectedPersonaData:i,jobRoleId:r[0].jobRoleID})})).catch((function(e){return console.log(e)}))},e.getStructuredColumns=function(e){var t={};return t[ha.SKU]=[],Object.keys(ha).forEach((function(a){e[0].table.filter((function(e){return e.persID===ha[a]})).forEach((function(e){e.mapped_column.forEach((function(n){t[ha[a]]||(t[ha[a]]=[]),t[ha[a]].push(Object(ft.a)(Object(ft.a)({},n),{dbtable:e.dbtable}))}))}))})),t},e.handleSave=function(){var t=e.getStructuredPayload();if(t.cards.length&&t.table.length){var a=e.validateTableData(t);a.length?Ar.a.error({title:"Please select the below cards",content:a.toString()}):"POST"===e.state.apiType?(t.tabs=[{tab_name:"tab1",visbility:!0}],wt.post("/persona",t).then((function(t){Ko("Added persona successfully","Success");var a=Object(jt.cloneDeep)(e.state.selectedPersonaData);a.mapID=t.data.data.mapID,e.setState({apiType:"PUT",selectedPersonaData:a})})).catch((function(e){console.log(e)}))):wt.put("/persona",t).then((function(e){Ko("Updated persona successfully","Success")})).catch((function(e){console.log(e)}))}else Ar.a.error({title:"Please select at least one card and one table column"})},e.validateTableData=function(t){var a=[],n=e.state.cardMapping;return t.table.forEach((function(e){t.cards.filter((function(t){return t.cardID===n[e.persID].id})).length||a.push(n[e.persID].name)})),Object(jt.uniq)(a)},e.getStructuredPayload=function(){var t=e.state,a=t.userGroup,n=t.scope,r=t.jobRoleId,l=e.state.selectedPersonaData,o=l.cards,s=l.mapID,i={userGroup:a,sRoleID:"1",jobRoleID:r,position:n,cards:o,table:l.table};return s&&(i.mapID=s),i},e.handleCardChange=function(t,a){var n=a.map((function(e){return{cardID:e.value,cardName:e.children,visibility:!0}})),r=Object(jt.cloneDeep)(e.state.selectedPersonaData);r.cards=n,e.setState({selectedPersonaData:r})},e.handleColumnChange=function(t,a){var n=Object(jt.cloneDeep)(e.state.selectedPersonaData),r=[];a.forEach((function(e){var a=r.filter((function(a){return a.dbtable===e.key.split("&")[1]&&a.persID===t}));a.length?a[0].mapped_column.push({dbcoltxt:e.children,dbcolumn:e.value,visibility:!0}):r.push({dbtable:e.key.split("&")[1],mapped_column:[{dbcoltxt:e.children,dbcolumn:e.value,visibility:!0}],persID:t,visible:!0})})),r.forEach((function(e){Object(jt.remove)(n.table,(function(t){return t.dbtable===e.dbtable&&t.persID===e.persID})),n.table.push(e)})),e.setState({selectedPersonaData:n})},e}return Object(rr.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(wt.get("/persona?sRoleID=2&jobRoleID=10").then((function(t){var a=e.getStructuredColumns(t.data.data),n=e.createCardMapping(t.data.data[0].cards);e.setState({adminData:t.data.data,tableColumns:a,cardMapping:n})})).catch((function(e){return console.log(e)})),wt.get("/job/roles").then((function(t){var a=[];t.data.data.forEach((function(e){"Admin"!==e.jobRole&&-1===a.indexOf(e.jobRole)&&a.push(e.jobRole)})),e.setState({jobRoles:a,actualJobRoles:t.data.data})})).catch((function(e){return console.log(e)})),this.props.userGroups.userGroups){var t=this.props.userGroups.userGroups.filter((function(e){return["APJ","EMEA","AMS"].indexOf(e.userGroupID)>-1}));this.setState({sRoleID:this.props.userInfo.sRole.sRoleID,userGroups:t})}}},{key:"render",value:function(){return r.a.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100vh",background:"white"}},r.a.createElement("div",{style:{padding:20}},r.a.createElement("div",{style:{margin:"20px 0"}},r.a.createElement(Qo,{handleGo:this.handleGo,handleUserGroupChange:this.handleUserGroupChange,jobRoles:this.state.jobRoles,userGroups:this.state.userGroups})),r.a.createElement(Jo,{onPressGo:this.state.onPressGo,selectedPersonaData:this.state.selectedPersonaData,handleCardChange:this.handleCardChange,handleColumnChange:this.handleColumnChange,tableColumns:this.state.tableColumns,adminData:this.state.adminData,defaultColumns:"emea"===this.state.selectedUserGroup?this.state.emeaDefaultColumns:this.state.apjDefaultColumns,children:"emea"===this.state.selectedUserGroup?this.state.emeaChildren:this.state.apjChildren})),r.a.createElement("div",{style:{bottom:0,position:"fixed",width:"100%",display:"flex",flexDirection:"row-reverse",background:"black",height:45,alignItems:"center"}},r.a.createElement(Pr.a,{type:"primary",style:{marginRight:10,width:100},onClick:this.handleSave,disabled:!this.state.apiType},"SAVE")))}}]),a}(n.Component),Zo=Object(s.b)((function(e){return{userGroups:e.userGroups,userInfo:e.login.userInfo}}))(Xo),es=a(1324);a(1240);function ts(e){var t=Object(n.useState)(Boolean(e.anchorEl)),a=Object(sr.a)(t,2),l=a[0],o=a[1];Object(n.useEffect)((function(){o(Boolean(e.anchorEl))}),[e.anchorEl]);var s=function(t){Ar.a.confirm({title:"Are you sure you want to delete the variant?",onOk:function(){e.handleDeleteVariant(t)},zIndex:1400})},i=r.a.createElement("div",{style:{display:"flex",height:"100%",width:"300px",flexDirection:"column"}},r.a.createElement("div",{style:{flex:"1 0 auto",height:"300px",overflowY:"scroll"}},r.a.createElement(es.b,{size:"small",dataSource:Object.keys(e.tablePersonalisationModel),renderItem:function(t){return r.a.createElement(es.b.Item,{key:t,onClick:e.handleSelectVariant,className:"ListItem"},r.a.createElement(es.b.Item.Meta,{title:t}),r.a.createElement("div",null,r.a.createElement(Pr.a,{ghost:!0,danger:!0,shape:"circle",disabled:"standard"===t.toLowerCase(),onClick:s.bind(null,t),icon:r.a.createElement(Do.a,null)})))}})),r.a.createElement("footer",{style:{display:"flex",justifyContent:"flex-end",padding:5}},r.a.createElement(Pr.a,{style:{marginRight:10},type:"primary",disabled:e.reset||e.selectedVariant===e.selectedDefaultVariant||!!e.selectedVariantModel&&parseInt(e.userID)!==parseInt(e.selectedVariantModel.createdBy),onClick:e.handleSaveVariant},"Save"),r.a.createElement(Pr.a,{style:{marginRight:10},type:"primary",disabled:e.reset,onClick:e.handleOpenVariantDialog},"Save As"),r.a.createElement(Pr.a,{type:"primary",onClick:e.handleOpenManageDialog},"Manage")));return r.a.createElement(Jl.a,{overlayClassName:"VariantManagementContent",content:i,title:"Variant List",trigger:"click",visible:l,placement:"right",onVisibleChange:function(e){o(e)}},e.children)}var as=jr.a.Title,ns=function(e){return r.a.createElement("div",{style:{display:"flex",flexGrow:"1",alignItems:"center",borderLeft:"2px solid white"}},r.a.createElement(as,{color:"inherit",level:3,style:{marginBottom:0},display:"block"},e.selectedVariant),r.a.createElement(ts,{selectedVariantModel:e.selectedVariantModel,userID:e.userID,reset:e.reset,handleSaveVariant:e.handleSaveVariant,selectedDefaultVariant:e.selectedDefaultVariant,selectedVariant:e.selectedVariant.split("*")[0],handleOpenVariantDialog:e.handleOpenVariantDialog,handleOpenManageDialog:e.handleOpenManageDialog,handleSelectVariant:e.handleSelectVariant,handleDeleteVariant:e.handleDeleteVariant,tablePersonalisationModel:e.tablePersonalisationModel,handleVariantClose:e.handleVariantClose,anchorEl:e.buttonAnchorEl},r.a.createElement(bl.a,{title:"Show Variants",placement:"bottom"},r.a.createElement(Pr.a,{type:"ghost",shape:"circle",style:{border:"none",boxShadow:"none"},onClick:e.handleVariantOpen,icon:r.a.createElement(so.a,null)}))))},rs=a(1346),ls=sl.a.Option;function os(e){var t=Object(Gn.a)(e.columnList),a=Object(Gn.a)(e.sortingList);t.unshift({title:"(none)",field:"none"});var n=t.map((function(e){return r.a.createElement(ls,{key:e.field,value:e.field},e.title)})),l=a.map((function(t,a){return r.a.createElement("div",{key:"customList".concat(t.column).concat(Math.random()),style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:10}},r.a.createElement(sl.a,{value:t.column,style:{width:180},onChange:e.handleColumnChange.bind(null,a)},n),r.a.createElement(sl.a,{value:t.dir,style:{width:180},disabled:"none"===t.column,onChange:e.handleSortOrderChange.bind(null,a)},r.a.createElement(ls,{value:"asc"},"Ascending"),r.a.createElement(ls,{value:"desc"},"Descending")),r.a.createElement("div",null,r.a.createElement(Pr.a,{ghost:!0,shape:"circle",style:{color:"black",marginRight:5},onClick:e.addSort.bind(null,a),icon:r.a.createElement(ql.a,null)}),r.a.createElement(Pr.a,{ghost:!0,shape:"circle",style:{color:"black"},onClick:e.removeSort.bind(null,a),icon:r.a.createElement(rs.a,null)})))}));return r.a.createElement(r.a.Fragment,null,l)}var ss=function(e){var t=e.checked.length===e.columns.length;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ml.a,{style:{borderBottom:"1px solid #f0f0f0",width:"100%",padding:"12px 0"},checked:t,onChange:e.handleSelectAll.bind(null,e.type,t)},"Select All"),r.a.createElement(es.b,{dataSource:e.columns,renderItem:function(t){return r.a.createElement(es.b.Item,null,r.a.createElement(Ml.a,{checked:-1!==e.checked.indexOf(t.field),onChange:e.handleToggle.bind(null,t.field)},t.title))}}))},is=ol.a.TabPane,cs=function(e){var t=r.a.useState([]),a=Object(sr.a)(t,2),n=a[0],l=a[1],o=r.a.useState([]),s=Object(sr.a)(o,2),i=s[0],c=s[1],u=r.a.useState([]),d=Object(sr.a)(u,2),p=d[0],m=d[1],f=r.a.useState(!0),g=Object(sr.a)(f,2),h=g[0],y=g[1],E=r.a.useState([]),b=Object(sr.a)(E,2),v=b[0],x=b[1];r.a.useEffect((function(){var t=[];e.columns.forEach((function(e){t.push(e.field)})),x(t)}),[e.columns]),r.a.useEffect((function(){l(e.columnValue),c(e.groupValue),m(Object(jt.cloneDeep)(e.sortValue)),y(e.reset)}),[e.dialogState,e.columnValue,e.groupValue,e.sortValue,e.reset]);var S=function(e,t){var a=t?[]:v;"column"===e?(l(a),D(a,p,i)):(c(a),D(n,p,a))},D=function(t,a,n){gt(e.selectedVariantModel.columnValue,t)||!Object(jt.isEqual)(e.selectedVariantModel.sortValue,a)||gt(e.selectedVariantModel.groupValue,n)?y(!1):y(!0)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ar.a,{closable:!1,maskClosable:!1,visible:e.dialogState,footer:[r.a.createElement(Pr.a,{onClick:function(){y(!0),l(e.selectedVariantModel.columnValue),c(e.selectedVariantModel.groupValue),m(e.selectedVariantModel.sortValue)},type:"primary",disabled:h},"Reset"),r.a.createElement(Pr.a,{onClick:e.handleColumnSelectCancel,type:"primary"},"Cancel"),r.a.createElement(Pr.a,{onClick:function(){var t=function(){var e=[];return 0===n.length&&e.push("Please select at least one column to display in table"),p.every((function(t){return"none"===t.column||-1!==n.indexOf(t.column)||(e.push("Please select sort columns which are visible in the table"),!1)})),i.every((function(t){return-1!==n.indexOf(t)||(e.push("Please select group columns which are visible in the table"),!1)})),e}();if(t.length){var a=t.map((function(e){return r.a.createElement("div",{key:e},r.a.createElement("p",null,e))}));Ar.a.error({title:"Error",content:a,zIndex:1400})}else{var l=Object(jt.uniqBy)(p,"column"),o=Object(jt.filter)(l,(function(e){return"none"!==e.column}));0===o.length&&o.push({column:"none",dir:"asc"}),D(n,o,i),e.handleColumnSelectApply(n,o,i,h)}},type:"primary",autoFocus:!0},"Apply")]},r.a.createElement(ol.a,{defaultActiveKey:"columns"},r.a.createElement(is,{tab:"Columns",key:"columns",style:{maxHeight:300,overflowY:"auto"}},r.a.createElement(ss,{columns:e.columns,checked:n,type:"column",handleSelectAll:S,handleToggle:function(e){var t=n.indexOf(e),a=Object(Gn.a)(n);-1===t?a.push(e):a.splice(t,1),l(a),D(a,p,i)}})),r.a.createElement(is,{tab:"Sort",key:"sort",style:{maxHeight:300,overflowY:"auto"}},r.a.createElement(os,{sortingList:p,addSort:function(){var e=Object(jt.cloneDeep)(p);e.push({column:"none",dir:"asc"}),m(e),D(n,e,i)},removeSort:function(e){var t=Object(jt.cloneDeep)(p);t.splice(e,1),0===t.length&&t.push({column:"none",dir:"asc"}),m(t),D(n,t,i)},columnList:e.radioList,handleSortOrderChange:function(e,t){var a=Object(jt.cloneDeep)(p);a[e].dir=t,m(a),D(n,a,i)},handleColumnChange:function(e,t){var a=Object(jt.cloneDeep)(p);a[e].column=t,m(a),D(n,a,i)}})),r.a.createElement(is,{tab:"Group",key:"group",style:{maxHeight:300,overflowY:"auto"}},r.a.createElement(ss,{columns:e.columns,checked:i,type:"group",handleSelectAll:S,handleToggle:function(e){var t=i.indexOf(e),a=Object(Gn.a)(i);-1===t?a.push(e):a.splice(t,1),c(a),D(n,p,a)}})))))},us=jr.a.Text,ds=function(e){var t=r.a.useState(!0),a=Object(sr.a)(t,2),n=a[0],l=a[1],o=r.a.useState(!1),s=Object(sr.a)(o,2),i=s[0],c=s[1],u=r.a.useState("Public"),d=Object(sr.a)(u,2),p=d[0],m=d[1],f=r.a.useState(),g=Object(sr.a)(f,2),h=g[0],y=g[1],E=r.a.useState(""),b=Object(sr.a)(E,2),v=b[0],x=b[1];r.a.useEffect((function(){c(!1),l(!0),x("")}),[e.variantDialogState]);return r.a.createElement(Ar.a,{closable:!1,title:"Create Variant",visible:e.variantDialogState,zIndex:1200,footer:[r.a.createElement(Pr.a,{onClick:e.handleVariantDialogClose},"Cancel"),r.a.createElement(Pr.a,{onClick:function(){e.handleSaveAsVariant(p,v)},disabled:n,type:"primary"},"Save")]},r.a.createElement("p",null,"Please provide a variant name"),r.a.createElement("div",null,r.a.createElement(il.a,{type:"text",id:"variantName",name:"variantName",placeholder:"Variant name",value:v,onChange:function(t){var a=t.target.value,n=""===a.trim()?"Variant name cannot be empty":e.tablePersonalisationModel[a]?"Variant name already exists":null;n?(c(!0),l(!0)):(c(!1),l(!1)),x(a),y(n)}}),r.a.createElement(ht,{valid:!i,message:h})),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",marginTop:10}},r.a.createElement(us,{strong:!0},"Sharing"),r.a.createElement(Yl.default.Group,{onChange:function(e){m(e.target.value)},value:p},r.a.createElement(Yl.default,{value:"Public"},"Public"),r.a.createElement(Yl.default,{value:"Private"},"Private"))))},ps=sl.a.Option;function ms(e){var t=this,a=r.a.useState(),n=Object(sr.a)(a,2),l=n[0],o=n[1],s=r.a.useState(e.manageVariantList),i=Object(sr.a)(s,2),c=i[0],u=i[1],d=r.a.useState({}),p=Object(sr.a)(d,2),m=p[0],f=p[1];r.a.useEffect((function(){o(e.selectedDefaultVariant),u(e.manageVariantList)}),[e.selectedDefaultVariant,e.manageDialogState,e.manageVariantList]);var g=function(e,t){var a=Object(jt.cloneDeep)(c),n=Object(jt.cloneDeep)(m);a[e]&&(a[e].visibility=t,a[e].visibleToUsers=[],a[e].visibleToUsersGroup=[],n[e]=a[e],u(a),f(n))},h=function(e,t){var a=Object(jt.cloneDeep)(c),n=Object(jt.cloneDeep)(m);a[e]&&(a[e].visibleToUsers=t,n[e]=a[e],u(a),f(n))},y=function(e,t){var a=Object(jt.cloneDeep)(c),n=Object(jt.cloneDeep)(m);a[e]&&(a[e].visibleToUsersGroup=t,n[e]=a[e],u(a),f(n))},E=function(e){var t=e.target.value,a=Object(jt.cloneDeep)(c),n=Object(jt.cloneDeep)(m);a[t]&&(n[t]=a[t],f(n),o(t))},b=[];Object.keys(c).forEach((function(t){b.push({key:t,view:t,sharing:{value:c[t].visibility,variant:t,createdBy:c[t].createdBy},user:{users:e.users,visibility:c[t].visibility,selectedUsers:c[t].visibleToUsers,variant:t,createdBy:c[t].createdBy},userGroup:{userGroups:e.userGroup,visibility:c[t].visibility,selectedUserGroups:c[t].visibleToUsersGroup,variant:t,createdBy:c[t].createdBy},default:{checked:l===t,variant:t},createdByName:c[t].createdByName})}));var v=[{title:"View",dataIndex:"view",key:"view"},{title:"Sharing",dataIndex:"sharing",key:"sharing",render:function(a){return r.a.createElement(sl.a,{value:a.value,style:{width:120},disabled:a.createdBy!==parseInt(e.userID)||"standard"===a.variant.toLowerCase(),onChange:g.bind(t,a.variant)},r.a.createElement(ps,{value:"Private"},"Private"),r.a.createElement(ps,{value:"Public"},"Public"))}},{title:"User",dataIndex:"user",key:"user",render:function(a){return r.a.createElement(sl.a,{mode:"multiple",style:{width:"200px"},placeholder:"Please select users",dropdownMatchSelectWidth:!1,maxTagCount:1,maxTagTextLength:8,showArrow:!0,value:a.selectedUsers,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},disabled:"Public"===a.visibility||a.createdBy!==parseInt(e.userID),onChange:h.bind(t,a.variant)},a.users.map((function(e){return r.a.createElement(ps,{key:e.userID,value:e.userID},"".concat(e.FirstName," ").concat(e.LastName))})))}},{title:"User Group",dataIndex:"userGroup",key:"userGroup",render:function(a){return r.a.createElement(sl.a,{mode:"multiple",style:{width:"200px"},placeholder:"Please select user groups",dropdownMatchSelectWidth:!1,maxTagCount:1,maxTagTextLength:8,showArrow:!0,value:a.selectedUserGroups,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},disabled:"Public"===a.visibility||a.createdBy!==parseInt(e.userID),onChange:y.bind(t,a.variant)},a.userGroups.map((function(e){return r.a.createElement(ps,{key:e,value:e},e)})))}},{title:"Default",dataIndex:"default",width:"150px",key:"default",render:function(e){return r.a.createElement(Yl.default,{checked:e.checked,value:e.variant,onChange:E})}},{title:"Created By",dataIndex:"createdByName",width:"150px",key:"createdByName"}];return r.a.createElement(Ar.a,{title:"Manage Variants",width:1200,visible:e.manageDialogState,onCancel:e.handleCloseManageDialog,footer:[r.a.createElement(Pr.a,{onClick:e.handleCloseManageDialog,color:"primary"},"Cancel"),r.a.createElement(Pr.a,{onClick:e.handleApplyManageDialog.bind(null,l,m),color:"primary",autoFocus:!0},"Apply")]},r.a.createElement(Ho.a,{tableLayout:"auto",dataSource:b,columns:v,scroll:{y:240},pagination:!1}))}var fs=a(1347),gs=a(1348),hs=(a(1241),jr.a.Text),ys=il.a.Search,Es=function(e){Object(lr.a)(a,e);var t=Object(or.a)(a);function a(e){var n;return Object(nr.a)(this,a),(n=t.call(this,e)).productBaseFormatter=function(e){return"<div>\n                <a style={{ textDecoration: 'none' }}>".concat(e.getValue(),"</a>\n            </div>")},n.componentDidMount=function(){var e=n.props.userInfo.id;n.table=null;var t=n.props.data,a=[],r=t.data||t.columnData,l={};t.mapped_column?t.mapped_column.forEach((function(e){l={title:e.dbcoltxt,field:e.dbcolumn,formatter:e.formatter,frozen:n.props.freezedColumns&&n.props.freezedColumns.indexOf(e.field)>-1,headerSort:!1},"product_base"===e.dbcolumn&&"general"===n.props.tableType&&(l.formatter=n.productBaseFormatter),a.push(l)})):t.columns.forEach((function(e){l={title:e.displayName,formatter:e.formatter,field:e.field,frozen:n.props.freezedColumns&&n.props.freezedColumns.indexOf(e.field)>-1,headerSort:!1},a.push(l)})),n.setState({columnDefs:a,rowData:r,totalRows:r.length,userID:e}),"big"===n.props.cardType&&n.props.getVariants(n.props.userInfo.id,n.props.persID)},n.componentDidUpdate=function(){n.props.variants[n.props.persID]&&n.table&&!Object.keys(n.state.tablePersonalisationModel).length&&n.getStructuredData(n.props.variants[n.props.persID])},n.layoutMenu=function(e){return r.a.createElement(Tr.a,{onClick:n.onClick},e.map((function(e){return r.a.createElement(Tr.a.Item,{key:e,type:e},e)}))," ")},n.onClick=function(){var e=Object(ut.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.key,a=t.domEvent,e.next=3,n.setState({selectedValue:a.target.innerText});case 3:n.table.setPageSize(n.state.selectedValue);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.rearrangeColumns=function(e){var t=Object(jt.cloneDeep)(n.state.columnDefs),a=[],r=null;(e.column||e.columnValue).forEach((function(e){r=Object(jt.remove)(t,(function(t){return e===t.field})),a.push(r[0])})),a=[].concat(Object(Gn.a)(a),Object(Gn.a)(t)),n.table.setColumns(a)},n.getStructuredData=function(e){var t={},a=null;e.forEach((function(e){t[e.variantID]={id:e.variantID,persID:e.persID,columnValue:e.table.column,groupValue:e.table.group,sortValue:e.table.sort.map((function(e){return{column:e.id,dir:e.order.toLowerCase()}})),visibility:e.visibility,createdBy:e.userID,createdByName:e.createdByName,visibleToUsers:e.visibleToUsers,visibleToUsersGroup:e.visibleToUsersGroup},e.default&&(a=e.variantID),0===t[e.variantID].sortValue.length&&t[e.variantID].sortValue.push({column:"none",dir:"asc"})})),n.setState({selectedDefaultVariant:a,selectedVariant:a,tablePersonalisationModel:t},(function(){var e=Object(jt.cloneDeep)(t[a]);n.handleColumnSelectApply(e.columnValue,e.sortValue,e.groupValue,!0)}))},n.handleSearch=function(e){var t=e.target.value;if(t&&""!==t.trim()){var a=[];n.props.data.columns.forEach((function(e){a.push({field:e.field,type:"like",value:t})})),n.table.setFilter([a])}else n.table.clearFilter();var r=n.table.getDataCount("active");n.setState({totalRows:r})},n.handleSaveVariant=function(){var e=Object(jt.cloneDeep)(n.state.tablePersonalisationModel),t=n.state.selectedVariant.split("*")[0];e[t].columnValue=n.state.columnValue,e[t].sortValue=n.state.sortValue,e[t].groupValue=n.state.groupValue;var a=n.restructurePayload(Object(jt.cloneDeep)(e[t]),t);wt.put("/variants",a).then((function(a){Ko("Variant updated successfully","Success"),n.setState({tablePersonalisationModel:e,variantDialogState:!1,selectedVariant:t,reset:!0,buttonAnchorEl:null})})).catch((function(e){Ko("Variant updation failed","Error"),console.log(e)}))},n.restructurePayload=function(e,t){var a={table:{}};return a.table.column=e.columnValue,a.table.sort=e.sortValue.map((function(e){return{id:e.column,order:e.dir.toUpperCase()}})),a.table.group=e.groupValue,a.variantID=t,a.default=t===n.state.selectedDefaultVariant,a.userID=n.state.userID,a.visibility=e.visibility,e.visibleToUsers&&e.visibleToUsers.length&&(a.visibleToUsers=e.visibleToUsers),e.visibleToUsersGroup&&e.visibleToUsersGroup.length&&(a.visibleToUsersGroup=e.visibleToUsersGroup),a.persID=n.props.persID,1===a.table.sort.length&&"none"===a.table.sort[0].id&&(a.table.sort=[]),a},n.handleSaveAsVariant=function(e,t){if(t&&""!==t.trim()){var a=Object(jt.cloneDeep)(n.state.tablePersonalisationModel);a[t]={columnValue:n.state.columnValue,sortValue:n.state.sortValue,groupValue:n.state.groupValue,visibility:e,createdBy:parseInt(n.state.userID),createdByName:n.props.login.userInfo.name,persID:n.props.persID};var r=n.restructurePayload(Object(jt.cloneDeep)(a[t]),t);wt.post("/variants",r).then((function(e){Ko("Variant created successfully","Success"),a[t].id=e.data.data.variantID,n.setState({tablePersonalisationModel:a,variantDialogState:!1,selectedVariant:t,reset:!0,buttonAnchorEl:null})})).catch((function(e){Ko("Variant creation failed","Error"),console.log(e)}))}},n.handleDeleteVariant=function(e){var t=Object(jt.cloneDeep)(n.state.tablePersonalisationModel),a=n.state.selectedVariant.split("*")[0],r=n.state.selectedDefaultVariant,l=n.state,o=l.columnValue,s=l.sortValue,i=l.groupValue,c=n.state.reset;wt.delete("/variants",{data:{variantID:e,persID:t[e].persID}}).then((function(){Ko("Variant deleted successfully","Success"),delete t[e],e===a&&(r="Standard",o=t[a="Standard"].columnValue,s=t[a].sortValue,i=t[a].groupValue,t[a].default=!0,n.applyVariantOnTable(t[a],o,s,i),c=!0),n.setState({tablePersonalisationModel:t,buttonAnchorEl:null,selectedVariant:a,columnValue:o,sortValue:s,groupValue:i,reset:c,selectedDefaultVariant:r,totalRows:n.table.getDataCount("active")})})).catch((function(e){console.log(e)}))},n.resetColumnState=function(){n.state.columnDefs.forEach((function(e){n.table.showColumn(e.field)}))},n.handleSelectVariant=function(e){var t=e.target.outerText;if(t){var a=n.state.tablePersonalisationModel[t],r=a.columnValue,l=a.sortValue,o=a.groupValue;n.applyVariantOnTable(a,r,l,o),n.setState({buttonAnchorEl:null,selectedVariant:t,columnValue:r,sortValue:l,groupValue:o})}},n.applyVariantOnTable=function(e,t,a,r){var l=[];n.rearrangeColumns(e),n.state.columnDefs.forEach((function(e){-1!==t.indexOf(e.field)?n.table.showColumn(e.field):n.table.hideColumn(e.field)})),1===a.length&&"none"===a[0].column||0===a.length?n.table.clearSort():n.table.setSort(Object(jt.cloneDeep)(a)),n.state.columnDefs.forEach((function(e){-1!==r.indexOf(e.field)&&l.push(e.field)})),n.table.setGroupBy(l)},n.handleVariantOpen=function(e){n.setState({buttonAnchorEl:e.currentTarget})},n.handleVariantClose=function(){n.setState({buttonAnchorEl:null})},n.handleTableSettings=function(){n.setState({dialogState:!0})},n.handleTableDialogClose=function(){n.setState({dialogState:!1})},n.handleColumnSelectApply=function(e,t,a,r){var l=n.state.selectedVariant.split("*")[0],o=null,s=n.state.tablePersonalisationModel[l];n.applyVariantOnTable(s,e,t,a),o=gt(s.columnValue,e)||!Object(jt.isEqual)(s.sortValue,t)||gt(s.groupValue,a)?l+"*":l,n.setState({columnValue:e,sortValue:t,groupValue:a,reset:r,selectedVariant:o,dialogState:!1})},n.setTableReference=function(e){e&&e.table&&(n.table=e.table)},n.handleColumnSelectCancel=function(){n.setState({dialogState:!1})},n.handleOpenVariantDialog=function(){n.setState({variantDialogState:!0})},n.handleVariantDialogClose=function(){n.setState({variantDialogState:!1})},n.handleOpenManageDialog=function(){n.setState({manageDialogState:!0,buttonAnchorEl:null})},n.handleCloseManageDialog=function(){n.setState({manageDialogState:!1})},n.handleApplyManageDialog=function(e,t){var a=Object(jt.cloneDeep)(n.state.tablePersonalisationModel);if(t){var r=n.getBulkUpdateData(e,t,a);wt.put("/bulkvariants",r.payload).then((function(t){Ko("Variants updated successfully","Success"),n.setState({selectedDefaultVariant:e,tablePersonalisationModel:r.existingVariantModel,manageDialogState:!1})})).catch((function(e){Ko("Variants updation failed","Error"),console.log(e)}))}else n.setState({manageDialogState:!1})},n.getBulkUpdateData=function(e,t,a){var r=[];return Object.keys(t).forEach((function(l){t[l].default=l===e;var o={};o.variantID=l,o.persID=n.props.persID,o.userID=t[l].createdBy,o.default=l===e,t[l].createdBy===parseInt(n.state.userID)&&"standard"!==l.toLowerCase()&&(o.visibility=t[l].visibility,t[l].visibleToUsers&&t[l].visibleToUsers.length&&(o.visibleToUsers=t[l].visibleToUsers),t[l].visibleToUsersGroup&&t[l].visibleToUsersGroup.length&&(o.visibleToUsersGroup=t[l].visibleToUsersGroup)),r.push(o),a[l]=t[l]})),{payload:r,existingVariantModel:a}},n.columnMoved=function(){var e=n.table.getColumnDefinitions().map((function(e){return-1!==n.state.columnValue.indexOf(e.field)&&e.field})).filter((function(e){return e}));n.setState({columnValue:e,selectedVariant:"".concat(n.state.selectedVariant.split("*")[0],"*"),reset:!1})},n.rowSelected=function(e){var t=e.getData();if(!n.props.communication.isLocked){t.persId=n.props.persID,n.props.getRow(t);var a={pageNo:"1",perPage:"".concat(mt.MESSAGE_PER_PAGE),persId:"",commentedOnId:t.product_base,text:"",tags:[],priority:"",userGroups:[],emails:[],endDate:"",startDate:""};n.props.searchMessageRequest(a)}},n.rowDeselected=function(e){n.props.communication.isLocked||(n.props.deSelectRow({}),n.props.addMessageRequest([]))},n.handleExcelDownload=function(){console.log("arubaaaa",n.table),n.table.download("xlsx","data.xlsx",{sheetName:"My Data"})},n.state={columnDefs:[],rowData:[],totalRows:0,buttonAnchorEl:null,selectedVariant:"",dialogState:!1,manageDialogState:!1,variantDialogState:!1,columnValue:[],reset:!0,sortValue:[{column:"none",dir:"asc"}],groupValue:[],defaultSortValue:null,defaultGroupValue:null,selectedDefaultVariant:"",tablePersonalisationModel:{},filterVariantType:{},defaultFilter:"",currentFilter:"",isFilterVariantLoading:!0,selectedValue:8,userID:null},n}return Object(rr.a)(a,[{key:"render",value:function(){var e=this,t=this.state.selectedValue,a=r.a.createElement(r.a.Fragment,null,r.a.createElement(cs,{selectedVariantModel:this.state.tablePersonalisationModel[this.state.selectedVariant.split("*")[0]],handleColumnSelectCancel:this.handleColumnSelectCancel,handleColumnSelectApply:this.handleColumnSelectApply,columnValue:this.state.columnValue,reset:this.state.reset,groupValue:this.state.groupValue,sortValue:this.state.sortValue,columns:this.state.columnDefs,radioList:this.state.columnDefs,handleTableDialogClose:this.handleTableDialogClose,handleColumnSelection:this.handleColumnSelection,dialogState:this.state.dialogState}),r.a.createElement(ds,{tablePersonalisationModel:this.state.tablePersonalisationModel,handleVariantInput:this.handleVariantInput,handleSaveAsVariant:this.handleSaveAsVariant,variantDialogState:this.state.variantDialogState,handleVariantDialogClose:this.handleVariantDialogClose}),r.a.createElement(ms,{userID:this.state.userID,users:this.props.users,userGroup:this.props.userGroup,handleApplyManageDialog:this.handleApplyManageDialog,selectedDefaultVariant:this.state.selectedDefaultVariant,manageVariantList:this.state.tablePersonalisationModel,manageDialogState:this.state.manageDialogState,handleCloseManageDialog:this.handleCloseManageDialog}));return r.a.createElement(r.a.Fragment,{key:this.props.name},"parent"!==this.props.tableType?a:null,this.state.rowData.length?r.a.createElement("div",{style:{height:this.props.height?this.props.height:"400px"}},r.a.createElement("div",{className:"table-controls",style:{display:"flex",flexDirection:"row-reverse",alignItems:"center",margin:5}},"child"===this.props.tableType?r.a.createElement(r.a.Fragment,null,"big"===this.props.cardType?r.a.createElement(r.a.Fragment,null,r.a.createElement(bl.a,{title:"Table Settings",placement:"bottom"},r.a.createElement(Pr.a,{shape:"circle",onClick:this.handleTableSettings,icon:r.a.createElement(fs.a,null)})),r.a.createElement(bl.a,{title:"Download",placement:"bottom"},r.a.createElement(Pr.a,{style:{marginRight:5},shape:"circle",icon:r.a.createElement(gs.a,null),onClick:this.handleExcelDownload}))):null,r.a.createElement(Nr.a,{overlay:this.layoutMenu([2,4,8,16]),trigger:["click"]},r.a.createElement("div",{className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()},style:{display:"flex",alignItems:"center",marginRight:10,marginLeft:10}},r.a.createElement(hs,null,r.a.createElement("span",{style:{display:"inlineBlock",width:"50px",marginRight:"2px"}},"Page Size"),r.a.createElement("span",{style:{fontWeight:"bold",marginRight:"2px"}}," ",t)),r.a.createElement(so.a,null))),r.a.createElement(il.a.Search,{placeholder:"Search...",onSearch:function(e){return console.log(e)},style:{width:200}}),"big"===this.props.cardType?r.a.createElement(ns,{selectedVariantModel:this.state.tablePersonalisationModel[this.state.selectedVariant.split("*")[0]],userID:this.state.userID,reset:this.state.reset,selectedDefaultVariant:this.state.selectedDefaultVariant,handleOpenVariantDialog:this.handleOpenVariantDialog,handleOpenManageDialog:this.handleOpenManageDialog,selectedVariant:this.state.selectedVariant,tablePersonalisationModel:this.state.tablePersonalisationModel,buttonAnchorEl:this.state.buttonAnchorEl,handleDeleteVariant:this.handleDeleteVariant,handleSelectVariant:this.handleSelectVariant,handleVariantOpen:this.handleVariantOpen,handleVariantClose:this.handleVariantClose,handleSaveVariant:this.handleSaveVariant}):null):r.a.createElement(r.a.Fragment,null,r.a.createElement(bl.a,{title:"Table Settings",placement:"bottom"},r.a.createElement(Pr.a,{shape:"circle",onClick:this.handleTableSettings,icon:r.a.createElement(fs.a,null)})),r.a.createElement(bl.a,{title:"Download",placement:"bottom"},r.a.createElement(Pr.a,{style:{marginRight:5},shape:"circle",icon:r.a.createElement(gs.a,null)})),r.a.createElement(ys,{placeholder:"search",style:{width:300,marginRight:10}}),r.a.createElement(hs,{strong:!0,style:{flexGrow:1}},"SKU DATA"))),r.a.createElement(No.ReactTabulator,{options:{pagination:"local",paginationSize:"parent"!==this.props.tableType?t:16,paginationButtonCount:5,selectable:1,selectableCheck:function(e){return e.getData()},rowSelected:function(t){e.rowSelected(t)},rowDeselected:function(t){e.rowDeselected(t)},maxHeight:"80%",movableColumns:!0,layoutColumnsOnNewData:!0,downloadReady:function(e,t){return t},columnMinWidth:150},ref:function(t){e.setTableReference(t)},columnMoved:this.columnMoved,columns:this.state.columnDefs,data:this.state.rowData,tooltips:!0})):null)}}]),a}(r.a.Component),bs=Object(s.b)((function(e){return{login:e.login,userInfo:e.login.userInfo,variants:e.variants,communication:e.communication}}),(function(e){return{getVariants:function(t,a){return e({type:me,payload:{userId:t,persID:a}})},getRow:function(t){return e(function(e){return{type:Ee,payload:e}}(t))},deSelectRow:function(t){return e(function(e){return{type:be,payload:e}}(t))},addMessageRequest:function(t){return e(Cr(t))},searchMessageRequest:function(t){return e(kr(t))},addDropdownRequest:function(t){return e(wr(t))}}}))(Es),vs=a(661),xs=a.n(vs),Ss=function(e){var t=r.a.useState(!1),a=Object(sr.a)(t,2),n=a[0],l=a[1],o=r.a.useState(!1),s=Object(sr.a)(o,2),i=s[0],c=s[1],u=function(){c(!0),setTimeout((function(){l(!1),c(!1)}),3e3)};return r.a.createElement("div",null,r.a.createElement("div",{id:e.label,className:xs.a.CardContainer,style:{boxShadow:"0 4px 8px 0 rgba(0,0,0,0.2)",padding:"10px",margin:"10px",overflow:"hidden",backgroundColor:"white"},onClick:function(e){}},e.children),r.a.createElement(Ar.a,{visible:n,title:"Title",onOk:u,onCancel:function(){l(!1)},bodyStyle:{height:"300px",overflowY:"auto"},width:"80%",footer:[r.a.createElement(Pr.a,{key:"back",onClick:function(){l(!1)}},"Cancel"),r.a.createElement(Pr.a,{key:"submit",type:"primary",loading:i,onClick:u}," Ok ")]},r.a.createElement("div",{onClick:function(e){e.stopPropagation()}},e.children)))},Ds=a(20),Os=function(e){Object(lr.a)(a,e);var t=Object(or.a)(a);function a(){return Object(nr.a)(this,a),t.apply(this,arguments)}return Object(rr.a)(a,[{key:"componentDidMount",value:function(){this.drawLineChart(this.props.dataSet)}},{key:"drawLineChart",value:function(e){var t=60,a=200,n=60,r=60,l=this.props.width-r-a,o=this.props.height-t-n,s=Ds.r(this.refs.lineChart).append("svg").attr("viewBox","0, 0, ".concat(l+r+a,", ").concat(o+t+n)).append("g").attr("transform","translate("+r+","+t+")"),i=Ds.r(this.refs.lineChart).append("div").attr("class","tooltip");i.append("div").attr("class","label"),i.append("div").attr("class","count"),i.append("div").attr("class","percent");var c=Ds.j().key((function(e){return e.type})).entries(e),u=Ds.l().domain(Ds.e(e,(function(e){return new Date(e.date)}))).range([0,l]);s.append("g").attr("transform","translate(0,"+o+")").call(Ds.b(u).tickFormat(Ds.u("%b %Y"))).selectAll("text");var d=Ds.l().domain([0,Ds.h(e,(function(e){return+e.qty}))]).range([o,0]);s.append("g").call(Ds.c(d));var p=c.map((function(e){return e.key})),m=Ds.m().domain(p).range(["rgb(242,186,99)","rgb(114,99,134)"]);s.selectAll(".line").data(c).enter().append("path").attr("fill","none").attr("stroke",(function(e){return m(e.key)})).attr("stroke-width",5).attr("d",(function(e){return Ds.g().x((function(e){return u(new Date(e.date))})).y((function(e){return d(+e.qty)}))(e.values)})).on("mouseover",(function(e){var t=e.values.map((function(e,t){return"<div key= ".concat(t," > <span>Qty: ").concat(parseInt(e.qty),"</span><span>  Date: ").concat(e.date,"</span></div>")})).join("");i.select(".label").html(e.key),i.select(".count").html(t),i.style("display","block"),i.style("position","absolute"),i.style("width","auto"),i.style("color","steelblue"),i.style("background","#dcd6dc"),i.style("border","1px solid"),i.style("padding","4px")})).on("mousemove",(function(e){console.log("(d3.event.layerY",Ds.d.layerY),console.log("d3.event.layerX",Ds.d.layerX),i.style("top",Ds.d.layerY+150+"px").style("left",Ds.d.layerX+30+"px")})).on("mouseout",(function(){i.style("display","none")}));var f=s.selectAll(".legend").data(m.domain().slice()).enter().append("g").attr("class","legend").attr("transform",(function(e,t){return"translate( 0 , ".concat(30*t,")")}));f.append("rect").attr("x",l+50).attr("width",10).attr("height",10).style("fill",m),f.append("text").attr("x",l+70).attr("y",8).style("text-anchor","start").style("font-size","10px").text((function(e){return e}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{ref:"lineChart"}))}}]),a}(n.Component),Cs=function(e){Object(lr.a)(a,e);var t=Object(or.a)(a);function a(e){var n;return Object(nr.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.setState({pieChartData:ks},(function(){return n.drawPieChart(n.state.pieChartData)}))},n.state={pieChartData:[]},n}return Object(rr.a)(a,[{key:"drawPieChart",value:function(e){var t=this,a=Math.min(300,250)/2,n=Ds.m(Ds.o[9]),r=Ds.r(this.refs.pieChart).append("svg").attr("viewBox","-30, -120, ".concat(600,", ").concat(500)).append("g").attr("transform","translate(150,125)"),l=Ds.a().innerRadius(0).outerRadius(a),o=Ds.k().value((function(e){return e.value})).sort(null),s=Ds.r(this.refs.pieChart).append("div").attr("class","tooltip");s.append("div").attr("class","label"),s.append("div").attr("class","count"),s.append("div").attr("class","percent"),e.forEach((function(e){e.value=+e.value,e.enabled=!0}));var i=r.selectAll("path").data(o(e)).enter().append("path").attr("d",l).attr("fill",(function(e){return n(e.data.name)})).each((function(e){return t._current-e}));i.on("mouseover",(function(t){Ds.t(e.map((function(e){return e.enabled?e.count:0}))),s.select(".label").html(t.data.name),s.select(".count").html("$"+t.data.value),s.style("display","block"),s.style("position","absolute"),s.style("color","#810f7c"),s.style("background","#dcd6dc"),s.style("border","1px solid"),s.style("padding","4px")})),i.on("mouseout",(function(){s.style("display","none")})),i.on("mousemove",(function(e){s.style("top",Ds.d.layerY+10+"px").style("left",Ds.d.layerX+10+"px")}));var c=r.selectAll(".legend").data(n.domain()).enter().append("g").attr("class","legend").attr("transform",(function(e,t){return"translate(250,"+(31*t-31*n.domain().length/2)+")"}));c.append("rect").attr("width",25).attr("height",25).style("fill",n).style("stroke",n).on("click",(function(t){var a=Ds.r(this),n=!0,r=Ds.t(e.map((function(e){return e.enabled?1:0})));if("disabled"===a.attr("class"))a.attr("class","");else{if(r<2)return;a.attr("class","disabled"),n=!1}o.value((function(e){return e.name===t&&(e.enabled=n),e.enabled?e.value:0})),(i=i.data(o(e))).transition().duration(750).attrTween("d",(function(e){var t=Ds.f(this._current,e);return this._current=t(0),function(e){return l(t(e))}}))})),c.append("text").attr("x",31).attr("y",19).text((function(e){return e}))}},{key:"render",value:function(){return void 0!==this.state.pieChartData?r.a.createElement("div",null,r.a.createElement("div",{ref:"pieChart"})):r.a.createElement("div",null,"Loading...")}}]),a}(r.a.Component),ks=[{name:"H12RTA",value:152681},{name:"RT12AS",value:151554},{name:"TW846T",value:55633},{name:"QT234E",value:156653},{name:"IIWE32",value:126364},{name:"PQ12WD",value:127453},{name:"IU1234",value:126363},{name:"JY7228",value:127158},{name:"R2H28A",value:122264},{name:"TREWL2",value:153876},{name:"WE5621",value:141266},{name:"JJHDG2",value:153758}],Rs=Cs,ws=function(e){Object(lr.a)(a,e);var t=Object(or.a)(a);function a(e){var n;return Object(nr.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.setState({donutChartData:n.props.dataSet},(function(){return n.drawDonutChartData(n.state.donutChartData)}))},n.state={donutChartData:[]},n}return Object(rr.a)(a,[{key:"drawDonutChartData",value:function(e){var t=Math.min(400,400)/2,a=Ds.m(Ds.p[9]),n=Ds.t(e,(function(e){return e.count})),r=Ds.r(".new-total-holder").append("span").attr("class","newTotal").text(n),l=Ds.r(this.refs.donutChart).append("svg").attr("viewBox","-50, -150, ".concat(800,", ").concat(800)).append("g").attr("transform","translate(200,200)"),o=Ds.a().innerRadius(t-100).outerRadius(t),s=Ds.k().value((function(e){return e.count})).sort(null),i=Ds.r(this.refs.donutChart).append("div").attr("class","tooltip");i.append("div").attr("class","label"),i.append("div").attr("class","count"),i.append("div").attr("class","percent"),e.forEach((function(e){e.count=+e.count,e.enabled=!0}));var c=l.selectAll("path").data(s(e)).enter().append("path").attr("d",o).attr("fill",(function(e){return a(e.data.label)})).each((function(e){return this._current-e}));c.on("mouseover",(function(t){var a=Ds.t(e.map((function(e){return e.enabled?e.count:0}))),n=Math.round(1e3*t.data.count/a)/10;i.select(".label").html(t.data.label),i.select(".count").html("$"+t.data.count),i.select(".percent").html(n+"%"),i.style("display","block"),i.style("position","absolute"),i.style("color","steelblue"),i.style("background","#dcd6dc"),i.style("border","1px solid"),i.style("padding","4px")})),c.on("mouseout",(function(){i.style("display","none")})),c.on("mousemove",(function(e){i.style("top",Ds.d.layerY+10+"px").style("left",Ds.d.layerX+10+"px")}));var u=l.selectAll(".legend").data(a.domain()).enter().append("g").attr("class","legend").attr("transform",(function(e,t){return"translate(390,"+(36*t-36*a.domain().length/2)+")"}));u.append("rect").attr("width",30).attr("height",30).style("fill",a).style("stroke",a).on("click",(function(t){var a=Ds.r(this),n=!0,l=Ds.t(e.map((function(e){return e.enabled?1:0})));if("disabled"===a.attr("class"))a.attr("class","");else{if(l<2)return;a.attr("class","disabled"),n=!1}s.value((function(e){return e.label===t&&(e.enabled=n),e.enabled?e.count:0})),(c=c.data(s(e))).transition().duration(750).attrTween("d",(function(e){var t=Ds.f(this._current,e);return this._current=t(0),function(e){return o(t(e))}}));var i=Ds.t(e.filter((function(e){return e.enabled})),(function(e){return e.count}));r.text(i)})),u.append("text").attr("x",36).attr("y",24).text((function(e){return e})).style("font-size","18px")}},{key:"render",value:function(){return void 0!==this.state.donutChartData?r.a.createElement("div",null,r.a.createElement("div",{ref:"donutChart"})):r.a.createElement("div",null,"Loading...")}}]),a}(r.a.Component),js=function(e){Object(lr.a)(a,e);var t=Object(or.a)(a);function a(e){var n;return Object(nr.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.setState({bubbleChartData:n.props.dataSet},(function(){return n.drawBubbleChart(n.state.bubbleChartData)}))},n.state={bubbleChartData:[]},n}return Object(rr.a)(a,[{key:"drawBubbleChart",value:function(e){var t=40,a=200,n=60,r=60,l=this.props.width-r-a,o=this.props.height-t-n,s=Ds.r(this.refs.bubbleChart).append("svg").attr("viewBox","0, 0, ".concat(l+r+a,", ").concat(o+t+n)).append("g").attr("transform","translate("+r+","+t+")"),i=Ds.l().domain([0,45e3]).range([0,l]);s.append("g").attr("transform","translate(0,"+o+")").call(Ds.b(i).ticks(3)),s.append("text").attr("text-anchor","middle").attr("x",l/2).attr("y",o+50).text("Gdp per Capita");var c=Ds.l().domain([35,90]).range([o,0]);s.append("g").call(Ds.c(c)),s.append("text").attr("text-anchor","end").attr("transform","translate(-40,150)rotate(-90)").attr("x",0).attr("y",0).text("Life expectancy").attr("text-anchor","start");var u=Ds.n().domain([2e5,131e7]).range([2,30]),d=Ds.m().domain(["Asia","Europe","Americas","Africa","Oceania"]).range(Ds.q),p=Ds.r(this.refs.bubbleChart).append("div").style("opacity",0).attr("class","tooltip").style("display","block").style("position","absolute").style("color","#810f7c").style("background","#dcd6dc").style("border","1px solid").style("padding","4px"),m=function(e){Ds.s(".bubbles").style("opacity",.05),Ds.s("."+e).style("opacity",1)},f=function(e){Ds.s(".bubbles").style("opacity",1)};s.append("g").selectAll("dot").data(e).enter().append("circle").attr("class",(function(e){return"bubbles "+e.continent})).attr("cx",(function(e){return i(e.gdpPercap)})).attr("cy",(function(e){return c(e.lifeExp)})).attr("r",(function(e){return u(e.pop)})).style("fill",(function(e){return d(e.continent)})).on("mouseover",(function(e){p.transition().duration(200),p.style("opacity",1).html("Country: "+e.country).style("left",Ds.i(this)[0]+30+"px").style("top",Ds.i(this)[1]+30+"px")})).on("mousemove",(function(e){p.style("left",Ds.i(this)[0]+30+"px").style("top",Ds.i(this)[1]+30+"px")})).on("mouseleave",(function(e){p.transition().duration(200).style("opacity",0)}));var g=[1e7,1e8,1e9];s.selectAll("legend").data(g).enter().append("circle").attr("cx",580).attr("cy",(function(e){return o-u(e)})).attr("r",(function(e){return u(e)})).style("fill","none").attr("stroke","black"),s.selectAll("legend").data(g).enter().append("line").attr("x1",(function(e){return 580+u(e)})).attr("x2",630).attr("y1",(function(e){return o-u(e)})).attr("y2",(function(e){return o-u(e)})).attr("stroke","black").style("stroke-dasharray","2,2"),s.selectAll("legend").data(g).enter().append("text").attr("x",630).attr("y",(function(e){return o-u(e)})).text((function(e){return e/1e6})).style("font-size",10).attr("alignment-baseline","middle"),s.append("text").attr("x",600).attr("y",o+30).text("Population (M)").attr("text-anchor","middle");var h=["Asia","Europe","Americas","Africa","Oceania"];s.selectAll("myrect").data(h).enter().append("circle").attr("cx",560).attr("cy",(function(e,t){return 25*t})).attr("r",7).style("fill",(function(e){return d(e)})).on("mouseover",m).on("mouseleave",f),s.selectAll("mylabels").data(h).enter().append("text").attr("x",580).attr("y",(function(e,t){return 25*t})).style("fill",(function(e){return d(e)})).text((function(e){return e})).attr("text-anchor","left").style("alignment-baseline","middle").on("mouseover",m).on("mouseleave",f)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{ref:"bubbleChart"}))}}]),a}(r.a.Component),Is=a(1323),Ts=a(1322),As=a(1360),Ps=(a(1242),a(223)),Ls=a(121),Ns=a(1304),Gs=sl.a.Option,Us=jr.a.Title,_s=jr.a.Text,Ms=function(e){var t=e.left,a=e.right;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ps.a,null,r.a.createElement(Ls.a,{span:6},t),r.a.createElement(Ls.a,{span:12},a)),r.a.createElement("br",null))},Vs=Object(s.b)((function(e){return console.log(e.jobRoles,"saaaaaaaaaaaa"),{userGroups:e.userGroups&&e.userGroups.userGroups,jobRoles:e.jobRoles&&e.jobRoles.jobRoles,systemRoles:e.systemRoles&&e.systemRoles.systemRoles}}))((function(e){var t=e.isEditMode,a=e.userData,n=e.userGroups,l=e.jobRoles,o=e.systemRoles,s=e.setFormData,i=e.onSystemSelect,c=e.onJobRoleSelect,u=e.onUserGroupSelect;console.log("jobRole",l);var d=a||{},p=d.FirstName,m=d.LastName,f=d.userGroupID,g=d.sRoleID,h=d.jobRoleID,y=d.Email,E=l&&l.find((function(e){return e.value===(h&&h.toString())})),b=o&&o.find((function(e){return e.value===(g&&g.toString())}));return console.log(b,"systemValue"),console.log(E,"jobValue"),r.a.createElement("div",{style:{margin:20}},r.a.createElement(Us,{level:3},"Basic Details"),r.a.createElement("br",null),r.a.createElement(Ps.a,null,r.a.createElement(Ls.a,{className:"gutter-row",span:12},r.a.createElement(Us,{level:4},"Personal"),r.a.createElement("br",null),r.a.createElement(Ms,{left:r.a.createElement(_s,null,"First Name"),right:t?r.a.createElement(il.a,{placeholder:"first name",name:"FirstName",onChange:s,value:p||""}):r.a.createElement(_s,null,p)}),r.a.createElement(Ms,{left:r.a.createElement(_s,null,"Last Name"),right:t?r.a.createElement(il.a,{placeholder:"last name",name:"LastName",onChange:s,value:m||""}):r.a.createElement(_s,null,m)})),r.a.createElement(Ls.a,{className:"gutter-row",span:12},r.a.createElement(Us,{level:4},"Contact"),r.a.createElement("br",null),r.a.createElement(Ms,{left:r.a.createElement(_s,null,"Email Id"),right:t?r.a.createElement(il.a,{placeholder:"email id",name:"Email",onChange:s,value:y||""}):r.a.createElement(_s,null,y)}))),r.a.createElement(Ns.a,null),r.a.createElement(Us,{level:3},"Roles"),r.a.createElement("br",null),r.a.createElement(Ps.a,null,r.a.createElement(Ls.a,{className:"gutter-row",span:12},r.a.createElement(Ms,{left:r.a.createElement(_s,null,"System Role"),right:t?r.a.createElement(sl.a,{key:"systemrole",labelInValue:!0,style:{width:"100%"},placeholder:"Please select system role",value:b,onChange:i},o&&o.map((function(e){return r.a.createElement(Gs,{key:e.value},e.label)}))):r.a.createElement(_s,null,b&&b.label)}),r.a.createElement(Ms,{left:r.a.createElement(_s,null,"Job Role"),right:t?r.a.createElement(sl.a,{key:"jobrole",labelInValue:!0,style:{width:"100%"},placeholder:"Please select job roles",value:E,onChange:c},l&&l.map((function(e){return r.a.createElement(Gs,{key:e.value},e.label)}))):r.a.createElement(_s,null,E&&E.label)}))),r.a.createElement(Ns.a,null),r.a.createElement(Us,{level:3},"User Groups:"),r.a.createElement("br",null),r.a.createElement(Ps.a,null,r.a.createElement(Ls.a,{className:"gutter-row",span:12},r.a.createElement(Ms,{left:r.a.createElement(_s,null,"User Groups"),right:t?r.a.createElement(sl.a,{key:"usergroups",mode:"multiple",style:{width:"100%"},placeholder:"Please select user groups",value:f,onChange:u},n&&n.map((function(e){return r.a.createElement(Gs,{key:e.userGroupID},e.userGroupID)}))):r.a.createElement(_s,null,f&&f.join(", "))}))),r.a.createElement("br",null))})),Bs=a(1325),Fs=sl.a.Option,zs=Object(s.b)((function(e){return{users:e.users&&e.users.users,userGroups:e.userGroups&&e.userGroups.userGroups}}))((function(e){var t=e.users,a=e.userGroups,l=e.data,o=e.addUser,s=e.removeUser,i=e.isEditMode,c=e.addUserGroup,u=Object(n.useState)(l&&l.userID||[]),d=Object(sr.a)(u,2),p=d[0],m=d[1],f=Object(n.useState)(""),g=Object(sr.a)(f,2),h=g[0],y=g[1],E=a.find((function(e){return l&&e.userGroupID===l.userGroupID})),b=E&&E.users,v=t&&t.filter((function(e){return!b||!b.find((function(t){return t.userID===e.userID}))})),x=v&&v.map((function(e){var t=e.FirstName+" "+e.LastName;return Object(ft.a)(Object(ft.a)({},e),{},{value:e.userID,label:t})}));return r.a.createElement("div",{style:{margin:20}},(!l||!l.userGroupID)&&r.a.createElement("div",null,r.a.createElement(il.a,{placeholder:"Enter user group name",style:{marginBottom:20},name:"FirstName",onChange:function(e){return y(e.target.value)},value:h}),h&&r.a.createElement(Pr.a,{type:"primary",style:{marginBottom:20},onClick:function(){return c(h)}},"Add User Group")),r.a.createElement("div",null,(!l||!l.userGroupID||i)&&r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.a.createElement(sl.a,{key:"systemrole",mode:"multiple",labelInValue:!0,style:{width:"100%"},placeholder:"Add user",value:p,onChange:function(e){m(e),o(e.map((function(e){return parseInt(e.value)})))}},x&&x.map((function(e){return r.a.createElement(Fs,{key:e.value},e.label)})))),l&&l.userGroupID&&r.a.createElement(es.b,{dataSource:b||[],renderItem:function(e){return r.a.createElement(es.b.Item,{style:{backgroundColor:"white"}},r.a.createElement("div",{style:{marginLeft:20}},e.FirstName+" "+e.LastName),i&&r.a.createElement(Pr.a,{type:"primary",danger:!0,icon:r.a.createElement(Bs.a,null),onClick:function(){return s(e)}}))}})))})),Ws=function(e){var t=e.title,a=e.icon,n=e.onClick,l=e.style;return r.a.createElement(bl.a,{title:t},r.a.createElement(Pr.a,{type:"primary",icon:a,style:l,onClick:n}))},Hs=jr.a.Title,Js=il.a.Search,Ys=eo.a.Content,qs=eo.a.Sider,Qs=eo.a.Footer,Ks="Users",$s="User Group",Xs="Roles",Zs=function(e){Object(lr.a)(a,e);var t=Object(or.a)(a);function a(e){var n;Object(nr.a)(this,a),(n=t.call(this,e)).getListDataForMenu=function(){var e=n.state,t=e.selectedMenu,a=e.filterText,r=n.props||{},l=r.users,o=r.userGroups,s=r.systemRoles,i=a.toLowerCase();switch(t){case $s:return a?o.filter((function(e){return e.userGroupID.toLowerCase().includes(i)})):o;case Xs:return a?s.filter((function(e){return e.sRole.toLowerCase().includes(i)})):s;case Ks:default:return a?l&&l.filter((function(e){return e.FirstName.toLowerCase().includes(i)})):l}},n.handleMenuClick=function(e){var t=e.key;switch(n.setState({selectedMenu:t,filterText:"",isEdit:!1}),t){case $s:n.props.getUserGroups();break;case Xs:n.props.getSystemRoles();break;case Ks:n.props.getUsers();break;default:return}},n.onAddNewButtonClick=function(){switch(n.state.selectedMenu){case $s:n.setState({selectedUserGroup:null,isEdit:!1});break;case Xs:n.setState({selectedSystemRole:null,isEdit:!0});break;case Ks:n.setState({selectedUser:null,isEdit:!0});break;default:return}},n.onDeleteUserClick=function(){switch(n.state.selectedMenu){case $s:Ar.a.confirm({title:"Are you sure you want to delete user group?",onOk:function(){n.props.deleteUserGroup(n.state.selectedUserGroup.userGroupID),n.setState({selectedUserGroup:null,isEdit:!1})},zIndex:1400});break;case Xs:break;case Ks:Ar.a.confirm({title:"Are you sure you want to delete user?",onOk:function(){n.props.deleteUser(n.state.selectedUser.userID),n.setState({selectedUser:null,isEdit:!1})},zIndex:1400});break;default:return}},n.userGroupSelect=function(e){n.setState({selectedUser:Object(ft.a)(Object(ft.a)({},n.state.selectedUser),{},{userGroupID:e})})},n.systemRoleSelect=function(e){n.setState({selectedUser:Object(ft.a)(Object(ft.a)({},n.state.selectedUser),{},{sRoleID:e.value})})},n.jobRoleSelect=function(e){n.setState({selectedUser:Object(ft.a)(Object(ft.a)({},n.state.selectedUser),{},{jobRoleID:e.value})})},n.personaListSelect=function(e){n.setState({selectedUser:Object(ft.a)(Object(ft.a)({},n.state.selectedUser),{},{persona:e.value})})},n.renderForm=function(){var e=n.state,t=e.selectedMenu,a=e.selectedUser,l=e.selectedUserGroup,o=(e.selectedSystemRole,e.isEdit);switch(t){case $s:return r.a.createElement(zs,{data:l,isEditMode:o,addUser:function(e){n.setState({selectedUserGroup:Object(ft.a)(Object(ft.a)({},n.state.selectedUserGroup),{},{userID:e})})},removeUser:function(e){Ar.a.confirm({title:"Are you sure you want to remove user from this group?",onOk:function(){n.props.removeUserFromUserGroup({userID:e.userID,userGroupID:l.userGroupID},e)},zIndex:1400})},addUserGroup:function(e){n.state.selectedUserGroup&&0!==n.state.selectedUserGroup.userID.length?n.props.createUserGroup({userGroupID:e,userID:n.state.selectedUserGroup.userID},(function(){return n.setState({selectedUserGroup:{userGroupID:e}})})):n.displayFailure("Please select atleast one user")}});case Xs:return null;case Ks:default:return r.a.createElement(Vs,{isEditMode:o,userData:a,onJobRoleSelect:n.jobRoleSelect,onSystemSelect:n.systemRoleSelect,onUserGroupSelect:n.userGroupSelect,setFormData:n.setUserFormData})}},n.setUserFormData=function(e){n.setState({selectedUser:Object(ft.a)(Object(ft.a)({},n.state.selectedUser),{},Object(Mo.a)({},e.target.name,e.target.value))})},n.saveData=function(){var e=n.state,t=e.selectedUser,a=e.selectedMenu,r=e.selectedUserGroup;if(a===Ks){var l={pushNotf:t.pushNotf,userID:t.userID,emailNotf:t.emailNotf,sRoleID:t.sRoleID,FirstName:t.FirstName,LastName:t.LastName,jobRoleID:t.jobRoleID,userGroupID:t.userGroupID,Email:t.Email};l.userID?n.props.updateUser(Object(ft.a)(Object(ft.a)({},l),{},{updatedAt:new Date}),(function(){n.displaySuccess("Updated successfully"),n.setState(Object(ft.a)(Object(ft.a)({},n.state),{},{isEdit:!1}))}),(function(){n.displayFailure("Failed updating")})):n.props.createUser(Object(ft.a)(Object(ft.a)({},l),{},{createdAt:new Date}),(function(){n.displaySuccess("Created successfully"),n.setState(Object(ft.a)(Object(ft.a)({},n.state),{},{isEdit:!1}))}),(function(){n.displayFailure("Failed creating")}))}else a===$s&&r.userID&&(0===r.userID.length&&n.displayFailure("Select atleast one user to assign"),n.props.addUserToUserGroup({userID:r.userID,userGroupID:r.userGroupID},(function(){n.displaySuccess("Created successfully"),n.setState(Object(ft.a)(Object(ft.a)({},n.state),{},{isEdit:!1}))}),(function(){n.displayFailure("Failed creating")})))},n.displaySuccess=function(e){Ar.a.success({content:r.a.createElement("div",null,r.a.createElement("p",null,e)),onOk:function(){}})},n.displayFailure=function(e){Ar.a.error({content:r.a.createElement("div",null,r.a.createElement("p",null,e)),onOk:function(){}})},n.renderUserGroupForm=function(){var e=n.state.selectedUserGroup;return r.a.createElement("div",{style:{margin:20}},r.a.createElement(Hs,{level:3},e.userGroupID),r.a.createElement("br",null))},n.renderListForMenu=function(){var e=n.state,t=e.selectedMenu,a=e.selectedUser,l=e.selectedUserGroup,o=e.selectedSystemRole,s=n.getListDataForMenu();switch(t){case $s:return r.a.createElement(es.b,{dataSource:s||[],renderItem:function(e){return r.a.createElement(es.b.Item,{style:{backgroundColor:l&&l.userGroupID===e.userGroupID?"#1890ff":"white"},onClick:function(){return n.setState({selectedUserGroup:e})}},r.a.createElement("div",{style:{marginLeft:20}},e.userGroupID))}});case Xs:return r.a.createElement(es.b,{dataSource:s||[],renderItem:function(e){return r.a.createElement(es.b.Item,{style:{backgroundColor:o&&o.sRole===e.sRole?"#1890ff":"white"},onClick:function(){return n.setState({selectedSystemRole:e})}},r.a.createElement("div",{style:{marginLeft:20}},e.sRole))}});case Ks:default:return r.a.createElement(es.b,{dataSource:s||[],renderItem:function(e){return r.a.createElement(es.b.Item,{style:{backgroundColor:a&&a.userID===e.userID?"#1890ff":"white"},onClick:function(){return n.setState({selectedUser:Object(ft.a)(Object(ft.a)({},e),{},{sRoleID:e.sRoleID,jobRoleID:e.jobRoleID})})}},r.a.createElement("div",{style:{marginLeft:20}},e.FirstName+" "+e.LastName))}})}};var l=n.props,o=l.users,s=l.userGroups,i=l.systemRoles;return n.state={selectedMenu:Ks,data:null,isEdit:!1,filterText:"",selectedUser:o&&o.length>0&&Object(ft.a)(Object(ft.a)({},o[0]),{},{sRoleID:o[0].sRoleID,jobRoleID:o[0].jobRoleID}),selectedUserGroup:s&&s.length>0&&Object(ft.a)({},s[0]),selectedSystemRole:i&&i.length>0&&Object(ft.a)({},i[0])},n}return Object(rr.a)(a,[{key:"componentDidMount",value:function(){this.props.getJobRoles(),this.props.getSystemRoles()}},{key:"componentDidUpdate",value:function(e){var t=this.props||{},a=t.users,n=t.userGroups,r=t.systemRoles,l=this.state,o=l.selectedMenu,s=l.selectedUser,i=l.selectedUserGroup,c=l.selectedSystemRole;if(o===Ks&&e.users!==a&&a&&a.length>0&&!s){var u=a[0];this.setState({selectedUser:Object(ft.a)(Object(ft.a)({},u),{},{sRoleID:u.sRoleID,jobRoleID:u.jobRoleID})})}else if(o===$s&&e.userGroups!==n&&n&&n.length>0&&!i){var d=n[0];this.setState({selectedUserGroup:Object(ft.a)({},d)})}else if(o===Xs&&e.systemRoles!==r&&r&&r.length>0&&!c){var p=r[0];this.setState({selectedSystemRole:Object(ft.a)({},p)})}}},{key:"render",value:function(){var e=this,t=this.state,a=t.selectedMenu,n=t.isEdit,l=a===Xs,o=r.a.createElement(Tr.a,{onClick:this.handleMenuClick},r.a.createElement(Tr.a.Item,{key:Ks},Ks),r.a.createElement(Tr.a.Item,{key:$s},$s),r.a.createElement(Tr.a.Item,{key:Xs},Xs));return r.a.createElement(eo.a,null,r.a.createElement(qs,{width:300,className:"sider-container"},r.a.createElement(Nr.a,{overlay:o},r.a.createElement(Pr.a,{block:!0},a," ",r.a.createElement(so.a,null))),r.a.createElement("div",{style:{flex:1}},r.a.createElement(Js,{placeholder:"Search ".concat(a),onChange:function(t){return e.setState({filterText:t.target.value})},onSearch:function(t){return e.setState({filterText:t})},style:{width:300}}),this.renderListForMenu())),r.a.createElement(eo.a,{className:"site-layout-background"},r.a.createElement(Ys,null,this.renderForm())),r.a.createElement(Qs,{className:"content-footer",style:{justifyContent:l?"flex-end":"space-between"}},r.a.createElement("div",{className:"footer-left"},a!==Xs&&r.a.createElement(Ws,{title:"Add",icon:r.a.createElement(ql.a,null),onClick:this.onAddNewButtonClick}),a!==Xs&&r.a.createElement(Ws,{title:"Delete",icon:r.a.createElement(Bs.a,null),style:{marginLeft:20},onClick:this.onDeleteUserClick})),!n&&r.a.createElement(Ws,{title:"Edit",style:{marginRight:12,width:100},icon:r.a.createElement(Is.a,null),onClick:function(){return e.setState({isEdit:!0})}}),n&&r.a.createElement("div",null,r.a.createElement(Ws,{title:"Cancel",icon:r.a.createElement(Ts.a,null),style:{marginRight:12,width:100},onClick:function(){return e.setState({isEdit:!1})}}),a!==Xs&&r.a.createElement(Ws,{title:"Save",icon:r.a.createElement(As.a,null),style:{marginRight:12,width:100},onClick:this.saveData}))))}}]),a}(n.Component),ei=Object(s.b)((function(e){return{users:e.users&&e.users.users,userGroups:e.userGroups&&e.userGroups.userGroups,jobRoles:e.jobRoles&&e.jobRoles.jobRoles,systemRoles:e.jobRoles&&e.systemRoles.systemRoles}}),(function(e){return{createUser:function(t,a,n){return e(function(e,t,a){return{type:U,payload:e,success:t,failure:a}}({userData:t},a,n))},updateUser:function(t,a,n){return e(function(e,t,a){return{type:V,payload:e,success:t,failure:a}}({userData:t},a,n))},addUserToUserGroup:function(t,a,n,r){return e(function(e,t,a,n){return{type:te,payload:e,user:t,success:a,failure:n}}(t,a,n,r))},removeUserFromUserGroup:function(t,a,n,r){return e(function(e,t,a,n){return{type:re,payload:e,user:t,success:a,failure:n}}(t,a,n,r))},getUsers:function(){return e(xr())},getUserGroups:function(){return e(Sr())},getJobRoles:function(){return e({type:se})},getSystemRoles:function(){return e({type:We})},deleteUser:function(t,a,n){return e(function(e,t,a){return{type:z,payload:e,success:t,failure:a}}(t,a,n))},createUserGroup:function(t,a,n){return e(function(e,t,a){return{type:Q,payload:e,success:t,failure:a}}(t,a,n))},deleteUserGroup:function(t,a,n){return e(function(e,t,a){return{type:X,payload:e,success:t,failure:a}}(t,a,n))}}}))(Object(fr.a)(Object(cr.f)(Zs))),ti=a(1319),ai=Object(s.b)((function(e){return{userInfo:e.login.userInfo}}))((function(e){var t=e.coverImage,a=e.userInfo,n=e.title,l=e.chart,o=yt(a).isPlanner,s=po.a.Meta;return r.a.createElement("div",{className:"Card",style:{marginBottom:"20px"},onClick:function(){console.log("clicked"),window.open("https://app.powerbi.com/","_blank")}},r.a.createElement(po.a,{style:{width:300,boxShadow:"2px 2px 12px 2px #8c8585"},cover:r.a.createElement("div",{style:{width:"300px",height:"200px"}},l||r.a.createElement("img",{alt:"example",style:{width:"300px",height:"200px"},src:t||"./supplyChain.jpg"})),actions:o?[r.a.createElement(ti.a,{key:"ellipsis"})]:[r.a.createElement(Ur.a,{key:"setting"}),r.a.createElement(Is.a,{key:"edit"}),r.a.createElement(ti.a,{key:"ellipsis"})]},r.a.createElement(s,{avatar:r.a.createElement(Gr.a,{src:"./brilliologo.png"}),title:n,description:"www.powerbi.com/report",style:{height:"65px"}})))})),ni=a(663),ri=a.n(ni),li=(a(1247),sl.a.Option,jr.a.Text),oi=r.a.createElement(Tr.a,null,r.a.createElement(Tr.a.Item,{key:"0"},r.a.createElement("button",{style:{background:"none",border:"none",outline:"none"},onClick:function(e,t){}},"Hide Card"))),si=function(e){var t=e.title,a=e.visibility,n=void 0===a?{}:a;e.regionChange,e.subRegionChange,e.plannerChange,e.periodChange;return r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},r.a.createElement(li,{style:{marginRight:"5px",color:"black",fontSize:18,fontWeight:600}},t.toUpperCase()),r.a.createElement("div",null,r.a.createElement("div",null,n.shouldShowFullscreen&&r.a.createElement(Pr.a,{style:{marginLeft:10},icon:r.a.createElement(Br.a,null)}),n.shouldShowHide&&r.a.createElement(Nr.a,{overlay:oi,trigger:["hover"],placement:"bottomRight"},r.a.createElement(io.a,{style:{fontSize:20}})))))},ii=jr.a.Text,ci=r.a.createElement(Tr.a,null,r.a.createElement(Tr.a.Item,{key:"0"},"JSH123"),r.a.createElement(Tr.a.Divider,null),r.a.createElement(Tr.a.Item,{key:"1"},"JDD135"),r.a.createElement(Tr.a.Divider,null),r.a.createElement(Tr.a.Item,{key:"3"},"3rd menu item")),ui=r.a.createElement(Tr.a,null,r.a.createElement(Tr.a.Item,{key:"0"},"JERLSL")),di=r.a.createElement(Tr.a,null,r.a.createElement(Tr.a.Item,{key:"0"},"JERLSL")),pi=r.a.createElement(Tr.a,null,r.a.createElement(Tr.a.Item,{key:"0"},"JERLSL")),mi=r.a.createElement(Tr.a,null,r.a.createElement(Tr.a.Item,{key:"0"},"JERLSL")),fi=r.a.createElement(Tr.a,null,r.a.createElement(Tr.a.Item,{key:"0"},"JERLSL"));function gi(e){var t=e.showProductBase,a=void 0!==t&&t,n=e.showProductLine,l=void 0!==n&&n,o=e.showPartNumber,s=void 0!==o&&o,i=e.showRASLine,c=void 0!==i&&i,u=e.showSupplier,d=void 0!==u&&u,p=e.showDistributionCenter,m=void 0!==p&&p;return r.a.createElement("div",{style:{display:"flex",alignItems:"baseline",justifyContent:"space-between",margin:"0px 0px 10px 0px"}},r.a.createElement("div",null,r.a.createElement(pl.a,{style:{marginRight:20,color:"black"}}),a&&r.a.createElement(Nr.a,{overlay:ci,trigger:["click"]},r.a.createElement(ii,null,"Product Base (15) ",r.a.createElement(so.a,{style:{marginRight:20}}))),l&&r.a.createElement(Nr.a,{overlay:ui,trigger:["click"]},r.a.createElement(ii,null,"Product Line ",r.a.createElement(so.a,{style:{marginRight:20}}))),s&&r.a.createElement(Nr.a,{overlay:di,trigger:["click"]},r.a.createElement(ii,null,"Part Number (50) ",r.a.createElement(so.a,{style:{marginRight:20}}))),c&&r.a.createElement(Nr.a,{overlay:pi,trigger:["click"]},r.a.createElement(ii,null,"RAS Line ",r.a.createElement(so.a,{style:{marginRight:20}}))),d&&r.a.createElement(Nr.a,{overlay:mi,trigger:["click"]},r.a.createElement(ii,null,"Supplier (5) ",r.a.createElement(so.a,{style:{marginRight:20}}))),m&&r.a.createElement(Nr.a,{overlay:fi,trigger:["click"]},r.a.createElement(ii,null,"Distribution Center ",r.a.createElement(so.a,{style:{marginRight:20,flexGrow:1}})))),r.a.createElement("div",null,r.a.createElement(Pr.a,{type:"primary"}," Go ")))}a(1248);var hi=ol.a.TabPane,yi=function(e){var t=e.tabs,a=e.onChange,n=e.defaultTab,l=e.size,o=void 0===l?"default":l;return r.a.createElement("div",{className:"tabs-container"},r.a.createElement(ol.a,{defaultActiveKey:n,onChange:a,size:o},t&&t.map((function(e){return r.a.createElement(hi,{tab:e.label,key:e.value})}))))},Ei=jr.a.Title,bi=jr.a.Text,vi=function(e){Object(lr.a)(a,e);var t=Object(or.a)(a);function a(){var e;Object(nr.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={tableData:[],userList:[],userGroupList:[],freezedColumns:["partDetail1","partDetail2","partDetailn"]},e}return Object(rr.a)(a,[{key:"componentDidMount",value:function(){var e=this;wt.get("supplychain/backlog").then((function(t){e.setState({tableData:t.data})})).catch((function(e){return console.log(e)})),wt.get("/myPersona?userID=".concat(this.props.userInfo.id)).then((function(t){e.setState({userList:t.data.data})})).catch((function(e){return console.log(e)})),wt.get("/userGroupPersona?userID=".concat(this.props.userInfo.id)).then((function(t){e.setState({userGroupList:t.data.data})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("div",{style:{display:"flex",flexDirection:"column",padding:10,background:"white",margin:10}},r.a.createElement(si,{title:"Backlog",visibility:{shouldShowRegion:!0,shouldShowSubRegion:!0,shouldShowPeriod:!0,shouldShowGroup:!0,shouldShowFullscreen:!0,shouldShowHide:!0}}),r.a.createElement("div",{style:{display:"flex",alignItems:"baseline",margin:"20px 0 10px 0"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",marginRight:50}},r.a.createElement(Ei,{style:{marginBottom:0},level:3},"2,987"),r.a.createElement(bi,null,"Backlog qty")),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",marginRight:50}},r.a.createElement(Ei,{style:{marginBottom:0},level:3},"$89,354,985"),r.a.createElement(bi,null,"Potential Revenue")),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",flexGrow:1}},r.a.createElement(Ei,{style:{marginBottom:0},level:3},"$9,354,985"),r.a.createElement(bi,null,"At Risk")),r.a.createElement(yi,{onChange:function(){},tabs:[{value:"All",label:"All"},{value:"CTO",label:"CTO"},{value:"BTO",label:"BTO"},{value:"BTS",label:"BTS"}]})),r.a.createElement(gi,{showProductBase:!0,showProductLine:!0,showPartNumber:!0,showRASLine:!0,showSupplier:!0,showDistributionCenter:!0}),this.state.tableData.data&&r.a.createElement(bs,{data:this.state.tableData,users:this.state.userList,userGroup:this.state.userGroupList,tableType:"child",cardType:"big",freezedColumns:this.state.freezedColumns,persID:ha.PERSID_BACKLOG}))}}]),a}(n.Component),xi=Object(s.b)((function(e){return{userInfo:e.login.userInfo}}))(vi),Si=jr.a.Title,Di=jr.a.Text,Oi=function(e){Object(lr.a)(a,e);var t=Object(or.a)(a);function a(){var e;Object(nr.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={tableData:[],freezedColumns:["partDetail1","partDetail2","partDetailn"]},e}return Object(rr.a)(a,[{key:"componentDidMount",value:function(){var e=this;wt.get("supplychain/".concat(ha.PERSID_OPENPO)).then((function(t){e.setState({tableData:t.data})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("div",{style:{display:"flex",flexDirection:"column",padding:10,background:"white",margin:10}},r.a.createElement(si,{title:"Open PO",visibility:{shouldShowRegion:!0,shouldShowSubRegion:!0,shouldShowPeriod:!0,shouldShowGroup:!0,shouldShowFullscreen:!0,shouldShowHide:!0}}),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",margin:"10px 0 10px 0"}},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",marginRight:50}},r.a.createElement(Si,{style:{marginBottom:0},level:3},"013"),r.a.createElement(Di,null,"POs")),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",marginRight:50}},r.a.createElement(Si,{style:{marginBottom:0},level:3},"$534,985"),r.a.createElement(Di,null,"Potential Revenue"))),r.a.createElement(yi,{onChange:function(){},tabs:[{value:"Current Po",label:"Current Po"},{value:"Past Due",label:"Past Due"}]})),r.a.createElement(gi,{showProductBase:!0,showProductLine:!0,showPartNumber:!0,showRASLine:!0,showSupplier:!0,showDistributionCenter:!0,showViews:!0,showSetting:!0}),this.state.tableData.data&&r.a.createElement(bs,{data:this.state.tableData,tableType:"child",cardType:"big",freezedColumns:this.state.freezedColumns,persID:ha.PERSID_OPENPO}))}}]),a}(n.Component),Ci=a(77);function ki(){var e={title:{visible:!0,text:"Stacked column + polyline mixed graph",alignTo:"middle"},description:{visible:!0,text:"Stacked column + broken line mixed chart",alignTo:"middle"},data:[[{time:"2019-03",value:350,type:"uv"},{time:"2019-04",value:900,type:"uv"},{time:"2019-05",value:300,type:"uv"},{time:"2019-06",value:450,type:"uv"},{time:"2019-07",value:470,type:"uv"},{time:"2019-03",value:220,type:"bill"},{time:"2019-04",value:300,type:"bill"},{time:"2019-05",value:250,type:"bill"},{time:"2019-06",value:220,type:"bill"},{time:"2019-07",value:362,type:"bill"}],[{time:"2019-03",count:800},{time:"2019-04",count:600},{time:"2019-05",count:400},{time:"2019-06",count:380},{time:"2019-07",count:220}]],xField:"time",yField:["value","count"],columnStackField:"type"};return r.a.createElement("div",null,r.a.createElement(Ci.h,e))}n.Component;var Ri=a(1358),wi=a(1357),ji=a(1356),Ii=a(1355),Ti=a(1354),Ai=a(1353),Pi=a(1352),Li=(jr.a.Title,jr.a.Text),Ni="AMS",Gi="APJ",Ui="EMEA",_i="Global",Mi=function(e){Object(lr.a)(a,e);var t=Object(or.a)(a);function a(){var e;Object(nr.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={selectedTab:Ni},e.getTabContent=function(){switch(e.state.selectedTab){case Ni:return r.a.createElement("div",{style:{display:"flex",justifyContent:"row",marginTop:10}},r.a.createElement("div",null,r.a.createElement("div",{style:{display:"flex",flexDirection:"column",marginRight:50}},r.a.createElement(Li,{style:{fontSize:12,fontWeight:800}},"1200 "),r.a.createElement(Li,{style:{fontSize:11}},"Demand Plan of Record")),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",marginRight:50}},r.a.createElement(Li,{style:{fontSize:12,fontWeight:800}},"2000 "),r.a.createElement(Li,{style:{fontSize:11}},"Demand Plan")),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",marginRight:50}},r.a.createElement(Li,{style:{fontSize:12,fontWeight:800}},"1289 "),r.a.createElement(Li,{style:{fontSize:11}},"Open Deals")),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",marginRight:50}},r.a.createElement(Li,{style:{fontSize:12,fontWeight:800}},"1289 "),r.a.createElement(Li,{style:{fontSize:11}},"Open Deals"))),r.a.createElement("div",null,r.a.createElement("div",{style:{display:"flex",flexDirection:"column",marginRight:50}},r.a.createElement(Li,{style:{fontSize:12,fontWeight:800}},"1200 "),r.a.createElement(Li,{style:{fontSize:11}},"Demand Plan")),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",marginRight:50}},r.a.createElement(Li,{style:{fontSize:12,fontWeight:800}},"2000 "),r.a.createElement(Li,{style:{fontSize:11}},"Demand Plan")),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",marginRight:50}},r.a.createElement(Li,{style:{fontSize:12,fontWeight:800}},"1289 "),r.a.createElement(Li,{style:{fontSize:11}},"Open Deals")),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",marginRight:50}},r.a.createElement(Li,{style:{fontSize:12,fontWeight:800}},"1289 "),r.a.createElement(Li,{style:{fontSize:11}},"Open Deals"))));case Gi:case Ui:case _i:default:return null}},e}return Object(rr.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{display:"flex",width:300,flexDirection:"row",padding:10,background:"white"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.a.createElement("div",null,r.a.createElement(Pr.a,{icon:r.a.createElement(Ri.a,null)}),r.a.createElement(Pr.a,{icon:r.a.createElement(wi.a,null)}),r.a.createElement(Pr.a,{icon:r.a.createElement(ji.a,null)}),r.a.createElement(Pr.a,{icon:r.a.createElement(Ii.a,null)})),r.a.createElement("div",null,r.a.createElement(Pr.a,{icon:r.a.createElement(Ti.a,null)}),r.a.createElement(Pr.a,{icon:r.a.createElement(Ai.a,null)}),r.a.createElement(Pr.a,{icon:r.a.createElement(Pi.a,null)}),r.a.createElement(Pr.a,{icon:r.a.createElement(so.a,null)}))),r.a.createElement("div",{style:{marginLeft:10}},r.a.createElement(yi,{onChange:function(t){e.setState({selectedTab:t})},tabs:["AMS","APJ","EMEA","Global"].map((function(e){return{value:e,label:e}}))}),this.getTabContent()))}}]),a}(n.Component),Vi=jr.a.Text,Bi={All:"pdAll",Demand:"Demand",Orders:"Orders",Backlog:"Backlog",Shortages:"Shortages",Inventory:"Inventory",InQuarantine:"In Quarantine",OpenPO:"Open PO",Unbooked:"Unbooked",Revenue:"Revenue",Excess:"Excess",Aging:"Aging",Obsolescence:"Obsolescence",History:"History"},Fi=function(e){Object(lr.a)(a,e);var t=Object(or.a)(a);function a(){var e;Object(nr.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={selectedTab:Bi.All,tableData:[]},e.getTabContent=function(){switch(e.state.selectedTab){case Bi.All:default:return e.state.tableData.data?r.a.createElement(bs,{key:"product",data:e.state.tableData,tableType:"child",cardType:"small"}):null}},e}return Object(rr.a)(a,[{key:"componentDidMount",value:function(){var e=this;wt.get("supplychain/".concat(this.state.selectedTab)).then((function(t){t.data.mapped_column[0].formatter=Object(No.reactFormatter)(r.a.createElement(Jl.a,{placement:"right",trigger:"click",content:r.a.createElement(Mi,null)})),e.setState({tableData:t.data})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{margin:10}},"user"===this.props.type?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",flexDirection:"column",padding:10,background:"white"}},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(yi,{onChange:function(t){return e.setState({selectedTab:t})},tabs:Object.entries(Bi).map((function(e){return{value:e[1],label:e[0]}})),defaultTab:this.state.selectedTab}),r.a.createElement(fs.a,null)),this.getTabContent())):r.a.createElement(r.a.Fragment,null,r.a.createElement(Vi,{style:{marginBottom:10}},"Planner Overview")))}}]),a}(n.Component),zi=Object(fr.a)(Fi),Wi=jr.a.Text,Hi=Object(s.b)((function(e){return{masterFilter:e.masterFilter,communication:e.communication}}),(function(e){return{addDropdownRequest:function(t){return e(wr(t))},dispatch:e}}))((function(e){var t=Object(n.useState)("ProductLine"),a=Object(sr.a)(t,2),l=a[0],o=a[1],s=Object(n.useState)("Region"),i=Object(sr.a)(s,2),c=i[0],u=i[1],d=Object(n.useState)("Planner"),p=Object(sr.a)(d,2),m=p[0],f=p[1],g=Object(n.useState)(!0),h=Object(sr.a)(g,2),y=(h[0],h[1]);r.a.useEffect((function(){"ProductLine"===l&&"Region"===c&&"Planner"===m||y(!1)}),[l,c,m]),r.a.useEffect((function(){var t=e.masterFilter,a=t.productLine,n=t.region,r=t.planner;""==a&&""==n&&""==r&&(y(!0),o("ProductLine"),u("Region"),f("Planner"))}),[e.masterFilter]);var E=r.a.createElement(Tr.a,{onClick:function(e){o(e.key)}},r.a.createElement(Tr.a.Item,{key:"JERLSL"},"JERLSL")),b=r.a.createElement(Tr.a,{onClick:function(e){u(e.key)}},r.a.createElement(Tr.a.Item,{key:"APJ"},"APJ"),r.a.createElement(Tr.a.Item,{key:"EMEA"},"EMEA"),r.a.createElement(Tr.a.Item,{key:"AMS"},"AMS"),r.a.createElement(Tr.a.Item,{key:"WW"},"WW")),v=r.a.createElement(Tr.a,{onClick:function(e){f(e.key)}},r.a.createElement(Tr.a.Item,{key:"JERLSL"},"JERLSL"));return r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},r.a.createElement("div",null,r.a.createElement(Wi,{style:{marginRight:20,color:"black"}},r.a.createElement(pl.a,null),"FILTERS"),r.a.createElement(Nr.a,{overlay:E,trigger:["click"]},r.a.createElement(Wi,{style:{cursor:"pointer"}}," ",l,r.a.createElement(so.a,{style:{marginRight:20}}))),r.a.createElement(Nr.a,{overlay:b,trigger:["click"]},r.a.createElement(Wi,{style:{cursor:"pointer"}}," ",c,r.a.createElement(so.a,{style:{marginRight:20}}))),r.a.createElement(Nr.a,{overlay:v,trigger:["click"]},r.a.createElement(Wi,{style:{cursor:"pointer"}}," ",m,r.a.createElement(so.a,{style:{marginRight:20}})))),r.a.createElement(Pr.a,{onClick:function(){var t={productLine:l,region:c,planner:m};"ProductLine"!==l||"Region"!==c||"Planner"!==m?Object.keys(e.communication.selectedRowDetail).length?e.addDropdownRequest(t):Ir.a.error("Please select a SKU to proceed"):Ir.a.error("Please select a dropdown to proceed")},type:"primary"}," Go "))})),Ji=jr.a.Title,Yi=jr.a.Text,qi=il.a.Search,Qi=sl.a.Option,Ki=tl.a.Panel,$i=ol.a.TabPane;!localStorage.getItem("feedNotification")&&localStorage.setItem("feedNotification",JSON.stringify({feedNotification:!1}));var Xi={Home:"home",Reports:"reports",Configuration:"configuration",Accounts:"accounts",Dashboard:"Dashboard",Consol:"consol",SKU:"SKU",WWSummary:"WWSummary"},Zi=function(e){Object(lr.a)(a,e);var t=Object(or.a)(a);function a(e){var n;return Object(nr.a)(this,a),(n=t.call(this,e)).handleTabChange=function(e){n.setState({selectedTab:e})},n.componentDidMount=function(){n.props.userSettingsRequest(),n.props.gridItemRequest(),n.props.personaRequest(n.props.userInfo.id),n.props.getUsers(),n.props.getUserGroups(),n.props.getTableData(n.props.userInfo),n.handleIdleTimeout();var e=n.props,t=e.cookies,a=e.login;vt(t,function(e){var t=e.get("sessionTokenExpiryDate");if(t){var a=new Date(t).getTime()-(new Date).getTime();return 60*Math.round(a/1e3/60)}}(t),{encryptedUserName:a.userName,encryptedPassword:a.password}),n.props.userInfo.appNotifications&&!JSON.parse(localStorage.getItem("feedNotification")).feedNotification&&0===n.props.communication.notification.length&&n.props.getNotificationRequest(),pt.a.get("./parentChildTable.json").then((function(e){n.setState({tableData:e.data.table.parent[0]})})).catch((function(e){return console.log(e)})),wt.get("/myPersona?userID=".concat(n.props.userInfo.id)).then((function(e){n.setState({userList:e.data.data})})).catch((function(e){return console.log(e)})),wt.get("/userGroupPersona?userID=".concat(n.props.userInfo.id)).then((function(e){n.setState({userGroupList:e.data.data})})).catch((function(e){return console.log(e)}))},n.handleIdleTimeout=function(){var e=n.props.cookies;if(!window.sessionInterval&&e.get("idleTime")){var t=parseInt(e.get("idleTime")),a=0;document.onclick=function(){a=0},document.onmousemove=function(){a=0},document.onkeypress=function(){a=0},window.sessionInterval=window.setInterval(function(){++a>=t&&Xr(this.props,!1)}.bind(Object(br.a)(n)),1e3)}},n.getHelpers=function(e){n.helpers=e},n.handleJoyrideCallback=function(e){var t=e.status;[lo.a.FINISHED,lo.a.SKIPPED].includes(t)&&n.props.dispatch({type:O,payload:!1})},n.renderCard=function(e,t){return e&&n.shouldDisplayCard(e.cardID)&&e.visibility?t(e):r.a.createElement("div",{key:"_"+Math.random().toString(36).substr(2,9),"data-grid":{w:0,h:0,x:0,y:0,isResizable:!1},style:{display:"none"}})},n.shouldDisplayCard=function(e){var t=(n.props.userSettings&&n.props.userSettings.dashboards||{}).cards;if(t){var a=t.find((function(t){return t.cardID===e}));return a&&a.visibility}return!1},n.getTabContent=function(e){var t=n.props,a=t.responsiveGrid,l=t.userSettings,o=(t.dispatch,a.gridItemList),s=l.dashboards&&l.dashboards.cards||[],i=function(e){return r.a.createElement(Tr.a,null,r.a.createElement(Tr.a.Item,{key:"0"},r.a.createElement("button",{style:{background:"none",border:"none",outline:"none"},onClick:function(t,a){var r={cardsVisible:{cards:Object(jt.cloneDeep)(n.props.userSettings).dashboards.cards.map((function(t){return t.cardID===e&&(t.visibility=!1),t})),layout:{}}};console.log("payload",r)}},"Hide Card")))};switch(e){case Xi.Dashboard:return r.a.createElement(zi,{type:n.state.productDashType});case Xi.Configuration:return r.a.createElement(Zo,null);case Xi.Accounts:return r.a.createElement(ei,null);case Xi.WWSummary:return r.a.createElement("div",null);case Xi.Shortage:return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(Ss,null,r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(Ji,{color:"inherit",level:3,style:{marginBottom:0},display:"block"},"Standard"),r.a.createElement(bl.a,{title:"Show Variants",placement:"bottom"},r.a.createElement(Pr.a,{type:"ghost",shape:"circle",style:{border:"none",boxShadow:"none"},icon:r.a.createElement(so.a,null)}))),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-around",marginTop:10,alignItems:"flex-end"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(Yi,{strong:!0,style:{marginRight:"5px",color:"black",flexGrow:1,marginBottom:5}},"SKU"),r.a.createElement(so.a,null)),r.a.createElement(qi,{placeholder:"search",style:{width:300}})),r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement(Yi,{strong:!0,style:{color:"black",marginBottom:5}},"Product Series, Product Family"),r.a.createElement(sl.a,{style:{width:"230px"},placeholder:"Standard"},r.a.createElement(Qi,{value:"Standard"},"Standard"))),r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement(Yi,{strong:!0,style:{color:"black",marginBottom:5}},"Product Family"),r.a.createElement(sl.a,{style:{width:"230px"},placeholder:"Standard"},r.a.createElement(Qi,{value:"Standard"},"Standard"))),r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement(Yi,{strong:!0,style:{color:"black",marginBottom:5}},"Region"),r.a.createElement(sl.a,{style:{width:"230px"},placeholder:"EMEA"},r.a.createElement(Qi,{value:"EMEA"},"EMEA"))),r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement(Yi,{strong:!0,style:{color:"black",marginBottom:5}},"Regional Planner"),r.a.createElement(sl.a,{style:{width:"230px"},placeholder:"EMEA"},r.a.createElement(Qi,{value:"EMEA"},"EMEA"))),r.a.createElement(Pr.a,{type:"primary"},"GO")),r.a.createElement("div",{style:{display:"flex",marginTop:20}},r.a.createElement(Yi,{style:{fontWeight:"bold",borderBottom:"5px solid rgb(237,153,80)",marginRight:20,padding:15}},"All"),r.a.createElement(Yi,{style:{fontWeight:"bold",padding:15}},"Demand"),r.a.createElement(Yi,{style:{fontWeight:"bold",padding:15}},"Inventory"),r.a.createElement(Yi,{style:{fontWeight:"bold",padding:15}},"Shortages"),r.a.createElement(Yi,{style:{fontWeight:"bold",padding:15}},"Unbooked"),r.a.createElement(Yi,{style:{fontWeight:"bold",padding:15}},"New Orders"),r.a.createElement(Yi,{style:{fontWeight:"bold",padding:15}},"Aging"),r.a.createElement(Yi,{style:{fontWeight:"bold",padding:15}},"Revenue"),r.a.createElement(Yi,{style:{fontWeight:"bold",padding:15}},"Backlog"),r.a.createElement(Yi,{style:{fontWeight:"bold",padding:15}},"Open PO"),r.a.createElement(Yi,{style:{fontWeight:"bold",padding:15}},"Excess"),r.a.createElement(Yi,{style:{fontWeight:"bold",padding:15}},"Obsolescene"))))),r.a.createElement("div",null,r.a.createElement(Ss,null,0!==n.state.tableData.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(bs,{data:n.state.tableData,columnDefs:n.state.columnDefs,tableType:"general"}),r.a.createElement("div",{style:{display:"flex",flexDirection:"row-reverse"}},r.a.createElement(Pr.a,null,"Export All"),r.a.createElement(Pr.a,{style:{marginRight:20}},"Export View"))):r.a.createElement("div",null,r.a.createElement(oo.a,{active:!0}),r.a.createElement(oo.a,{active:!0})))));case Xi.Consol:case Xi.SKU:return r.a.createElement("div",null);case Xi.Reports:return r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",margin:"20px 0 0 0"}},r.a.createElement(ai,{title:"Supply Forecast Analysis",coverImage:""}),r.a.createElement(ai,{title:"Demand Forecast Analysis",coverImage:"",chart:r.a.createElement(Os,{height:"400",width:"800",dataSet:ac})}),r.a.createElement(ai,{title:"Inventory Velocity",coverImage:"logistics.jpg",chart:r.a.createElement(Rs,{height:"300",width:"800"})}),r.a.createElement(ai,{title:"Outbound Shipment vs PO Receipts",coverImage:"./outbound.jpg"}),r.a.createElement(ai,{title:"Inbound Shipment vs Open PO",coverImage:"inbound.jpg"}),r.a.createElement(ai,{title:"Big Deals",coverImage:"./bigDeal.png",chart:r.a.createElement(ws,{height:"400",width:"800",dataSet:nc})}),r.a.createElement(ai,{title:"Deal Forecast",coverImage:"./bigDeal.png"}),r.a.createElement(ai,{title:"Global Supply Chain Analysis",coverImage:"globalSupplyChainAnalysis.jpg"}));case Xi.Home:default:return r.a.createElement(r.a.Fragment,null,r.a.createElement(xi,null),r.a.createElement(Oi,null),r.a.createElement("div",null,"mainPage"===n.state.currentState?r.a.createElement("div",{style:{overflow:"hidden",margin:"0px 5px 5px 5px",padding:"5px"}},n.props.tableData&&0!==Object.keys(n.props.tableData).length&&o&&0!==o.length&&s&&0!==s.length?r.a.createElement(Wo,null,n.renderCard(s.filter((function(e){return"BACKLOG REPORT"===e.cardName}))[0],(function(e){return r.a.createElement("div",{key:e.cardID,"data-grid":{w:8,h:3,x:0,y:0,isResizable:!1}},r.a.createElement("div",{className:"cardHeader",style:{marginBottom:"10px"}},r.a.createElement("div",{className:"card-title",style:{display:"flex",alignItems:"center"}},r.a.createElement(Yi,{style:{fontWeight:"bold",marginRight:"5px",color:"black",flexGrow:1},className:"big-card"}," BACKLOG REPORT"),r.a.createElement(Nr.a,{overlay:i(e.cardID),trigger:["hover"],placement:"bottomRight"},r.a.createElement(io.a,{style:{fontSize:20}}))),r.a.createElement("div",{className:"card-dropdown",style:{display:"flex",alignItems:"center"}},r.a.createElement(Yi,{style:{fontWeight:"bold",marginRight:"5px",color:"black"}}," APJ ")," ",r.a.createElement(so.a,{style:{marginRight:"25px"}}),r.a.createElement(Yi,{style:{fontWeight:"bold",marginRight:"5px",color:"black"}}," SUB REGION ")," ",r.a.createElement(so.a,null),r.a.createElement("div",{style:{display:"flex",width:"80px",alignItems:"center",marginLeft:"70%"}},r.a.createElement("div",{style:{flexDirection:"column",width:"70%"}},r.a.createElement(Yi,{onClick:function(){return n.setState({currentState:"moreDetails"})},style:{display:"inlineBlock",marginRight:"5px",color:"orange",cursor:"pointer"}}," More Details ")),r.a.createElement("div",{style:{flexDirection:"column",color:"orange",width:"30%"}},r.a.createElement(Dl.a,null)))),r.a.createElement("div",{className:"card-title"},r.a.createElement(Yi,{style:{fontSize:"20px",marginRight:"5px",color:"black"}}," BACKLOG ")),r.a.createElement("div",{className:"card-dropdown"},r.a.createElement(Yi,{style:{fontSize:"30px",fontWeight:"bold",marginRight:"30px",color:"black"}}," 34,955 "),r.a.createElement(Yi,{style:{fontSize:"30px",fontWeight:"bold",marginRight:"5px",color:"black"}}," $89,354,985 "))),r.a.createElement(bs,{key:"backlog",data:n.props.tableData,users:n.state.userList,userGroup:n.state.userGroupList,tableType:"child",cardType:"big",persID:ha.BACKLOG}))})),n.renderCard(s.filter((function(e){return"SKU SHORT PO VS BACKLOGS"===e.cardName}))[0],(function(e){return r.a.createElement("div",{key:e.cardID,"data-grid":{w:4,h:2.2,minW:4,minH:2,x:8,y:0,isResizable:!1}},r.a.createElement("div",{className:"cardHeader",style:{marginBottom:"10px"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(Nr.a,{overlay:i(e.cardID),trigger:["hover"],placement:"bottomRight"},r.a.createElement(io.a,{style:{fontSize:20}}))),r.a.createElement("div",{className:"card-title",style:{marginBottom:"30px"}},r.a.createElement(Yi,{style:{fontWeight:"bold",marginRight:"5px",color:"black"}}," SKU SHORT PO VS BACKLOGS "),r.a.createElement(Yi,{style:{color:"black",fontWeight:"bold",borderBottom:"4px solid rgb(237,153,80)",padding:5,marginLeft:"2%"}},"Today"),r.a.createElement(Yi,{style:{padding:5}},"Next 30 Days"),r.a.createElement(Yi,{style:{padding:5}},"60 Days")),r.a.createElement("div",{className:"card-dropdown"},r.a.createElement(Yi,{style:{fontSize:"30px",color:"black"}},r.a.createElement("span",{style:{fontSize:"30px",marginRight:"5px",fontWeight:"bold"}},"22"),r.a.createElement("span",{style:{fontSize:"20px",color:"black"}},"POs")),r.a.createElement(Yi,{style:{fontSize:"30px",color:"black"}},r.a.createElement("span",{style:{fontSize:"30px",marginLeft:"30%",marginRight:"5px",fontWeight:"bold"}},"2,987"),r.a.createElement("span",{style:{fontSize:"20px",color:"black"}},"BACKLOG QTY")))),r.a.createElement(bs,{data:n.props.tableData,tableType:"child",cardType:"small",height:250}),r.a.createElement("div",{style:{flexDirection:"column"}},r.a.createElement(Yi,{style:{display:"inlineBlock",float:"right",color:"orange",fontSize:"12px"}}," Details ")))})),n.renderCard(s.filter((function(e){return"OPEN PO"===e.cardName}))[0],(function(e){return r.a.createElement("div",{key:e.cardID,"data-grid":{w:8,h:3,x:0,y:0,isResizable:!1}},r.a.createElement("div",{className:"cardHeader",style:{marginBottom:"10px"}},r.a.createElement("div",{className:"card-title",style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},r.a.createElement(Yi,{style:{fontWeight:"bold",marginRight:"5px",color:"black"}}," OPEN PO "),r.a.createElement(Nr.a,{overlay:i(e.cardID),trigger:["hover"],placement:"bottomRight"},r.a.createElement(io.a,{style:{fontSize:20}}))),r.a.createElement("div",{className:"card-dropdown",style:{display:"flex",alignItems:"center"}},r.a.createElement(Yi,{style:{fontWeight:"bold",marginRight:"5px",color:"black"}}," APJ ")," ",r.a.createElement(so.a,{style:{marginRight:"25px"}}),r.a.createElement("div",{style:{display:"flex",width:"80px",alignItems:"center",marginLeft:"82%"}},r.a.createElement("div",{style:{flexDirection:"column",width:"70%"}},r.a.createElement(Yi,{style:{display:"inlineBlock",marginRight:"5px",color:"orange"}}," More Details ")),r.a.createElement("div",{style:{flexDirection:"column",color:"orange",width:"30%"}},r.a.createElement(Dl.a,null)))),r.a.createElement("div",{className:"card-title"},r.a.createElement(Yi,{style:{fontSize:"20px",marginRight:"5px",color:"black"}}," OPEN POs ")),r.a.createElement("div",{className:"card-dropdown"},r.a.createElement(Yi,{style:{fontSize:"30px",marginRight:"30px",color:"black"}},r.a.createElement("span",{style:{fontSize:"30px",marginRight:"5px",fontWeight:"bold"}},"013"),r.a.createElement("span",{style:{fontSize:"20px",color:"black"}},"POs")),r.a.createElement(Yi,{style:{fontSize:"30px",fontWeight:"bold",marginRight:"5px",color:"black"}}," $534,985 "))),r.a.createElement(bs,{key:"openpo",data:n.props.tableData,users:n.state.userList,userGroup:n.state.userGroupList,tableType:"child",cardType:"big",persID:ha.OPEN_PO}))})),n.renderCard(s.filter((function(e){return"PAST DUE PURCHASE ORDERS"===e.cardName}))[0],(function(e){return r.a.createElement("div",{key:e.cardID,"data-grid":{w:4,h:2.2,x:8,y:0,isResizable:!1}},r.a.createElement("div",{className:"cardHeader",style:{marginBottom:"10px"}},r.a.createElement("div",{className:"card-title",style:{marginBottom:"5px",display:"flex",justifyContent:"space-between",alignItems:"center"}},r.a.createElement(Yi,{style:{fontWeight:"bold",marginRight:"5px",color:"black"},className:"small-card"}," PAST DUE PURCHASE ORDERS"),r.a.createElement(Nr.a,{overlay:i(e.cardID),trigger:["hover"],placement:"bottomRight"},r.a.createElement(io.a,{style:{fontSize:20}}))),r.a.createElement("div",{className:"card-dropdown"},r.a.createElement(Yi,{style:{color:"black"}},r.a.createElement("span",{style:{fontSize:"30px",marginRight:"5px",fontWeight:"bold"}},"20")),r.a.createElement(Yi,{style:{color:"black"}},r.a.createElement("span",{style:{fontWeight:"bold",borderBottom:"4px solid rgb(237,153,80)",padding:5,marginLeft:"37%"}},"Today"),r.a.createElement("span",{style:{padding:5}},"Last 7 Days"),r.a.createElement("span",{style:{padding:5}},"Last 30 Days")))),r.a.createElement(bs,{data:n.props.tableData,tableType:"child",cardType:"small",height:250}),r.a.createElement("div",{style:{flexDirection:"column"}},r.a.createElement(Yi,{style:{display:"inlineBlock",float:"right",color:"orange",fontSize:"12px"}}," Details ")))})),n.renderCard(s.filter((function(e){return"SHORTAGES"===e.cardName}))[0],(function(e){return r.a.createElement("div",{key:e.cardID,"data-grid":{w:8,h:3,x:0,y:0,isResizable:!1}},r.a.createElement("div",{className:"cardHeader",style:{marginBottom:"10px"}},r.a.createElement("div",{className:"card-title",style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},r.a.createElement(Yi,{style:{fontWeight:"bold",marginRight:"5px",color:"black"}}," SHORTAGES "),r.a.createElement(Nr.a,{overlay:i(e.cardID),trigger:["hover"],placement:"bottomRight"},r.a.createElement(io.a,{style:{fontSize:20}}))),r.a.createElement("div",{className:"card-dropdown",style:{display:"flex",alignItems:"center"}},r.a.createElement(Yi,{style:{fontWeight:"bold",marginRight:"5px",color:"black"}}," APJ ")," ",r.a.createElement(so.a,{style:{marginRight:"25px"}}),r.a.createElement(so.a,null),r.a.createElement(Yi,{style:{fontWeight:"bold",marginLeft:"5px",color:"black"}}," CUSTOMER ORDERS "),r.a.createElement("div",{style:{display:"flex",width:"80px",alignItems:"center",marginLeft:"63%"}},r.a.createElement("div",{style:{flexDirection:"column",width:"70%"}},r.a.createElement(Yi,{style:{display:"inlineBlock",marginRight:"5px",color:"orange"}}," More Details ")),r.a.createElement("div",{style:{flexDirection:"column",color:"orange",width:"30%"}},r.a.createElement(Dl.a,null)))),r.a.createElement("div",{style:{display:"flex",marginLeft:"71%"}},r.a.createElement(Yi,{style:{fontWeight:"bold",borderBottom:"4px solid rgb(237,153,80)",padding:5}},"This Qtr"),r.a.createElement(Yi,{style:{padding:5}},"Qtr+1"),r.a.createElement(Yi,{style:{padding:5}},"Qtr+2"),r.a.createElement(Yi,{level:4,style:{padding:5}},"Qtr+3")),r.a.createElement("div",{className:"card-dropdown"},r.a.createElement(Yi,{style:{fontSize:"30px",marginRight:"30px",color:"black"}},r.a.createElement("span",{style:{fontSize:"30px",marginRight:"5px",fontWeight:"bold"}},"345"),r.a.createElement("span",{style:{fontSize:"20px",color:"black"}},"SKUs")),r.a.createElement(Yi,{style:{fontSize:"30px",fontWeight:"bold",marginRight:"5px",color:"black"}}," $34,985"))),r.a.createElement(bs,{key:"shortages",data:n.props.tableData,users:n.state.userList,userGroup:n.state.userGroupList,tableType:"child",cardType:"big",persID:ha.SKU}))})),n.renderCard(s.filter((function(e){return"OH VS BACKLOG"===e.cardName}))[0],(function(e){return r.a.createElement("div",{key:e.cardID,"data-grid":{w:4,h:2.2,x:8,y:0,isResizable:!1}},r.a.createElement("div",{className:"cardHeader",style:{marginBottom:"10px"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(Nr.a,{overlay:i(e.cardID),trigger:["hover"],placement:"bottomRight"},r.a.createElement(io.a,{style:{fontSize:20}}))),r.a.createElement("div",{className:"card-title",style:{marginBottom:"30px"}},r.a.createElement(Yi,{style:{fontWeight:"bold",marginRight:"5px",color:"black"}}," OH VS BACKLOG "),r.a.createElement(Yi,{style:{fontWeight:"bold",borderBottom:"4px solid rgb(237,153,80)",padding:5,marginLeft:"22%"}},"Today"),r.a.createElement(Yi,{style:{padding:5}},"Next 30 Days"),r.a.createElement(Yi,{style:{padding:5}},"60 Days")),r.a.createElement("div",{className:"card-dropdown"},r.a.createElement(Yi,{style:{fontSize:"30px",color:"black"}},r.a.createElement("span",{style:{fontSize:"30px",marginRight:"5px",fontWeight:"bold"}},"22"),r.a.createElement("span",{style:{fontSize:"20px",color:"black"}},"SKUs")))),r.a.createElement(bs,{data:n.props.tableData,tableType:"child",cardType:"small",height:250}),r.a.createElement("div",{style:{flexDirection:"column"}},r.a.createElement(Yi,{style:{display:"inlineBlock",float:"right",color:"orange",fontSize:"12px"}}," Details ")))})),n.renderCard(s.filter((function(e){return"REVENUE RISK TREND"===e.cardName}))[0],(function(e){return r.a.createElement("div",{key:e.cardID,"data-grid":{w:8,h:2,x:0,y:0,isResizable:!1}},r.a.createElement("div",{className:"cardHeader",style:{marginBottom:"10px"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(Nr.a,{overlay:i(e.cardID),trigger:["hover"],placement:"bottomRight"},r.a.createElement(io.a,{style:{fontSize:20}}))),r.a.createElement("div",{className:"card-title"},r.a.createElement(Yi,{style:{fontWeight:"bold",marginLeft:"18px",color:"black"},className:"line-chart"}," REVENUE RISK TREND "),r.a.createElement(Yi,{style:{fontWeight:"bold",borderBottom:"4px solid rgb(237,153,80)",padding:5,marginLeft:"56%"}},"This Qtr"),r.a.createElement(Yi,{style:{padding:5}},"Qtr+1"),r.a.createElement(Yi,{style:{padding:5}},"Qtr+2"),r.a.createElement(Yi,{level:4,style:{padding:5}},"Qtr+3"))),r.a.createElement(Os,{height:"300",width:"800",dataSet:tc}))})),n.renderCard(s.filter((function(e){return"GLOBAL SUPPLY PERFORMANCE"===e.cardName}))[0],(function(e){return r.a.createElement("div",{key:e.cardID,"data-grid":{w:8,h:2,x:0,y:0,isResizable:!1}},r.a.createElement("div",{className:"cardHeader",style:{marginBottom:"10px"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(Nr.a,{overlay:i(e.cardID),trigger:["hover"],placement:"bottomRight"},r.a.createElement(io.a,{style:{fontSize:20}}))),r.a.createElement("div",{className:"card-title"},r.a.createElement(Yi,{style:{fontWeight:"bold",marginLeft:"18px",color:"black"},className:"bubble-chart"}," GLOBAL SUPPLY PERFORMANCE "),r.a.createElement(Yi,{style:{fontWeight:"bold",borderBottom:"4px solid rgb(237,153,80)",padding:5,marginLeft:"48%"}},"This Qtr"),r.a.createElement(Yi,{style:{padding:5}},"Qtr+1"),r.a.createElement(Yi,{style:{padding:5}},"Qtr+2"),r.a.createElement(Yi,{level:4,style:{padding:5}},"Qtr+3"))),r.a.createElement(js,{height:"300",width:"800",dataSet:rc}))})),n.renderCard(s.filter((function(e){return"SUPPLIER PERFORMANCE"===e.cardName}))[0],(function(e){return r.a.createElement("div",{key:e.cardID,"data-grid":{w:8,h:2,x:0,y:0,isResizable:!1}},r.a.createElement("div",{className:"cardHeader",style:{marginBottom:"10px"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(Nr.a,{overlay:i(e.cardID),trigger:["hover"],placement:"bottomRight"},r.a.createElement(io.a,{style:{fontSize:20}}))),r.a.createElement("div",{className:"card-title"},r.a.createElement(Yi,{style:{fontWeight:"bold",marginLeft:"18px",color:"black"},className:"multiLine-chart"}," SUPPLIER PERFORMANCE "),r.a.createElement(Yi,{style:{fontWeight:"bold",borderBottom:"4px solid rgb(237,153,80)",padding:5,marginLeft:"53%"}},"This Qtr"),r.a.createElement(Yi,{style:{padding:5}},"Qtr+1"),r.a.createElement(Yi,{style:{padding:5}},"Qtr+2"),r.a.createElement(Yi,{level:4,style:{padding:5}},"Qtr+3"))),r.a.createElement(Os,{height:"300",width:"800",dataSet:ac}))})),n.renderCard(s.filter((function(e){return"GLOBAL DEMAND DISTRIBUTION"===e.cardName}))[0],(function(e){return r.a.createElement("div",{key:e.cardID,"data-grid":{w:4,h:2.2,x:8,y:0,isResizable:!1}},r.a.createElement("div",{className:"cardHeader",style:{marginBottom:"10px"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(Nr.a,{overlay:i(e.cardID),trigger:["hover"],placement:"bottomRight"},r.a.createElement(io.a,{style:{fontSize:20}}))),r.a.createElement("div",{className:"card-title"},r.a.createElement(Yi,{style:{fontWeight:"bold",marginLeft:"18px",color:"black"},className:"pie-chart"}," GLOBAL DEMAND  DISTRIBUTION "),r.a.createElement(Yi,{style:{fontWeight:"bold",borderBottom:"4px solid rgb(237,153,80)",padding:5,marginLeft:"50%"}},"This Qtr"),r.a.createElement(Yi,{style:{padding:5}},"Qtr+1"),r.a.createElement(Yi,{style:{padding:5}},"Qtr+2"),r.a.createElement(Yi,{level:4,style:{padding:5}},"Qtr+3"))),r.a.createElement(Rs,{height:"300",width:"800"}))})),n.renderCard(s.filter((function(e){return"GLOBAL VS. LOCAL SUPPLY"===e.cardName}))[0],(function(e){return r.a.createElement("div",{key:e.cardID,"data-grid":{w:4,h:2.2,x:8,y:0,isResizable:!1}},r.a.createElement("div",{className:"cardHeader",style:{marginBottom:"10px"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(Nr.a,{overlay:i(e.cardID),trigger:["hover"],placement:"bottomRight"},r.a.createElement(io.a,{style:{fontSize:20}}))),r.a.createElement("div",{className:"card-title"},r.a.createElement(Yi,{style:{fontWeight:"bold",marginLeft:"18px",color:"black"},className:"donut-chart"}," GLOBAL VS. LOCAL SUPPLY "),r.a.createElement(Yi,{style:{fontWeight:"bold",borderBottom:"4px solid rgb(237,153,80)",padding:5,marginLeft:"50%"}},"This Qtr"),r.a.createElement(Yi,{style:{padding:5}},"Qtr+1"),r.a.createElement(Yi,{style:{padding:5}},"Qtr+2"),r.a.createElement(Yi,{level:4,style:{padding:5}},"Qtr+3"))),r.a.createElement(ws,{height:"300",width:"800",dataSet:nc}))}))):r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(oo.a,{active:!0,style:{marginRight:10}}),r.a.createElement(oo.a,{active:!0}))):r.a.createElement("div",null,r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(bl.a,{title:"Back",placement:"bottom"},r.a.createElement(Pr.a,{ghost:!0,shape:"circle",size:"large",style:{color:"rgb(237,154,128)"},onClick:function(){return n.setState({currentState:"mainPage"})},icon:r.a.createElement(co.a,null)})),r.a.createElement("div",{style:{marginLeft:20}},r.a.createElement(Ji,{level:4},"SKU 7078YB"),r.a.createElement(Yi,null,"HOME / SKU 7078YB / Forecast")),r.a.createElement(Ss,null,r.a.createElement(tl.a,{expandIconPosition:"right",ghost:!0,defaultActiveKey:["1"]},r.a.createElement(Ki,{style:{fontSize:24},header:"FORECAST",key:"1"},r.a.createElement(_o,null)))),r.a.createElement(Ss,null,r.a.createElement(tl.a,{expandIconPosition:"right",ghost:!0},r.a.createElement(Ki,{style:{fontSize:24},header:"INVENTORY POSITION",key:"1"},r.a.createElement(_o,null))))))))}},n.state={tableData:[],currentState:"mainPage",selectedTab:Xi.Home,productDashType:"user",steps:[{content:r.a.createElement("h2",null,"Let's begin our journey!"),locale:{skip:r.a.createElement("strong",{"aria-label":"skip"},"S-K-I-P")},placement:"center",target:"body"},{content:"Search Anything!",target:".ant-input-search"},{content:"This is notification",target:".notification"},{content:r.a.createElement("h2",null,"Find profile, help, settings.."),floaterProps:{disableAnimation:!0},spotlightPadding:20,target:".profile"},{content:"These are cards with big tables",styles:{options:{width:300}},target:".big-card",title:"BACKLOG REPORTS"},{content:r.a.createElement("div",null,"These are cards with big tables",r.a.createElement("br",null),r.a.createElement("h3",null,"No Variant management")),target:".small-card",title:"PAST DUE PURCHASE ORDER"},{content:r.a.createElement("div",null,r.a.createElement("h3",null,"Line Chart")),target:".line-chart"}],userList:[],userGroupList:[],isPanelActive:!1},n.helpers="",n}return Object(rr.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.steps,n=t.selectedTab,l=(t.notification,yt(this.props.userInfo)),o=l.isAdmin,s=l.isSupport;return r.a.createElement(ro,{style:{display:"flex",flexDirection:"column",height:"100%",backgroundColor:"rgb(244,246,250)"}},r.a.createElement(lo.b,{callback:this.handleJoyrideCallback,continuous:!0,getHelpers:this.getHelpers,run:this.props.joyRide.runTour,scrollToFirstStep:!0,showProgress:!0,showSkipButton:!0,steps:a,styles:{options:{zIndex:1e4}}}),r.a.createElement(to.a,{offsetTop:41.1},r.a.createElement("div",{className:"Tabs",style:{backgroundImage:'url("./headerBackground.jpg")',backgroundRepeat:"no-repeat",backgroundSize:"100% 94px",position:"relative"}},r.a.createElement(ol.a,{defaultActiveKey:Xi.Home,onChange:this.handleTabChange},r.a.createElement($i,{tab:"Home",key:Xi.Home,className:"homeTab"},r.a.createElement("div",{style:{minHeight:this.state.isPanelActive?"292px":"122px",width:"100%",background:"#f4f6fa"}},r.a.createElement(tl.a,{accordion:!1,onChange:function(){return e.setState({isPanelActive:!e.state.isPanelActive})},style:{zIndex:10,borderRadius:"5px 0px",backgroundColor:"white",margin:"0px 0px 10px 0px"}},r.a.createElement(Ki,{header:"OPERATIONAL STATUS",key:"1"},r.a.createElement(Lo,null))),r.a.createElement("div",{className:"master-filter",style:{padding:"10px",zIndex:10,borderRadius:"5px",boxShadow:"2px 2px 10px 2px #dcdee2",backgroundColor:"white"}},r.a.createElement(Hi,{title:"MASTER FILTERS",visibility:{shouldShowRegion:!0,shouldShowSubRegion:!0,shouldShowGroup:!0}})))),r.a.createElement($i,{tab:"Dashboard",key:Xi.Dashboard},r.a.createElement("div",{style:{display:"flex",minHeight:"60px",width:"100%",background:"#f0f2f5",borderRadius:"5px 0px"}},r.a.createElement("div",{className:"pd-master-filter",style:{display:"flex",alignItems:"baseline",justifyContent:"space-between",padding:"10px 10px 0px 10px",boxShadow:"2px 2px 6px 2px #dcdee2",zIndex:10,borderRadius:"5px",backgroundColor:"white"}},r.a.createElement(gi,{showProductBase:!0,showProductLine:!0,showPartNumber:!0,showRASLine:!0,showSupplier:!0,showDistributionCenter:!0,showViews:!0,showSetting:!0})),r.a.createElement("div",{style:{background:"white",borderRadius:5,marginLeft:5,boxShadow:"2px 2px 6px 2px #dcdee2",padding:"10px 15px 10px 15px"}},r.a.createElement(Pr.a,{style:{width:"100%",height:"100%"},icon:"user"===this.state.productDashType?r.a.createElement(Hr.a,null):r.a.createElement(uo.a,null),onClick:function(){return e.setState({productDashType:"user"===e.state.productDashType?"planner":"user"})}})))),r.a.createElement($i,{tab:"Shortage Management",key:Xi.Consol},r.a.createElement("div",{style:{display:"flex",background:"white",padding:10,borderRadius:5}},r.a.createElement("div",{style:{display:"flex",borderRadius:5,zIndex:10,flexGrow:1}},r.a.createElement(gi,{showProductBase:!0,showProductLine:!0,showPartNumber:!0,showRASLine:!0,showSupplier:!0,showDistributionCenter:!0,showViews:!0,showSetting:!0})),r.a.createElement(Pr.a,null,"CLEAR ALL"))),r.a.createElement($i,{tab:"SKU",key:Xi.SKU},r.a.createElement("div",{style:{display:"flex",background:"white",padding:10,borderRadius:5,alignItems:"center"}},r.a.createElement("div",{style:{display:"flex",borderRadius:5,zIndex:10,flexGrow:1}},r.a.createElement(Ji,{level:4},"SKU: J17231")),r.a.createElement(qi,{placeholder:"search for another SKU",style:{width:300,marginRight:10}}))),r.a.createElement($i,{tab:"WW Summary",key:Xi.WWSummary}),(o||s)&&r.a.createElement($i,{tab:"Accounts Management",key:Xi.Accounts}),o&&r.a.createElement($i,{tab:"Application Configuration",key:Xi.Configuration}),r.a.createElement($i,{tab:"Reports",key:Xi.Reports})),r.a.createElement("div",{style:{color:"rgb(240,244,246)",position:"absolute",top:"10px",right:"15px"}},"Last Refreshed: ",r.a.createElement(ri.a,{format:"MMMM Do, YYYY, h:mm A"})))),this.getTabContent(n))}}]),a}(n.Component),ec=Object(s.b)((function(e){return{personaData:e.persona&&e.persona.personaData,userInfo:e.login.userInfo,joyRide:e.joyRide,responsiveGrid:e.responsiveGrid,tableData:e.tableData,users:e.users.users,userGroups:e.userGroups.userGroups,userSettings:e.userSettings,communication:e.communication,login:e.login}}),(function(e){return{userSettingsRequest:function(){return e(Rr())},getNotificationRequest:function(){return e({type:we})},gridItemRequest:function(){return e({type:w,payload:t});var t},personaRequest:function(t){return e({type:C,payload:{userId:t}})},getUsers:function(){return e(xr())},getUserGroups:function(){return e(Sr())},getTableData:function(t){return e({type:ue,payload:{userInfo:t}})},logout:function(){return e(vr())}}}))(Object(fr.a)(Zi)),tc=[{date:"2020-05-27",type:"DP POR",qty:"283849"},{date:"2020-06-27",type:"DP POR",qty:"304571"},{date:"2020-07-27",type:"DP POR",qty:"264563"},{date:"2020-08-27",type:"DP POR",qty:"225664"},{date:"2020-09-27",type:"DP POR",qty:"217383"},{date:"2020-10-27",type:"DP POR",qty:"154939"},{date:"2020-11-27",type:"DP POR",qty:"183244"},{date:"2020-12-27",type:"DP POR",qty:"287633"}],ac=[{date:"2020-05-27",type:"DP POR",qty:"283849"},{date:"2020-05-27",type:"Available",qty:"183849"},{date:"2020-06-27",type:"DP POR",qty:"304571"},{date:"2020-06-27",type:"Available",qty:"283849"},{date:"2020-07-27",type:"DP POR",qty:"264563"},{date:"2020-07-27",type:"Available",qty:"223000"},{date:"2020-08-27",type:"DP POR",qty:"225664"},{date:"2020-08-27",type:"Available",qty:"103849"},{date:"2020-09-27",type:"DP POR",qty:"217383"},{date:"2020-09-27",type:"Available",qty:"283849"},{date:"2020-10-27",type:"DP POR",qty:"154939"},{date:"2020-10-27",type:"Available",qty:"283849"},{date:"2020-11-27",type:"DP POR",qty:"183244"},{date:"2020-11-27",type:"Available",qty:"283849"},{date:"2020-12-27",type:"DP POR",qty:"287633"},{date:"2020-12-27",type:"Available",qty:"250927"}],nc=[{label:"H12RTA",count:152681},{label:"RT12AS",count:151554},{label:"TW846T",count:55633},{label:"QT234E",count:156653},{label:"IIWE32",count:126364},{label:"PQ12WD",count:127453},{label:"IU1234",count:126363},{label:"JY7228",count:127158},{label:"R2H28A",count:122264},{label:"TREWL2",count:153876},{label:"WE5621",count:141266},{label:"JJHDG2",count:153758}],rc=[{country:"Afghanistan",continent:"Asia",lifeExp:43.828,pop:31889923,gdpPercap:974.5803384},{country:"Algeria",continent:"Africa",lifeExp:72.301,pop:33333216,gdpPercap:6223.367465},{country:"Angola",continent:"Africa",lifeExp:42.731,pop:12420476,gdpPercap:4797.231267},{country:"Argentina",continent:"Americas",lifeExp:75.32,pop:40301927,gdpPercap:12779.37964},{country:"Australia",continent:"Oceania",lifeExp:81.235,pop:20434176,gdpPercap:34435.36744},{country:"Austria",continent:"Europe",lifeExp:79.829,pop:8199783,gdpPercap:36126.4927},{country:"Bahrain",continent:"Asia",lifeExp:75.635,pop:708573,gdpPercap:29796.04834},{country:"Bangladesh",continent:"Asia",lifeExp:64.062,pop:150448339,gdpPercap:1391.253792},{country:"Belgium",continent:"Europe",lifeExp:79.441,pop:10392226,gdpPercap:33692.60508},{country:"Bosnia and Herzegovina",continent:"Europe",lifeExp:74.852,pop:4552198,gdpPercap:7446.298803},{country:"Botswana",continent:"Africa",lifeExp:50.728,pop:1639131,gdpPercap:12569.85177},{country:"Brazil",continent:"Americas",lifeExp:72.39,pop:190010647,gdpPercap:9065.800825},{country:"Burkina Faso",continent:"Africa",lifeExp:52.295,pop:14326203,gdpPercap:1217.032994},{country:"Burundi",continent:"Africa",lifeExp:49.58,pop:8390505,gdpPercap:430.0706916},{country:"Cambodia",continent:"Asia",lifeExp:59.723,pop:14131858,gdpPercap:1713.778686},{country:"China",continent:"Asia",lifeExp:72.961,pop:1318683096,gdpPercap:4959.114854},{country:"Colombia",continent:"Americas",lifeExp:72.889,pop:44227550,gdpPercap:7006.580419},{country:"Comoros",continent:"Africa",lifeExp:65.152,pop:710960,gdpPercap:986.1478792},{country:"Congo, Rep.",continent:"Africa",lifeExp:55.322,pop:3800610,gdpPercap:3632.557798},{country:"Costa Rica",continent:"Americas",lifeExp:78.782,pop:4133884,gdpPercap:9645.06142},{country:"Cote d'Ivoire",continent:"Africa",lifeExp:48.328,pop:18013409,gdpPercap:1544.750112},{country:"Croatia",continent:"Europe",lifeExp:75.748,pop:4493312,gdpPercap:14619.22272},{country:"Czech Republic",continent:"Europe",lifeExp:76.486,pop:10228744,gdpPercap:22833.30851},{country:"Denmark",continent:"Europe",lifeExp:78.332,pop:5468120,gdpPercap:35278.41874},{country:"Dominican Republic",continent:"Americas",lifeExp:72.235,pop:9319622,gdpPercap:6025.374752},{country:"Ecuador",continent:"Americas",lifeExp:74.994,pop:13755680,gdpPercap:6873.262326},{country:"Egypt",continent:"Africa",lifeExp:71.338,pop:80264543,gdpPercap:5581.180998},{country:"El Salvador",continent:"Americas",lifeExp:71.878,pop:6939688,gdpPercap:5728.353514},{country:"Equatorial Guinea",continent:"Africa",lifeExp:51.579,pop:551201,gdpPercap:12154.08975},{country:"Eritrea",continent:"Africa",lifeExp:58.04,pop:4906585,gdpPercap:641.3695236},{country:"Ethiopia",continent:"Africa",lifeExp:52.947,pop:76511887,gdpPercap:690.8055759},{country:"Finland",continent:"Europe",lifeExp:79.313,pop:5238460,gdpPercap:33207.0844},{country:"France",continent:"Europe",lifeExp:80.657,pop:61083916,gdpPercap:30470.0167},{country:"Gabon",continent:"Africa",lifeExp:56.735,pop:1454867,gdpPercap:13206.48452},{country:"Gambia",continent:"Africa",lifeExp:59.448,pop:1688359,gdpPercap:752.7497265},{country:"Germany",continent:"Europe",lifeExp:79.406,pop:82400996,gdpPercap:32170.37442},{country:"Ghana",continent:"Africa",lifeExp:60.022,pop:22873338,gdpPercap:1327.60891},{country:"Greece",continent:"Europe",lifeExp:79.483,pop:10706290,gdpPercap:27538.41188},{country:"Guatemala",continent:"Americas",lifeExp:70.259,pop:12572928,gdpPercap:5186.050003},{country:"Guinea",continent:"Africa",lifeExp:56.007,pop:9947814,gdpPercap:942.6542111},{country:"Guinea-Bissau",continent:"Africa",lifeExp:46.388,pop:1472041,gdpPercap:579.231743},{country:"Haiti",continent:"Americas",lifeExp:60.916,pop:8502814,gdpPercap:1201.637154},{country:"Honduras",continent:"Americas",lifeExp:70.198,pop:7483763,gdpPercap:3548.330846}],lc=(a(1291),a(1292),a(1349)),oc=(a(1293),jr.a.Text),sc=(jr.a.Title,ol.a.TabPane),ic=function(e){return r.a.createElement(po.a,{style:{width:150,height:150,margin:10,borderRadius:"5px",backgroundSize:"cover",backgroundImage:"linear-gradient( rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7) ), url(./userSettingsCardBG.png)"},bodyStyle:{padding:"5px"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",margin:"10%"}},r.a.createElement(oc,{style:{fontSize:"small",color:"white"}},e.cardData.cardName),r.a.createElement("div",{style:{position:"absolute",bottom:"20px"}},r.a.createElement(oc,{style:{fontSize:"10px",color:"white",marginTop:"20px"}},"SHOW/HIDE:"),r.a.createElement(lc.a,{id:e.cardData.cardId,checkedChildren:"Visible",unCheckedChildren:"Hidden",checked:e.cardData.visibility,onChange:function(t,a){var n={dashboards:{cards:Object(jt.cloneDeep)(e.userSettings).dashboards.cards.map((function(a){return a.cardID===e.cardData.cardID&&(a.visibility=t),a})),layout:{}}};e.dispatch({type:rt,payload:n})},style:{width:"70%"},size:"small"}))))},cc=function(e){var t=e.userSettings.accountSettings,a=t.emailNotf,n=t.appNotifications,l=t.businessUpdates,o=e.userInfo,s=(o.id,o.firstName),i=o.lastName,c=o.email;o.emailNotification,o.jobRole,o.sRole;return r.a.createElement(po.a,{className:"userDetail",style:{width:"500px",height:"600px",margin:10,borderRadius:"5px",backgroundSize:"cover",boxShadow:"4px 4px 12px 2px #d3d4d6"},bodyStyle:{padding:"5px"}},r.a.createElement("div",{className:"avatarContainer"},r.a.createElement(Gr.a,{style:{backgroundColor:"#a7a7a7",margin:"2px 10px 0px 0px"},icon:r.a.createElement(Hr.a,null),size:200})),r.a.createElement("div",{className:"infoContainer"},r.a.createElement("div",{style:{display:"flex",margin:"10px"}},r.a.createElement(oc,{className:"label"},"First Name: "),r.a.createElement(oc,{className:"formData"},s)),r.a.createElement("div",{style:{display:"flex",margin:"10px"}},r.a.createElement(oc,{className:"label"},"Last Name: "),r.a.createElement(oc,{className:"formData"}," ",i)),r.a.createElement("div",{style:{display:"flex",margin:"10px"}},r.a.createElement(oc,{className:"label"},"Email: "),r.a.createElement(oc,{className:"formData"},c)),r.a.createElement("div",{style:{display:"flex",margin:"10px",alignItems:"center"}},r.a.createElement(oc,{className:"label"},"Email Notification:"),r.a.createElement(lc.a,{checkedChildren:"On",unCheckedChildren:"Off",checked:a,onChange:function(t,a){var n={emailNotf:t};e.dispatch({type:ot,payload:n})},style:{margin:"5px 0 0 15px"},size:"big"})),r.a.createElement("div",{style:{display:"flex",margin:"10px",alignItems:"center"}},r.a.createElement(oc,{className:"label"},"App Notification:"),r.a.createElement(lc.a,{checkedChildren:"On",unCheckedChildren:"Off",checked:n,onChange:function(t,a){var n={appNotifications:t};e.dispatch({type:ot,payload:n})},style:{margin:"5px 0 0 15px"},size:"big"})),r.a.createElement("div",{style:{display:"flex",margin:"10px",alignItems:"center"}},r.a.createElement(oc,{className:"label"},"Business Updates:"),r.a.createElement(lc.a,{checkedChildren:"On",unCheckedChildren:"Off",checked:l,onChange:function(t,a){var n={businessUpdates:t};e.dispatch({type:ot,payload:n})},style:{margin:"5px 0 0 15px"},size:"big"}))))},uc=function(e){Object(lr.a)(a,e);var t=Object(or.a)(a);function a(e){var n;return Object(nr.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){0===n.props.responsiveGrid.gridItemList.length&&n.props.dispatch({type:w})},n.state={isEditing:!1},n}return Object(rr.a)(a,[{key:"render",value:function(){var e=this,t=this.props.userSettings.dashboards&&this.props.userSettings.dashboards.cards;return r.a.createElement(ro,null,r.a.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100%"}},r.a.createElement("div",{className:"userSetting"},r.a.createElement(ol.a,{tabPosition:"left"},r.a.createElement(sc,{tab:"Dashboard Settings",key:"Dashboard"},r.a.createElement("div",{className:"cardHolder",style:{display:"flex",flexWrap:"wrap"}},t&&t.map((function(t){return r.a.createElement(ic,{key:t.cardID,cardData:t,userSettings:e.props.userSettings,dispatch:e.props.dispatch})})))),r.a.createElement(sc,{tab:"Report Tiles",key:"Report Tiles"},"Report Tiles"),r.a.createElement(sc,{tab:"Account Settings",key:"Account Settings"},r.a.createElement(cc,{userInfo:this.props.login.userInfo,userSettings:this.props.userSettings,dispatch:this.props.dispatch}))))))}}]),a}(r.a.Component),dc=Object(s.b)((function(e){return{login:e.login,users:e.users.users,persona:e.persona,responsiveGrid:e.responsiveGrid,userSettings:e.userSettings}}),(function(e){return{userSettingsRequest:function(){return e(Rr())},dispatch:e}}))(Object(fr.a)(uc));function pc(e){var t={padding:"auto",forceFit:!0,data:e.data||[{date:"2018/8/1",type:"download",value:4623},{date:"2018/8/1",type:"register",value:2208},{date:"2018/8/1",type:"bill",value:182},{date:"2018/8/2",type:"download",value:6145},{date:"2018/8/2",type:"register",value:2016},{date:"2018/8/2",type:"bill",value:257},{date:"2018/8/3",type:"download",value:508},{date:"2018/8/3",type:"register",value:2916},{date:"2018/8/3",type:"bill",value:289},{date:"2018/8/4",type:"download",value:6268},{date:"2018/8/4",type:"register",value:4512},{date:"2018/8/4",type:"bill",value:428},{date:"2018/8/5",type:"download",value:6411},{date:"2018/8/5",type:"register",value:8281},{date:"2018/8/5",type:"bill",value:619},{date:"2018/8/6",type:"download",value:1890},{date:"2018/8/6",type:"register",value:2008},{date:"2018/8/6",type:"bill",value:87},{date:"2018/8/7",type:"download",value:4251},{date:"2018/8/7",type:"register",value:1963},{date:"2018/8/7",type:"bill",value:706},{date:"2018/8/8",type:"download",value:2978},{date:"2018/8/8",type:"register",value:2367},{date:"2018/8/8",type:"bill",value:387},{date:"2018/8/9",type:"download",value:3880},{date:"2018/8/9",type:"register",value:2956},{date:"2018/8/9",type:"bill",value:488},{date:"2018/8/10",type:"download",value:3606},{date:"2018/8/10",type:"register",value:678},{date:"2018/8/10",type:"bill",value:507},{date:"2018/8/11",type:"download",value:4311},{date:"2018/8/11",type:"register",value:3188},{date:"2018/8/11",type:"bill",value:548},{date:"2018/8/12",type:"download",value:4116},{date:"2018/8/12",type:"register",value:3491},{date:"2018/8/12",type:"bill",value:456},{date:"2018/8/13",type:"download",value:6419},{date:"2018/8/13",type:"register",value:2852},{date:"2018/8/13",type:"bill",value:689},{date:"2018/8/14",type:"download",value:1643},{date:"2018/8/14",type:"register",value:4788},{date:"2018/8/14",type:"bill",value:280},{date:"2018/8/15",type:"download",value:445},{date:"2018/8/15",type:"register",value:4319},{date:"2018/8/15",type:"bill",value:176}],xField:"date",yField:"value",yAxis:{label:{formatter:function(e){return" ".concat(e," ").replace(/\d{1,3}(?=(\d{3})+$)/g,(function(e){return" ".concat(e," , ")}))}}},legend:{position:"right-top"},seriesField:"type",responsive:!0,interactions:[{type:"slider",cfg:{start:0,end:1}}]};return r.a.createElement("div",null,r.a.createElement(Ci.i,t))}function mc(){var e={title:{visible:!1,text:"Mixed bar graph"},description:{visible:!1,text:"Turn off dual Y-axis color mapping"},data:[[{time:"2019-03",value:350},{time:"2019-04",value:900},{time:"2019-05",value:300},{time:"2019-06",value:450},{time:"2019-07",value:470}],[{time:"2019-03",count:800},{time:"2019-04",count:600},{time:"2019-05",count:400},{time:"2019-06",count:380},{time:"2019-07",count:220}]],xField:"time",yField:["value","count"],yAxis:{leftConfig:{colorMapping:!1},rightConfig:{colorMapping:!1}}};return r.a.createElement("div",null,r.a.createElement(Ci.a,e))}a(398);function fc(e){var t={forceFit:!0,title:{visible:!1,text:"ring graph"},description:{visible:!1,text:"The outer radius of the ring graph determines the size of the ring graph and the inner radius determines the thickness of the ring graph"},radius:.8,padding:"auto",data:e.data||[{type:"Classification One",value:27},{type:"Classification Two",value:25},{type:"Classification Three",value:18},{type:"Classification Four",value:15},{type:"Classification Five",value:10},{type:"Other",value:5}],angleField:"value",colorField:"type",statistic:{totalLabel:"Total"},label:{visible:!1},legend:{visible:!0,position:"bottom-center"}};return r.a.createElement("div",null,r.a.createElement(Ci.b,t))}function gc(){var e={forceFit:!0,title:{visible:!1,text:"Unicom regional component interaction"},description:{visible:!1,text:"The Unicom area component can be triggered through interaction\u3002 through the triggerOn configuration item to set the trigger event of the Unicom area component\u3002 only display the Unicom area of \u200b\u200bone stacked field at a time\u3002"},padding:"auto",data:[{year:"2006",type:"redDeliciou",value:10},{year:"2006",type:"mcintosh",value:15},{year:"2006",type:"oranges",value:9},{year:"2006",type:"pears",value:6},{year:"2007",type:"redDeliciou",value:12},{year:"2007",type:"mcintosh",value:18},{year:"2007",type:"oranges",value:9},{year:"2007",type:"pears",value:4},{year:"2008",type:"redDeliciou",value:5},{year:"2008",type:"mcintosh",value:20},{year:"2008",type:"oranges",value:8},{year:"2008",type:"pears",value:2},{year:"2009",type:"redDeliciou",value:1},{year:"2009",type:"mcintosh",value:15},{year:"2009",type:"oranges",value:5},{year:"2009",type:"pears",value:4},{year:"2010",type:"redDeliciou",value:2},{year:"2010",type:"mcintosh",value:10},{year:"2010",type:"oranges",value:4},{year:"2010",type:"pears",value:2},{year:"2011",type:"redDeliciou",value:3},{year:"2011",type:"mcintosh",value:12},{year:"2011",type:"oranges",value:6},{year:"2011",type:"pears",value:3},{year:"2012",type:"redDeliciou",value:4},{year:"2012",type:"mcintosh",value:15},{year:"2012",type:"oranges",value:8},{year:"2012",type:"pears",value:1},{year:"2013",type:"redDeliciou",value:6},{year:"2013",type:"mcintosh",value:11},{year:"2013",type:"oranges",value:9},{year:"2013",type:"pears",value:4},{year:"2014",type:"redDeliciou",value:10},{year:"2014",type:"mcintosh",value:13},{year:"2014",type:"oranges",value:9},{year:"2014",type:"pears",value:5}],xField:"year",yField:"value",yAxis:{min:0},label:{visible:!1},stackField:"type",Color:["# ae331b","# f27957","#dadada","# 609db7","# 1a6179"],connectedArea:{visible:!0,triggerOn:"mouseenter"}};return r.a.createElement("div",null,r.a.createElement(Ci.g,e))}function hc(e){var t={forceFit:!0,padding:"auto",data:e.data||[{date:"2019-01-01",value:3},{date:"2019-02-01",value:4},{date:"2019-03-01",value:3.5},{date:"2019-04-01",value:5},{date:"2019-05-01",value:4.9},{date:"2019-06-01",value:6},{date:"2019-07-01",value:7},{date:"2019-08-01",value:9},{date:"2019-09-01",value:3},{date:"2019-10-01",value:16},{date:"2019-11-01",value:6},{date:"2019-12-01",value:8}],xField:"date",yField:"value",yAxis:{nice:!0,formatter:function(e){return function(e,t){var a=(""+e).length,n=Math.pow;return t=n(10,t),a-=a%3,Math.round(e*t/n(10,a))/t+" kMGTPE"[a/3]}(e,2)}},label:{visible:!1},color:["#f5cb89"],lineSize:5};return r.a.createElement("div",null,r.a.createElement(Ci.e,t))}var yc=function(e){var t={title:{visible:!0,text:"Grouped histogram"},forceFit:!0,data:[{name:"London",Month:"Jan.",AverageRainfall:18.9},{name:"London",Month:"Feb.",AverageRainfall:28.8},{name:"London",Month:"Mar.",AverageRainfall:39.3},{name:"London",Month:"Apr.",AverageRainfall:81.4},{name:"London",Month:"May",AverageRainfall:47},{name:"London",Month:"Jun.",AverageRainfall:20.3},{name:"London",Month:"Jul.",AverageRainfall:24},{name:"London",Month:"Aug.",AverageRainfall:35.6},{name:"Berlin",Month:"Jan.",AverageRainfall:12.4},{name:"Berlin",Month:"Feb.",AverageRainfall:23.2},{name:"Berlin",Month:"Mar.",AverageRainfall:34.5},{name:"Berlin",Month:"Apr.",AverageRainfall:99.7},{name:"Berlin",Month:"May",AverageRainfall:52.6},{name:"Berlin",Month:"Jun.",AverageRainfall:35.5},{name:"Berlin",Month:"Jul.",AverageRainfall:37.4},{name:"Berlin",Month:"Aug.",AverageRainfall:42.4},{name:"Germany",Month:"Jan.",AverageRainfall:12.4},{name:"Germany",Month:"Feb.",AverageRainfall:23.2},{name:"Germany",Month:"Mar.",AverageRainfall:34.5},{name:"Germany",Month:"Apr.",AverageRainfall:99.7},{name:"Germany",Month:"May",AverageRainfall:52.6},{name:"Germany",Month:"Jun.",AverageRainfall:35.5},{name:"Germany",Month:"Jul.",AverageRainfall:37.4},{name:"Germany",Month:"Aug.",AverageRainfall:42.4}],xField:"Month",yField:"AverageRainfall",yAxis:{min:0},label:{visible:!0},groupField:"name",color:["#1ca9e6","#f88c24","#e74242"]};return r.a.createElement("div",null,r.a.createElement(Ci.d,t))};function Ec(e){var t=e.config||{title:{visible:!0,text:"Grouped bar graph"},data:[{label:"Mon.",type:"series1",value:2800},{label:"Mon.",type:"series2",value:2260},{label:"Mon.",type:"series3",value:3e3},{label:"Mon.",type:"series4",value:3260}],xField:"value",yField:"label",groupField:"type",color:["#1383ab","#c52125"],label:{formatter:function(e){return" ".concat(e," ").replace(/\d{1,3}(?=(\d{3})+$)/g,(function(e){return" $ { s } , "}))}}};return r.a.createElement("div",null,r.a.createElement(Ci.c,t))}function bc(e){var t=e.config||{forceFit:!0,data:[{year:"2006",type:"redDeliciou",value:10},{year:"2006",type:"mcintosh",value:15},{year:"2006",type:"oranges",value:9},{year:"2006",type:"pears",value:6},{year:"2007",type:"redDeliciou",value:12},{year:"2007",type:"mcintosh",value:18},{year:"2007",type:"oranges",value:9},{year:"2007",type:"pears",value:4},{year:"2008",type:"redDeliciou",value:5},{year:"2008",type:"mcintosh",value:20},{year:"2008",type:"oranges",value:8},{year:"2008",type:"pears",value:2},{year:"2009",type:"redDeliciou",value:1},{year:"2009",type:"mcintosh",value:15},{year:"2009",type:"oranges",value:5},{year:"2009",type:"pears",value:4},{year:"2010",type:"redDeliciou",value:2},{year:"2010",type:"mcintosh",value:10},{year:"2010",type:"oranges",value:4},{year:"2010",type:"pears",value:2},{year:"2011",type:"redDeliciou",value:3},{year:"2011",type:"mcintosh",value:12},{year:"2011",type:"oranges",value:6},{year:"2011",type:"pears",value:3},{year:"2012",type:"redDeliciou",value:4},{year:"2012",type:"mcintosh",value:15},{year:"2012",type:"oranges",value:8},{year:"2012",type:"pears",value:1},{year:"2013",type:"redDeliciou",value:6},{year:"2013",type:"mcintosh",value:11},{year:"2013",type:"oranges",value:9},{year:"2013",type:"pears",value:4},{year:"2014",type:"redDeliciou",value:10},{year:"2014",type:"mcintosh",value:13},{year:"2014",type:"oranges",value:9},{year:"2014",type:"pears",value:5}],yField:"year",xField:"value",stackField:"type",label:{offset:0,visible:!0,position:"middle"}};return r.a.createElement("div",null,r.a.createElement(Ci.f,t))}function vc(){return r.a.createElement("div",null,r.a.createElement(pc,null),r.a.createElement(mc,null),r.a.createElement(fc,null),r.a.createElement(gc,null),r.a.createElement(hc,null),r.a.createElement(yc,null),r.a.createElement(ki,null),r.a.createElement(Ec,null),r.a.createElement(bc,null))}var xc=a(429),Sc=function(e){return e.children},Dc=a(669),Oc=a.n(Dc),Cc=a(670),kc=a.n(Cc),Rc=function(e){return e.show?r.a.createElement("div",{className:kc.a.BackDrop,onClick:e.clicked}):null},wc=function(e){Object(lr.a)(a,e);var t=Object(or.a)(a);function a(){return Object(nr.a)(this,a),t.apply(this,arguments)}return Object(rr.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){return e.show!==this.props.show||e.children!==this.props.children}},{key:"render",value:function(){return r.a.createElement(Sc,null,r.a.createElement(Rc,{show:this.props.show,clicked:this.props.modalClosed}),r.a.createElement("div",{className:Oc.a.Modal,style:{transform:this.props.show?"translateY(0)":"translateY(-500vh)",opacity:this.props.show?"1":"0"}},this.props.children))}}]),a}(r.a.Component),jc=a(97),Ic=(Object(jc.a)(),function(e){Object(lr.a)(a,e);var t=Object(or.a)(a);function a(){var e;Object(nr.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={error:null},e.errorConfirmedHandler=function(){e.state.error&&e.state.error.response&&401===e.state.error.response.status&&Xr(e.props,!1),e.setState({error:null})},e}return Object(rr.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.cookies;wt.interceptors.request.use(function(){var a=Object(ut.a)(m.a.mark((function a(n){return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e.setState({error:null}),!t.get("Authorization")){a.next=5;break}return n.headers.Authorization="Bearer ".concat(t.get("Authorization")),n.headers["x-api-key"]=t.get("x-api-key"),a.abrupt("return",n);case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()),wt.interceptors.response.use((function(e){return e}),(function(t){return e.setState({error:t}),Promise.reject(t)}))}},{key:"render",value:function(){return r.a.createElement(Sc,null,r.a.createElement(wc,{show:this.state.error,modalClosed:this.errorConfirmedHandler},this.state.error&&this.state.error.response?this.state.error.response.data.message?this.state.error.response.data.message:this.state.error.message:null))}}]),a}(r.a.Component)),Tc=Object(s.b)((function(e){return{login:e.login}}),(function(e){return{logout:function(){return e(vr())}}}))(Object(fr.a)(Ic)),Ac=function(e){Object(lr.a)(a,e);var t=Object(or.a)(a);function a(){return Object(nr.a)(this,a),t.apply(this,arguments)}return Object(rr.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(Tc,null),r.a.createElement(xc.a,null,r.a.createElement("div",null,r.a.createElement(dr,{exact:!0,path:"/dashboard",component:ec}),r.a.createElement(dr,{exact:!0,path:"/userSettings",component:dc}),r.a.createElement(dr,{exact:!0,path:"/charts",component:vc}),r.a.createElement(cr.b,{exact:!0,path:"/",component:Er}))))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Pc=a(1305);o.a.render(r.a.createElement(s.a,{store:tr},r.a.createElement(i.a,{loading:null,persistor:ar},r.a.createElement(Pc.a,null,r.a.createElement(Ac,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},661:function(e,t,a){e.exports={CardContainer:"CardContainer_CardContainer__3hNCm"}},669:function(e,t,a){e.exports={Modal:"Modal_Modal__1I1jb"}},670:function(e,t,a){e.exports={BackDrop:"BackDrop_BackDrop__136pA"}},747:function(e,t,a){e.exports=a(1294)},773:function(e,t,a){},774:function(e,t,a){},782:function(e,t){},784:function(e,t){},796:function(e,t){},798:function(e,t){},825:function(e,t){},827:function(e,t){},828:function(e,t){},834:function(e,t){},836:function(e,t){},854:function(e,t){},857:function(e,t){},873:function(e,t){},876:function(e,t){},902:function(e,t,a){},997:function(e,t,a){}},[[747,1,2]]]);
//# sourceMappingURL=main.0bb3ccf8.chunk.js.map